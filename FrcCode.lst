MP2COD 3.90, COFF to COD File Converter
Copyright (c) 2004 Microchip Technology Inc.
Listing File Generated: Sun Jan 13 14:39:02 2008


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /******************************************************************************* C:\2007 final code\main.c
                                           * FILE NAME: main.c <FRC VERSION>                                                C:\2007 final code\main.c
                                           *                                                                                C:\2007 final code\main.c
                                           * DESCRIPTION:                                                                   C:\2007 final code\main.c
                                           *  This file contains the main program loop.                                     C:\2007 final code\main.c
                                           *                                                                                C:\2007 final code\main.c
                                           * USAGE:                                                                         C:\2007 final code\main.c
                                           *  You should not need to modify this file.                                      C:\2007 final code\main.c
                                           *  Note the different loop speed for the two routines:                           C:\2007 final code\main.c
                                           *     Process_Data_From_Master_uP                                                C:\2007 final code\main.c
                                           *     Process_Data_From_Local_IO                                                 C:\2007 final code\main.c
                                           *******************************************************************************/ C:\2007 final code\main.c
                                                                                                                            C:\2007 final code\main.c
                                           #include <stdio.h>                                                               C:\2007 final code\main.c
                                           #include "ifi_aliases.h"                                                         C:\2007 final code\main.c
                                           #include "ifi_default.h"                                                         C:\2007 final code\main.c
                                           #include "ifi_utilities.h"                                                       C:\2007 final code\main.c
                                           #include "user_routines.h"                                                       C:\2007 final code\main.c
                                           #include "encoder.h"                                                             C:\2007 final code\main.c
                                                                                                                            C:\2007 final code\main.c
                                           tx_data_record txdata;          /* DO NOT CHANGE! */                             C:\2007 final code\main.c
                                           rx_data_record rxdata;          /* DO NOT CHANGE! */                             C:\2007 final code\main.c
                                           packed_struct statusflag;       /* DO NOT CHANGE! */                             C:\2007 final code\main.c
                                                                                                                            C:\2007 final code\main.c
                                           /******************************************************************************* C:\2007 final code\main.c
                                           * FUNCTION NAME: main                                                            C:\2007 final code\main.c
                                           * PURPOSE:       Main program function.                                          C:\2007 final code\main.c
                                           * CALLED FROM:   ifi_startup.c                                                   C:\2007 final code\main.c
                                           * ARGUMENTS:     none                                                            C:\2007 final code\main.c
                                           * RETURNS:       void                                                            C:\2007 final code\main.c
                                           * DO NOT DELETE THIS FUNCTION                                                    C:\2007 final code\main.c
                                           *******************************************************************************/ C:\2007 final code\main.c
007148   cfd9     MOVFF     0xfd9,0xfe6    void main (void)                                                                 C:\2007 final code\main.c
00714a   ffe6                                                                                                               
00714c   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00714e   ffd9                                                                                                               
007150   0e05     MOVLW     0x5                                                                                             
007152   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\main.c
                                              unsigned int idle_counter_1; // psh                                           C:\2007 final code\main.c
                                              unsigned int idle_counter_2; // psh                                           C:\2007 final code\main.c
007154   0e0a     MOVLW     0xa               unsigned char print_counter = 10; // elf                                      C:\2007 final code\main.c
007156   6ef3     MOVWF     0xf3,0x0                                                                                        
007158   0e04     MOVLW     0x4                                                                                             
00715a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00715c   ffdb                                                                                                               
                                                                                                                            C:\2007 final code\main.c
                                           #ifdef UNCHANGEABLE_DEFINITION_AREA                                              C:\2007 final code\main.c
00715e   ecd8     CALL      0x3bb0,0x0       IFI_Initialization ();        /* DO NOT CHANGE! */                             C:\2007 final code\main.c
007160   f01d                                                                                                               
                                           #endif                                                                           C:\2007 final code\main.c
                                                                                                                            C:\2007 final code\main.c
007162   ec10     CALL      0x5220,0x0       User_Initialization();        /* You edit this in user_routines.c */           C:\2007 final code\main.c
007164   f029                                                                                                               
                                                                                                                            C:\2007 final code\main.c
007166   0102     MOVLB     0x2              statusflag.NEW_SPI_DATA = 0;  /* DO NOT CHANGE! */                             C:\2007 final code\main.c
007168   91fd     BCF       0xfd,0x0,0x1                                                                                    
                                                                                                                            C:\2007 final code\main.c
00716a   6ade     CLRF      0xde,0x0         idle_counter_1 = 0; // psh: Initialize                                         C:\2007 final code\main.c
00716c   6add     CLRF      0xdd,0x0                                                                                        
00716e   0e02     MOVLW     0x2              idle_counter_2 = 0; // psh: initialize                                         C:\2007 final code\main.c
007170   6adb     CLRF      0xdb,0x0                                                                                        
007172   0e03     MOVLW     0x3                                                                                             
007174   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            C:\2007 final code\main.c
00718e   d7f3     BRA       0x7176           while (1)   /* This loop will repeat indefinitely. */                          C:\2007 final code\main.c
                                             {                                                                              C:\2007 final code\main.c
                                           #ifdef _SIMULATOR                                                                C:\2007 final code\main.c
                                               statusflag.NEW_SPI_DATA = 1;                                                 C:\2007 final code\main.c
                                           #endif                                                                           C:\2007 final code\main.c
                                                                                                                            C:\2007 final code\main.c
                                                                                                                            C:\2007 final code\main.c
007176   0102     MOVLB     0x2                if (statusflag.NEW_SPI_DATA)      /* 26.2ms loop area */                     C:\2007 final code\main.c
007178   a1fd     BTFSS     0xfd,0x0,0x1                                                                                    
00717a   d007     BRA       0x718a                                                                                          
                                               {                                 /* I'm slow!  I only execute every 26.2ms because */ C:\2007 final code\main.c
                                                                                 /* that's how fast the Master uP gives me data. */ C:\2007 final code\main.c
00717c   ec5d     CALL      0x52ba,0x0           Process_Data_From_Master_uP();  /* You edit this in user_routines.c */     C:\2007 final code\main.c
00717e   f029                                                                                                               
                                                                                                                            C:\2007 final code\main.c
007180   0102     MOVLB     0x2                  if (autonomous_mode)            /* DO NOT CHANGE! */                       C:\2007 final code\main.c
007182   adde     BTFSS     0xde,0x6,0x1                                                                                    
007184   d002     BRA       0x718a                                                                                          
                                                 {                                                                          C:\2007 final code\main.c
007186   ec1b     CALL      0x5e36,0x0             User_Autonomous_Code();        /* You edit this in user_routines_fast.c */ C:\2007 final code\main.c
007188   f02f                                                                                                               
                                                 }                                                                          C:\2007 final code\main.c
                                               }                                                                            C:\2007 final code\main.c
00718a   ecfa     CALL      0x5ff4,0x0         Process_Data_From_Local_IO();     /* You edit this in user_routines_fast.c */ C:\2007 final code\main.c
00718c   f02f                                                                                                               
                                           /*                                                                               C:\2007 final code\main.c
                                           	print_counter++;                                                                C:\2007 final code\main.c
                                               if (print_counter >= 10)                                                     C:\2007 final code\main.c
                                           	{                                                                               C:\2007 final code\main.c
                                           		print_counter = 0;                                                             C:\2007 final code\main.c
                                           		printf("main: autonomous mode = %d", autonomous_mode);                         C:\2007 final code\main.c
                                           		printf("   statusflag.NEW_SPI_DATA = %d\r", statusflag.NEW_SPI_DATA);          C:\2007 final code\main.c
                                           	}                                                                               C:\2007 final code\main.c
                                           */                                                                               C:\2007 final code\main.c
                                           /*                                                                               C:\2007 final code\main.c
                                               if (++idle_counter_1 == 0x8fff) {                                            C:\2007 final code\main.c
                                           	  idle_counter_1 = 0;                                                           C:\2007 final code\main.c
                                           	  idle_counter_2++;                                                             C:\2007 final code\main.c
                                           	  if (!(idle_counter_2 % 4)) {                                                  C:\2007 final code\main.c
                                           		printf("main: statusflag.NEW_SPI_DATA = %d\r", statusflag.NEW_SPI_DATA);       C:\2007 final code\main.c
                                           	    printf("psh Idle counter %u, encoder 1 value %l, encoder 2 value %l\r", idle_counter_2, C:\2007 final code\main.c
                                           						Get_Encoder_1_Count(), Get_Encoder_2_Count());                             C:\2007 final code\main.c
                                           	  }                                                                             C:\2007 final code\main.c
                                           	}                                                                               C:\2007 final code\main.c
                                           */                                                                               C:\2007 final code\main.c
                                             } /* while (1) */                                                              C:\2007 final code\main.c
                                           }  /* END of Main */                                                             C:\2007 final code\main.c
                                                                                                                            C:\2007 final code\main.c
                                                                                                                            C:\2007 final code\main.c
                                           /******************************************************************************/ C:\2007 final code\main.c
                                           /******************************************************************************/ C:\2007 final code\main.c
                                           /******************************************************************************/ C:\2007 final code\main.c
                                           /******************************************************************************* C:\2007 final code\user_routines_fast.c
                                           * FILE NAME: user_routines_fast.c <FRC VERSION>                                  C:\2007 final code\user_routines_fast.c
                                           *                                                                                C:\2007 final code\user_routines_fast.c
                                           * DESCRIPTION:                                                                   C:\2007 final code\user_routines_fast.c
                                           *  This file is where the user can add their custom code within the framework    C:\2007 final code\user_routines_fast.c
                                           *  of the routines below.                                                        C:\2007 final code\user_routines_fast.c
                                           *                                                                                C:\2007 final code\user_routines_fast.c
                                           * USAGE:                                                                         C:\2007 final code\user_routines_fast.c
                                           *  You can either modify this file to fit your needs, or remove it from your     C:\2007 final code\user_routines_fast.c
                                           *  project and replace it with a modified copy.                                  C:\2007 final code\user_routines_fast.c
                                           *                                                                                C:\2007 final code\user_routines_fast.c
                                           * OPTIONS:  Interrupts are disabled and not used by default.                     C:\2007 final code\user_routines_fast.c
                                           *                                                                                C:\2007 final code\user_routines_fast.c
                                           *******************************************************************************/ C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                           #include "ifi_aliases.h"                                                         C:\2007 final code\user_routines_fast.c
                                           #include "ifi_default.h"                                                         C:\2007 final code\user_routines_fast.c
                                           #include "ifi_utilities.h"                                                       C:\2007 final code\user_routines_fast.c
                                           #include "user_routines.h"                                                       C:\2007 final code\user_routines_fast.c
                                           #include "serial_ports.h"                                                        C:\2007 final code\user_routines_fast.c
                                           #include "calibrate.h"                                                           C:\2007 final code\user_routines_fast.c
                                           #include "encoder.h"                                                             C:\2007 final code\user_routines_fast.c
                                           #include "autonomous_166.h"                                                      C:\2007 final code\user_routines_fast.c
                                           #include "manipulator.h"                                                         C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                           /*** DEFINE USER VARIABLES AND INITIALIZE THEM HERE ***/                         C:\2007 final code\user_routines_fast.c
                                           unsigned char autonomous_goal = GOAL_CENTER;  	// default                        C:\2007 final code\user_routines_fast.c
                                           unsigned char auto_manip_position = 4; 			// middle position                     C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                           /******************************************************************************* C:\2007 final code\user_routines_fast.c
                                           * FUNCTION NAME: InterruptVectorLow                                              C:\2007 final code\user_routines_fast.c
                                           * PURPOSE:       Low priority interrupt vector                                   C:\2007 final code\user_routines_fast.c
                                           * CALLED FROM:   nowhere by default                                              C:\2007 final code\user_routines_fast.c
                                           * ARGUMENTS:     none                                                            C:\2007 final code\user_routines_fast.c
                                           * RETURNS:       void                                                            C:\2007 final code\user_routines_fast.c
                                           * DO NOT MODIFY OR DELETE THIS FUNCTION                                          C:\2007 final code\user_routines_fast.c
                                           *******************************************************************************/ C:\2007 final code\user_routines_fast.c
                                           #pragma code InterruptVectorLow = LOW_INT_VECTOR                                 C:\2007 final code\user_routines_fast.c
                                           void InterruptVectorLow (void)                                                   C:\2007 final code\user_routines_fast.c
                                           {                                                                                C:\2007 final code\user_routines_fast.c
                                             _asm                                                                           C:\2007 final code\user_routines_fast.c
000818   ef70     GOTO      0x5ce0             goto InterruptHandlerLow  /*jump to interrupt routine*/                      C:\2007 final code\user_routines_fast.c
00081a   f02e                                                                                                               
                                             _endasm                                                                        C:\2007 final code\user_routines_fast.c
00081c   0012     RETURN    0x0            }                                                                                C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                           /******************************************************************************* C:\2007 final code\user_routines_fast.c
                                           * FUNCTION NAME: InterruptHandlerLow                                             C:\2007 final code\user_routines_fast.c
                                           * PURPOSE:       Low priority interrupt handler                                  C:\2007 final code\user_routines_fast.c
                                           * If you want to use these external low priority interrupts or any of the        C:\2007 final code\user_routines_fast.c
                                           * peripheral interrupts then you must enable them in your initialization         C:\2007 final code\user_routines_fast.c
                                           * routine.  Innovation First, Inc. will not provide support for using these      C:\2007 final code\user_routines_fast.c
                                           * interrupts, so be careful.  There is great potential for glitchy code if good  C:\2007 final code\user_routines_fast.c
                                           * interrupt programming practices are not followed.  Especially read p. 28 of    C:\2007 final code\user_routines_fast.c
                                           * the "MPLAB(R) C18 C Compiler User's Guide" for information on context saving.  C:\2007 final code\user_routines_fast.c
                                           * CALLED FROM:   this file, InterruptVectorLow routine                           C:\2007 final code\user_routines_fast.c
                                           * ARGUMENTS:     none                                                            C:\2007 final code\user_routines_fast.c
                                           * RETURNS:       void                                                            C:\2007 final code\user_routines_fast.c
                                           *******************************************************************************/ C:\2007 final code\user_routines_fast.c
                                           #pragma code                                                                     C:\2007 final code\user_routines_fast.c
                                           #pragma interruptlow InterruptHandlerLow save=PROD /* You may want to save additional symbols. */ C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
005ce0   cfd8     MOVFF     0xfd8,0xfe4    void InterruptHandlerLow ()                                                      C:\2007 final code\user_routines_fast.c
005ce2   ffe4                                                                                                               
005ce4   cfe0     MOVFF     0xfe0,0xfe4                                                                                     
005ce6   ffe4                                                                                                               
005ce8   6ee4     MOVWF     0xe4,0x0                                                                                        
005cea   cfda     MOVFF     0xfda,0xfe4                                                                                     
005cec   ffe4                                                                                                               
005cee   cfe2     MOVFF     0xfe2,0xfda                                                                                     
005cf0   ffda                                                                                                               
005cf2   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
005cf4   ffe4                                                                                                               
005cf6   cfea     MOVFF     0xfea,0xfe4                                                                                     
005cf8   ffe4                                                                                                               
005cfa   cff3     MOVFF     0xff3,0xfe4                                                                                     
005cfc   ffe4                                                                                                               
005cfe   cff4     MOVFF     0xff4,0xfe4                                                                                     
005d00   ffe4                                                                                                               
005d02   52e6     MOVF      0xe6,0x1,0x0                                                                                    
005d04   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
005d06   ffe6                                                                                                               
005d08   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
005d0a   ffd9                                                                                                               
005d0c   0e02     MOVLW     0x2                                                                                             
005d0e   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\user_routines_fast.c
                                           #if 0 // psh: disable this for support of encoder interrupts                     C:\2007 final code\user_routines_fast.c
                                             unsigned char int_byte;                                                        C:\2007 final code\user_routines_fast.c
                                             if (INTCON3bits.INT2IF && INTCON3bits.INT2IE)       /* The INT2 pin is RB2/DIG I/O 1. */ C:\2007 final code\user_routines_fast.c
                                             {                                                                              C:\2007 final code\user_routines_fast.c
                                               INTCON3bits.INT2IF = 0;                                                      C:\2007 final code\user_routines_fast.c
                                             }                                                                              C:\2007 final code\user_routines_fast.c
                                             else if (INTCON3bits.INT3IF && INTCON3bits.INT3IE)  /* The INT3 pin is RB3/DIG I/O 2. */ C:\2007 final code\user_routines_fast.c
                                             {                                                                              C:\2007 final code\user_routines_fast.c
                                               INTCON3bits.INT3IF = 0;                                                      C:\2007 final code\user_routines_fast.c
                                             }                                                                              C:\2007 final code\user_routines_fast.c
                                             else if (INTCONbits.RBIF && INTCONbits.RBIE)  /* DIG I/O 3-6 (RB4, RB5, RB6, or RB7) changed. */ C:\2007 final code\user_routines_fast.c
                                             {                                                                              C:\2007 final code\user_routines_fast.c
                                               int_byte = PORTB;          /* You must read or write to PORTB */             C:\2007 final code\user_routines_fast.c
                                               INTCONbits.RBIF = 0;     /*     and clear the interrupt flag         */      C:\2007 final code\user_routines_fast.c
                                             }                                        /*     to clear the interrupt condition.  */ C:\2007 final code\user_routines_fast.c
                                             else                                                                           C:\2007 final code\user_routines_fast.c
                                             {                                                                              C:\2007 final code\user_routines_fast.c
                                               CheckUartInts();    /* For Dynamic Debug Tool or buffered printf features. */ C:\2007 final code\user_routines_fast.c
                                             }                                                                              C:\2007 final code\user_routines_fast.c
                                           #else                                                                            C:\2007 final code\user_routines_fast.c
                                           	unsigned char Port_B;                                                           C:\2007 final code\user_routines_fast.c
                                           	unsigned char Port_B_Delta;                                                     C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
005d10   509e     MOVF      0x9e,0x0,0x0   	if (PIR1bits.RC1IF && PIE1bits.RC1IE) // rx1 interrupt?                         C:\2007 final code\user_routines_fast.c
005d12   0b20     ANDLW     0x20                                                                                            
005d14   e006     BZ        0x5d22                                                                                          
005d16   509d     MOVF      0x9d,0x0,0x0                                                                                    
005d18   0b20     ANDLW     0x20                                                                                            
005d1a   e003     BZ        0x5d22                                                                                          
                                           	{                                                                               C:\2007 final code\user_routines_fast.c
                                           		#ifdef ENABLE_SERIAL_PORT_ONE_RX                                               C:\2007 final code\user_routines_fast.c
005d1c   ec2f     CALL      0x645e,0x0     		Rx_1_Int_Handler(); // call the rx1 interrupt handler (in serial_ports.c)      C:\2007 final code\user_routines_fast.c
005d1e   f032                                                                                                               
                                           		#endif                                                                         C:\2007 final code\user_routines_fast.c
                                           	}                                                                               C:\2007 final code\user_routines_fast.c
005d20   d074     BRA       0x5e0a         	else if (PIR3bits.RC2IF && PIE3bits.RC2IE) // rx2 interrupt?                    C:\2007 final code\user_routines_fast.c
005d22   50a4     MOVF      0xa4,0x0,0x0                                                                                    
005d24   0b20     ANDLW     0x20                                                                                            
005d26   e006     BZ        0x5d34                                                                                          
005d28   50a3     MOVF      0xa3,0x0,0x0                                                                                    
005d2a   0b20     ANDLW     0x20                                                                                            
005d2c   e003     BZ        0x5d34                                                                                          
                                           	{                                                                               C:\2007 final code\user_routines_fast.c
                                           		#ifdef ENABLE_SERIAL_PORT_TWO_RX                                               C:\2007 final code\user_routines_fast.c
005d2e   ec4e     CALL      0x649c,0x0     		Rx_2_Int_Handler(); // call the rx2 interrupt handler (in serial_ports.c)      C:\2007 final code\user_routines_fast.c
005d30   f032                                                                                                               
                                           		#endif                                                                         C:\2007 final code\user_routines_fast.c
                                           	}                                                                               C:\2007 final code\user_routines_fast.c
005d32   d06b     BRA       0x5e0a         	else if (PIR1bits.TX1IF && PIE1bits.TX1IE) // tx1 interrupt?                    C:\2007 final code\user_routines_fast.c
005d34   509e     MOVF      0x9e,0x0,0x0                                                                                    
005d36   0b10     ANDLW     0x10                                                                                            
005d38   e006     BZ        0x5d46                                                                                          
005d3a   509d     MOVF      0x9d,0x0,0x0                                                                                    
005d3c   0b10     ANDLW     0x10                                                                                            
005d3e   e003     BZ        0x5d46                                                                                          
                                           	{                                                                               C:\2007 final code\user_routines_fast.c
                                           		#ifdef ENABLE_SERIAL_PORT_ONE_TX                                               C:\2007 final code\user_routines_fast.c
005d40   ec6d     CALL      0x64da,0x0     		Tx_1_Int_Handler(); // call the tx1 interrupt handler (in serial_ports.c)      C:\2007 final code\user_routines_fast.c
005d42   f032                                                                                                               
                                           		#endif                                                                         C:\2007 final code\user_routines_fast.c
                                           	}                                                                               C:\2007 final code\user_routines_fast.c
005d44   d062     BRA       0x5e0a         	else if (PIR3bits.TX2IF && PIE3bits.TX2IE) // tx2 interrupt?                    C:\2007 final code\user_routines_fast.c
005d46   50a4     MOVF      0xa4,0x0,0x0                                                                                    
005d48   0b10     ANDLW     0x10                                                                                            
005d4a   e006     BZ        0x5d58                                                                                          
005d4c   50a3     MOVF      0xa3,0x0,0x0                                                                                    
005d4e   0b10     ANDLW     0x10                                                                                            
005d50   e003     BZ        0x5d58                                                                                          
                                           	{                                                                               C:\2007 final code\user_routines_fast.c
                                           		#ifdef ENABLE_SERIAL_PORT_TWO_TX                                               C:\2007 final code\user_routines_fast.c
005d52   ec85     CALL      0x650a,0x0     		Tx_2_Int_Handler(); // call the tx2 interrupt handler (in serial_ports.c)      C:\2007 final code\user_routines_fast.c
005d54   f032                                                                                                               
                                           		#endif                                                                         C:\2007 final code\user_routines_fast.c
                                           	}                                                                               C:\2007 final code\user_routines_fast.c
005d56   d059     BRA       0x5e0a         	else if (INTCON3bits.INT2IF && INTCON3bits.INT2IE) // encoder 1 interrupt?      C:\2007 final code\user_routines_fast.c
005d58   50f0     MOVF      0xf0,0x0,0x0                                                                                    
005d5a   0b02     ANDLW     0x2                                                                                             
005d5c   e007     BZ        0x5d6c                                                                                          
005d5e   50f0     MOVF      0xf0,0x0,0x0                                                                                    
005d60   0b10     ANDLW     0x10                                                                                            
005d62   e004     BZ        0x5d6c                                                                                          
                                           	{                                                                               C:\2007 final code\user_routines_fast.c
005d64   92f0     BCF       0xf0,0x1,0x0   		INTCON3bits.INT2IF = 0; // clear the interrupt flag                            C:\2007 final code\user_routines_fast.c
                                           		#ifdef ENABLE_ENCODER_1                                                        C:\2007 final code\user_routines_fast.c
005d66   ece4     CALL      0x65c8,0x0     		Encoder_1_Int_Handler(); // call the left encoder interrupt handler (in encoder.c) C:\2007 final code\user_routines_fast.c
005d68   f032                                                                                                               
                                           		#endif                                                                         C:\2007 final code\user_routines_fast.c
                                           	}                                                                               C:\2007 final code\user_routines_fast.c
005d6a   d04f     BRA       0x5e0a         	else if (INTCON3bits.INT3IF && INTCON3bits.INT3IE) // encoder 2 interrupt?      C:\2007 final code\user_routines_fast.c
005d6c   50f0     MOVF      0xf0,0x0,0x0                                                                                    
005d6e   0b04     ANDLW     0x4                                                                                             
005d70   e007     BZ        0x5d80                                                                                          
005d72   50f0     MOVF      0xf0,0x0,0x0                                                                                    
005d74   0b20     ANDLW     0x20                                                                                            
005d76   e004     BZ        0x5d80                                                                                          
                                           	{                                                                               C:\2007 final code\user_routines_fast.c
005d78   94f0     BCF       0xf0,0x2,0x0   		INTCON3bits.INT3IF = 0; // clear the interrupt flag                            C:\2007 final code\user_routines_fast.c
                                           		#ifdef ENABLE_ENCODER_2                                                        C:\2007 final code\user_routines_fast.c
005d7a   ec0b     CALL      0x6616,0x0     		Encoder_2_Int_Handler(); // call right encoder interrupt handler (in encoder.c) C:\2007 final code\user_routines_fast.c
005d7c   f033                                                                                                               
                                           		#endif                                                                         C:\2007 final code\user_routines_fast.c
                                           	}                                                                               C:\2007 final code\user_routines_fast.c
005d7e   d045     BRA       0x5e0a         	else if (INTCONbits.RBIF && INTCONbits.RBIE) // encoder 3-6 interrupt?          C:\2007 final code\user_routines_fast.c
005d80   50f2     MOVF      0xf2,0x0,0x0                                                                                    
005d82   0b01     ANDLW     0x1                                                                                             
005d84   e042     BZ        0x5e0a                                                                                          
005d86   50f2     MOVF      0xf2,0x0,0x0                                                                                    
005d88   0b08     ANDLW     0x8                                                                                             
005d8a   e03f     BZ        0x5e0a                                                                                          
                                           	{                                                                               C:\2007 final code\user_routines_fast.c
005d8c   5081     MOVF      0x81,0x0,0x0   		Port_B = PORTB; // remove the "mismatch condition" by reading port b             C:\2007 final code\user_routines_fast.c
005d8e   6edf     MOVWF     0xdf,0x0                                                                                        
005d90   90f2     BCF       0xf2,0x0,0x0   		INTCONbits.RBIF = 0; // clear the interrupt flag                               C:\2007 final code\user_routines_fast.c
005d92   50df     MOVF      0xdf,0x0,0x0   		Port_B_Delta = Port_B ^ Old_Port_B; // determine which bits have changed       C:\2007 final code\user_routines_fast.c
005d94   0103     MOVLB     0x3                                                                                             
005d96   19ac     XORWF     0xac,0x0,0x1                                                                                    
005d98   6ee7     MOVWF     0xe7,0x0                                                                                        
005d9a   0e01     MOVLW     0x1                                                                                             
005d9c   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
005d9e   ffdb                                                                                                               
005da0   cfdf     MOVFF     0xfdf,0x3ac    		Old_Port_B = Port_B; // save a copy of port b for next time around             C:\2007 final code\user_routines_fast.c
005da2   f3ac                                                                                                               
                                           	                                                                                C:\2007 final code\user_routines_fast.c
005da4   a8db     BTFSS     0xdb,0x4,0x0   		if(Port_B_Delta & 0x10) // did external interrupt 3 change state?              C:\2007 final code\user_routines_fast.c
005da6   d00a     BRA       0x5dbc                                                                                          
                                           		{                                                                              C:\2007 final code\user_routines_fast.c
                                           			#ifdef ENABLE_ENCODER_3                                                       C:\2007 final code\user_routines_fast.c
005da8   0e10     MOVLW     0x10           			Encoder_3_Int_Handler(Port_B & 0x10 ? 1 : 0); // call the encoder 3 interrupt handler (in encoder.c) C:\2007 final code\user_routines_fast.c
005daa   14df     ANDWF     0xdf,0x0,0x0                                                                                    
005dac   e002     BZ        0x5db2                                                                                          
005dae   0e01     MOVLW     0x1                                                                                             
005db0   d001     BRA       0x5db4                                                                                          
005db2   0e00     MOVLW     0x0                                                                                             
005db4   6ee6     MOVWF     0xe6,0x0                                                                                        
005db6   ec32     CALL      0x6664,0x0                                                                                      
005db8   f033                                                                                                               
005dba   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           			#endif                                                                        C:\2007 final code\user_routines_fast.c
                                           		}                                                                              C:\2007 final code\user_routines_fast.c
005dbc   0e01     MOVLW     0x1            		if(Port_B_Delta & 0x20) // did external interrupt 4 change state?              C:\2007 final code\user_routines_fast.c
005dbe   aadb     BTFSS     0xdb,0x5,0x0                                                                                    
005dc0   d00a     BRA       0x5dd6                                                                                          
                                           		{                                                                              C:\2007 final code\user_routines_fast.c
                                           			#ifdef ENABLE_ENCODER_4                                                       C:\2007 final code\user_routines_fast.c
005dc2   0e20     MOVLW     0x20           			Encoder_4_Int_Handler(Port_B & 0x20 ? 1 : 0); // call the encoder 4 interrupt handler (in encoder.c) C:\2007 final code\user_routines_fast.c
005dc4   14df     ANDWF     0xdf,0x0,0x0                                                                                    
005dc6   e002     BZ        0x5dcc                                                                                          
005dc8   0e01     MOVLW     0x1                                                                                             
005dca   d001     BRA       0x5dce                                                                                          
005dcc   0e00     MOVLW     0x0                                                                                             
005dce   6ee6     MOVWF     0xe6,0x0                                                                                        
005dd0   ec5f     CALL      0x66be,0x0                                                                                      
005dd2   f033                                                                                                               
005dd4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           			#endif                                                                        C:\2007 final code\user_routines_fast.c
                                           		}                                                                              C:\2007 final code\user_routines_fast.c
005dd6   0e01     MOVLW     0x1            		if(Port_B_Delta & 0x40) // did external interrupt 5 change state?              C:\2007 final code\user_routines_fast.c
005dd8   acdb     BTFSS     0xdb,0x6,0x0                                                                                    
005dda   d00a     BRA       0x5df0                                                                                          
                                           		{                                                                              C:\2007 final code\user_routines_fast.c
                                           			#ifdef ENABLE_ENCODER_5                                                       C:\2007 final code\user_routines_fast.c
005ddc   0e40     MOVLW     0x40           			Encoder_5_Int_Handler(Port_B & 0x40 ? 1 : 0); // call the encoder 5 interrupt handler (in encoder.c) C:\2007 final code\user_routines_fast.c
005dde   14df     ANDWF     0xdf,0x0,0x0                                                                                    
005de0   e002     BZ        0x5de6                                                                                          
005de2   0e01     MOVLW     0x1                                                                                             
005de4   d001     BRA       0x5de8                                                                                          
005de6   0e00     MOVLW     0x0                                                                                             
005de8   6ee6     MOVWF     0xe6,0x0                                                                                        
005dea   ec8c     CALL      0x6718,0x0                                                                                      
005dec   f033                                                                                                               
005dee   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           			#endif                                                                        C:\2007 final code\user_routines_fast.c
                                           		}                                                                              C:\2007 final code\user_routines_fast.c
005df0   0e01     MOVLW     0x1            		if(Port_B_Delta & 0x80) // did external interrupt 6 change state?              C:\2007 final code\user_routines_fast.c
005df2   aedb     BTFSS     0xdb,0x7,0x0                                                                                    
005df4   d00a     BRA       0x5e0a                                                                                          
                                           		{                                                                              C:\2007 final code\user_routines_fast.c
                                           			#ifdef ENABLE_ENCODER_6                                                       C:\2007 final code\user_routines_fast.c
005df6   0e80     MOVLW     0x80           			Encoder_6_Int_Handler(Port_B & 0x80 ? 1 : 0); // call the encoder 6 interrupt handler (in encoder.c) C:\2007 final code\user_routines_fast.c
005df8   14df     ANDWF     0xdf,0x0,0x0                                                                                    
005dfa   e002     BZ        0x5e00                                                                                          
005dfc   0e01     MOVLW     0x1                                                                                             
005dfe   d001     BRA       0x5e02                                                                                          
005e00   0e00     MOVLW     0x0                                                                                             
005e02   6ee6     MOVWF     0xe6,0x0                                                                                        
005e04   ecb9     CALL      0x6772,0x0                                                                                      
005e06   f033                                                                                                               
005e08   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           			#endif                                                                        C:\2007 final code\user_routines_fast.c
                                           		}                                                                              C:\2007 final code\user_routines_fast.c
                                           	}                                                                               C:\2007 final code\user_routines_fast.c
                                           #endif // psh: end new code                                                      C:\2007 final code\user_routines_fast.c
005e0a   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\user_routines_fast.c
005e0c   ffe1                                                                                                               
005e0e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005e10   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
005e12   ffd9                                                                                                               
005e14   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005e16   cfe5     MOVFF     0xfe5,0xff4                                                                                     
005e18   fff4                                                                                                               
005e1a   cfe5     MOVFF     0xfe5,0xff3                                                                                     
005e1c   fff3                                                                                                               
005e1e   cfe5     MOVFF     0xfe5,0xfea                                                                                     
005e20   ffea                                                                                                               
005e22   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
005e24   ffe9                                                                                                               
005e26   cfe5     MOVFF     0xfe5,0xfda                                                                                     
005e28   ffda                                                                                                               
005e2a   50e5     MOVF      0xe5,0x0,0x0                                                                                    
005e2c   cfe5     MOVFF     0xfe5,0xfe0                                                                                     
005e2e   ffe0                                                                                                               
005e30   cfe5     MOVFF     0xfe5,0xfd8                                                                                     
005e32   ffd8                                                                                                               
005e34   0010     RETFIE    0x0                                                                                             
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                           /******************************************************************************* C:\2007 final code\user_routines_fast.c
                                           * FUNCTION NAME: User_Autonomous_Code                                            C:\2007 final code\user_routines_fast.c
                                           * PURPOSE:       Execute user's code during autonomous robot operation.          C:\2007 final code\user_routines_fast.c
                                           * You should modify this routine by adding code which you wish to run in         C:\2007 final code\user_routines_fast.c
                                           * autonomous mode.  It will be executed every program loop, and not              C:\2007 final code\user_routines_fast.c
                                           * wait for or use any data from the Operator Interface.                          C:\2007 final code\user_routines_fast.c
                                           * CALLED FROM:   main.c file, main() routine when in Autonomous mode             C:\2007 final code\user_routines_fast.c
                                           * ARGUMENTS:     none                                                            C:\2007 final code\user_routines_fast.c
                                           * RETURNS:       void                                                            C:\2007 final code\user_routines_fast.c
                                           *******************************************************************************/ C:\2007 final code\user_routines_fast.c
005e36   cfd9     MOVFF     0xfd9,0xfe6    void User_Autonomous_Code(void)                                                  C:\2007 final code\user_routines_fast.c
005e38   ffe6                                                                                                               
005e3a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
005e3c   ffd9                                                                                                               
005e3e   0e05     MOVLW     0x5                                                                                             
005e40   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\user_routines_fast.c
                                             /* Initialize all PWMs and Relays when entering Autonomous mode, or else it    C:\2007 final code\user_routines_fast.c
                                                will be stuck with the last values mapped from the joysticks.  Remember,    C:\2007 final code\user_routines_fast.c
                                                even when Disabled it is reading inputs from the Operator Interface.        C:\2007 final code\user_routines_fast.c
                                             */                                                                             C:\2007 final code\user_routines_fast.c
005e42   0102     MOVLB     0x2              pwm01 = pwm02 = pwm03 = pwm04 = pwm05 = pwm06 = pwm07 = pwm08 = 127;           C:\2007 final code\user_routines_fast.c
005e44   0e7f     MOVLW     0x7f                                                                                            
005e46   6fc8     MOVWF     0xc8,0x1                                                                                        
005e48   6fc7     MOVWF     0xc7,0x1                                                                                        
005e4a   6fc6     MOVWF     0xc6,0x1                                                                                        
005e4c   6fc5     MOVWF     0xc5,0x1                                                                                        
005e4e   6fc4     MOVWF     0xc4,0x1                                                                                        
005e50   6fc3     MOVWF     0xc3,0x1                                                                                        
005e52   6fc2     MOVWF     0xc2,0x1                                                                                        
005e54   6fc1     MOVWF     0xc1,0x1                                                                                        
005e56   6fd0     MOVWF     0xd0,0x1         pwm09 = pwm10 = pwm11 = pwm12 = pwm13 = pwm14 = pwm15 = pwm16 = 127;           C:\2007 final code\user_routines_fast.c
005e58   6fcf     MOVWF     0xcf,0x1                                                                                        
005e5a   6fce     MOVWF     0xce,0x1                                                                                        
005e5c   6fcd     MOVWF     0xcd,0x1                                                                                        
005e5e   6fcc     MOVWF     0xcc,0x1                                                                                        
005e60   6fcb     MOVWF     0xcb,0x1                                                                                        
005e62   6fca     MOVWF     0xca,0x1                                                                                        
005e64   6fc9     MOVWF     0xc9,0x1                                                                                        
005e66   928c     BCF       0x8c,0x1,0x0     relay1_fwd = relay1_rev = relay2_fwd = relay2_rev = 0;                         C:\2007 final code\user_routines_fast.c
005e68   928d     BCF       0x8d,0x1,0x0                                                                                    
005e6a   908c     BCF       0x8c,0x0,0x0                                                                                    
005e6c   908d     BCF       0x8d,0x0,0x0                                                                                    
005e6e   968c     BCF       0x8c,0x3,0x0     relay3_fwd = relay3_rev = relay4_fwd = relay4_rev = 0;                         C:\2007 final code\user_routines_fast.c
005e70   968d     BCF       0x8d,0x3,0x0                                                                                    
005e72   948c     BCF       0x8c,0x2,0x0                                                                                    
005e74   948d     BCF       0x8d,0x2,0x0                                                                                    
005e76   9a8c     BCF       0x8c,0x5,0x0     relay5_fwd = relay5_rev = relay6_fwd = relay6_rev = 0;                         C:\2007 final code\user_routines_fast.c
005e78   9a8d     BCF       0x8d,0x5,0x0                                                                                    
005e7a   988c     BCF       0x8c,0x4,0x0                                                                                    
005e7c   988d     BCF       0x8d,0x4,0x0                                                                                    
005e7e   9e8c     BCF       0x8c,0x7,0x0     relay7_fwd = relay7_rev = relay8_fwd = relay8_rev = 0;                         C:\2007 final code\user_routines_fast.c
005e80   9091     BCF       0x91,0x0,0x0                                                                                    
005e82   9c8c     BCF       0x8c,0x6,0x0                                                                                    
005e84   9c8d     BCF       0x8d,0x6,0x0                                                                                    
                                                                                                                            C:\2007 final code\user_routines_fast.c
005e86   0102     MOVLB     0x2              while (autonomous_mode)   /* DO NOT CHANGE! */                                 C:\2007 final code\user_routines_fast.c
005e88   adde     BTFSS     0xde,0x6,0x1                                                                                    
005e8a   d0ae     BRA       0x5fe8                                                                                          
005fe6   d74f     BRA       0x5e86                                                                                          
                                             {                                                                              C:\2007 final code\user_routines_fast.c
005e8c   0e01     MOVLW     0x1            	unsigned char contcal = 1;                                                      C:\2007 final code\user_routines_fast.c
005e8e   6edf     MOVWF     0xdf,0x0                                                                                        
005e90   52de     MOVF      0xde,0x1,0x0   	unsigned char count_print = 5;                                                  C:\2007 final code\user_routines_fast.c
005e92   0e05     MOVLW     0x5                                                                                             
005e94   6edd     MOVWF     0xdd,0x0                                                                                        
                                           	static unsigned int autonomous_switch = AUTO_DO_NOTHING;                        C:\2007 final code\user_routines_fast.c
                                           	int calreturn;                                                                  C:\2007 final code\user_routines_fast.c
005e96   0e0a     MOVLW     0xa            	unsigned char print_counter = 10;                                               C:\2007 final code\user_routines_fast.c
005e98   6ef3     MOVWF     0xf3,0x0                                                                                        
005e9a   0e04     MOVLW     0x4                                                                                             
005e9c   cff3     MOVFF     0xff3,0xfdb                                                                                     
005e9e   ffdb                                                                                                               
                                           	static unsigned char switch_set=FALSE;                                          C:\2007 final code\user_routines_fast.c
                                           	                                                                                C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
005ea0   2adb     INCF      0xdb,0x1,0x0   	print_counter++;                                                                C:\2007 final code\user_routines_fast.c
005ea2   0e14     MOVLW     0x14               if (print_counter >= 20)                                                     C:\2007 final code\user_routines_fast.c
005ea4   6ef3     MOVWF     0xf3,0x0                                                                                        
005ea6   0e04     MOVLW     0x4                                                                                             
005ea8   cfdb     MOVFF     0xfdb,0xff4                                                                                     
005eaa   fff4                                                                                                               
005eac   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005eae   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
005eb0   e30d     BNC       0x5ecc                                                                                          
                                           	{                                                                               C:\2007 final code\user_routines_fast.c
005eb2   0e04     MOVLW     0x4            		print_counter = 0;                                                             C:\2007 final code\user_routines_fast.c
005eb4   6adb     CLRF      0xdb,0x0                                                                                        
005eb6   0102     MOVLB     0x2            		printf("   statusflag.NEW_SPI_DATA = %d\r", statusflag.NEW_SPI_DATA);          C:\2007 final code\user_routines_fast.c
005eb8   51fd     MOVF      0xfd,0x0,0x1                                                                                    
005eba   0b01     ANDLW     0x1                                                                                             
005ebc   6ee6     MOVWF     0xe6,0x0                                                                                        
005ebe   6ae6     CLRF      0xe6,0x0                                                                                        
005ec0   0e5f     MOVLW     0x5f                                                                                            
005ec2   6ee6     MOVWF     0xe6,0x0                                                                                        
005ec4   0e42     MOVLW     0x42                                                                                            
005ec6   6ee6     MOVWF     0xe6,0x0                                                                                        
005ec8   0e00     MOVLW     0x0                                                                                             
005eca   d89b     RCALL     0x6002                                                                                          
006002   6ee6     MOVWF     0xe6,0x0                                                                                        
006004   ec14     CALL      0x6e28,0x0                                                                                      
006006   f037                                                                                                               
006008   6ef5     MOVWF     0xf5,0x0                                                                                        
00600a   0e05     MOVLW     0x5                                                                                             
00600c   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
00600e   50f5     MOVF      0xf5,0x0,0x0                                                                                    
006010   0012     RETURN    0x0                                                                                             
                                           	}                                                                               C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
005ecc   0102     MOVLB     0x2                if (statusflag.NEW_SPI_DATA)      /* 26.2ms loop area */                     C:\2007 final code\user_routines_fast.c
005ece   a1fd     BTFSS     0xfd,0x0,0x1                                                                                    
005ed0   d7da     BRA       0x5e86                                                                                          
                                               {                                                                            C:\2007 final code\user_routines_fast.c
005ed2   0edd     MOVLW     0xdd                   Getdata(&rxdata);   /* DO NOT DELETE, or you will be stuck here forever! */ C:\2007 final code\user_routines_fast.c
005ed4   6ee6     MOVWF     0xe6,0x0                                                                                        
005ed6   0e02     MOVLW     0x2                                                                                             
005ed8   6ee6     MOVWF     0xe6,0x0                                                                                        
005eda   ec81     CALL      0x3d02,0x0                                                                                      
005edc   f01e                                                                                                               
005ede   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005ee0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                                   /* Add your own autonomous code here. */                                 C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
005ee2   c2d0     MOVFF     0x2d0,0xfe6            Generate_Pwms(pwm13,pwm14,pwm15,pwm16);                                  C:\2007 final code\user_routines_fast.c
005ee4   ffe6                                                                                                               
005ee6   c2cf     MOVFF     0x2cf,0xfe6                                                                                     
005ee8   ffe6                                                                                                               
005eea   c2ce     MOVFF     0x2ce,0xfe6                                                                                     
005eec   ffe6                                                                                                               
005eee   c2cd     MOVFF     0x2cd,0xfe6                                                                                     
005ef0   ffe6                                                                                                               
005ef2   ec4b     CALL      0x5896,0x0                                                                                      
005ef4   f02c                                                                                                               
005ef6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005ef8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005efa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005efc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            C:\2007 final code\user_routines_fast.c
005efe   0ebd     MOVLW     0xbd                   Putdata(&txdata);   /* DO NOT DELETE, or you will get no PWM outputs! */ C:\2007 final code\user_routines_fast.c
005f00   6ee6     MOVWF     0xe6,0x0                                                                                        
005f02   0e02     MOVLW     0x2                                                                                             
005f04   6ee6     MOVWF     0xe6,0x0                                                                                        
005f06   ec9a     CALL      0x3d34,0x0                                                                                      
005f08   f01e                                                                                                               
005f0a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005f0c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            C:\2007 final code\user_routines_fast.c
005f0e   ecaf     CALL      0x155e,0x0     		encoder_reset_battery();                                                       C:\2007 final code\user_routines_fast.c
005f10   f00a                                                                                                               
                                           #if 1                                                                            C:\2007 final code\user_routines_fast.c
                                           		                                                                               C:\2007 final code\user_routines_fast.c
                                           		// test code                                                                   C:\2007 final code\user_routines_fast.c
                                           		                                                                               C:\2007 final code\user_routines_fast.c
005f12   0103     MOVLB     0x3            		if(switch_set==FALSE)                                                          C:\2007 final code\user_routines_fast.c
005f14   51f9     MOVF      0xf9,0x0,0x1                                                                                    
005f16   e113     BNZ       0x5f3e                                                                                          
                                           		{                                                                              C:\2007 final code\user_routines_fast.c
005f18   ec7a     CALL      0x38f4,0x0     			autonomous_switch=auto_switch_find();                                         C:\2007 final code\user_routines_fast.c
005f1a   f01c                                                                                                               
005f1c   cff3     MOVFF     0xff3,0x3f7                                                                                     
005f1e   f3f7                                                                                                               
005f20   cff4     MOVFF     0xff4,0x3f8                                                                                     
005f22   f3f8                                                                                                               
005f24   0103     MOVLB     0x3            			switch_set=TRUE;		                                                            C:\2007 final code\user_routines_fast.c
005f26   0e01     MOVLW     0x1                                                                                             
005f28   6ff9     MOVWF     0xf9,0x1                                                                                        
005f2a   cff3     MOVFF     0xff3,0xfe6    			printf("U-R-F autonomous switch: %d/r", autonomous_switch);                   C:\2007 final code\user_routines_fast.c
005f2c   ffe6                                                                                                               
005f2e   cff4     MOVFF     0xff4,0xfe6                                                                                     
005f30   ffe6                                                                                                               
005f32   0e41     MOVLW     0x41                                                                                            
005f34   6ee6     MOVWF     0xe6,0x0                                                                                        
005f36   0e42     MOVLW     0x42                                                                                            
005f38   6ee6     MOVWF     0xe6,0x0                                                                                        
005f3a   0e00     MOVLW     0x0                                                                                             
005f3c   d862     RCALL     0x6002                                                                                          
                                           		}		                                                                            C:\2007 final code\user_routines_fast.c
                                           		                                                                               C:\2007 final code\user_routines_fast.c
                                           		                                                                               C:\2007 final code\user_routines_fast.c
005f3e   0e06     MOVLW     0x6            		switch(autonomous_switch)                                                      C:\2007 final code\user_routines_fast.c
005f40   0103     MOVLB     0x3                                                                                             
005f42   19f7     XORWF     0xf7,0x0,0x1                                                                                    
005f44   e101     BNZ       0x5f48                                                                                          
005f46   51f8     MOVF      0xf8,0x0,0x1                                                                                    
005f48   e034     BZ        0x5fb2                                                                                          
005f4a   0e05     MOVLW     0x5                                                                                             
005f4c   19f7     XORWF     0xf7,0x0,0x1                                                                                    
005f4e   e101     BNZ       0x5f52                                                                                          
005f50   51f8     MOVF      0xf8,0x0,0x1                                                                                    
005f52   e02a     BZ        0x5fa8                                                                                          
005f54   0e04     MOVLW     0x4                                                                                             
005f56   19f7     XORWF     0xf7,0x0,0x1                                                                                    
005f58   e101     BNZ       0x5f5c                                                                                          
005f5a   51f8     MOVF      0xf8,0x0,0x1                                                                                    
005f5c   e01e     BZ        0x5f9a                                                                                          
005f5e   0e03     MOVLW     0x3                                                                                             
005f60   19f7     XORWF     0xf7,0x0,0x1                                                                                    
005f62   e101     BNZ       0x5f66                                                                                          
005f64   51f8     MOVF      0xf8,0x0,0x1                                                                                    
005f66   e015     BZ        0x5f92                                                                                          
005f68   0e02     MOVLW     0x2                                                                                             
005f6a   19f7     XORWF     0xf7,0x0,0x1                                                                                    
005f6c   e101     BNZ       0x5f70                                                                                          
005f6e   51f8     MOVF      0xf8,0x0,0x1                                                                                    
005f70   e007     BZ        0x5f80                                                                                          
005f72   0e01     MOVLW     0x1                                                                                             
005f74   19f7     XORWF     0xf7,0x0,0x1                                                                                    
005f76   e101     BNZ       0x5f7a                                                                                          
005f78   51f8     MOVF      0xf8,0x0,0x1                                                                                    
005f7a   e101     BNZ       0x5f7e                                                                                          
005f7c   d784     BRA       0x5e86                                                                                          
005f7e   d028     BRA       0x5fd0                                                                                          
                                           		{	                                                                             C:\2007 final code\user_routines_fast.c
                                           		                                                                               C:\2007 final code\user_routines_fast.c
                                           			case AUTO_DO_NOTHING: //switch position 1                                     C:\2007 final code\user_routines_fast.c
                                               			break;                                                                    C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                           			case AUTO_ARM_LOW:  //switch position 2                                       C:\2007 final code\user_routines_fast.c
                                           //				printf("U-R-F switchstatement: AUTO_ARM_LOW/r");                           C:\2007 final code\user_routines_fast.c
005f80   0e03     MOVLW     0x3            				auto_manip_position = LOW;                                                   C:\2007 final code\user_routines_fast.c
005f82   6ff6     MOVWF     0xf6,0x1                                                                                        
005f84   0e01     MOVLW     0x1            				autonomous_goal = GOAL_CENTER;                                               C:\2007 final code\user_routines_fast.c
005f86   6ff5     MOVWF     0xf5,0x1                                                                                        
                                           				// go to floor position                                                      C:\2007 final code\user_routines_fast.c
005f88   c3f6     MOVFF     0x3f6,0xfe6    				do_auto_arm(auto_manip_position);                                            C:\2007 final code\user_routines_fast.c
005f8a   ffe6                                                                                                               
005f8c   ec1e     CALL      0x3a3c,0x0                                                                                      
005f8e   f01d                                                                                                               
005f90   d029     BRA       0x5fe4         				break;                                                                       C:\2007 final code\user_routines_fast.c
                                           	                                                                                C:\2007 final code\user_routines_fast.c
                                           			case AUTO_FWD_FLOOR:  //switch position 3                                     C:\2007 final code\user_routines_fast.c
                                           //				printf("U-R-F switchstatement: AUTO_FWD_LOW/r");                           C:\2007 final code\user_routines_fast.c
005f92   6ae6     CLRF      0xe6,0x0       				go_and_move_arm(0);                                                          C:\2007 final code\user_routines_fast.c
005f94   ecfd     CALL      0x39fa,0x0                                                                                      
005f96   f01c                                                                                                               
005f98   d025     BRA       0x5fe4         				break;                                                                       C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                           			case AUTO_SCORE_MID:   //switch position 4				                                C:\2007 final code\user_routines_fast.c
                                           			//	printf("U-R-F switchstatement: AUTO_SCORE/r");                             C:\2007 final code\user_routines_fast.c
005f9a   0e04     MOVLW     0x4            				auto_manip_position = 4;                                                     C:\2007 final code\user_routines_fast.c
005f9c   6ff6     MOVWF     0xf6,0x1                                                                                        
005f9e   0e01     MOVLW     0x1            				autonomous_goal = GOAL_CENTER;                                               C:\2007 final code\user_routines_fast.c
005fa0   6ff5     MOVWF     0xf5,0x1                                                                                        
005fa2   ecbb     CALL      0x3376,0x0     				do_auto();                                                                   C:\2007 final code\user_routines_fast.c
005fa4   f019                                                                                                               
005fa6   d76f     BRA       0x5e86         				break;                                                                       C:\2007 final code\user_routines_fast.c
                                           			                                                                              C:\2007 final code\user_routines_fast.c
                                           			case AUTO_REV_MOVE_ARM:   //switch position 5                                 C:\2007 final code\user_routines_fast.c
                                           //				printf("U-R-F switchstatement: AUTO_REVERSE_LOW/r");                       C:\2007 final code\user_routines_fast.c
005fa8   0e01     MOVLW     0x1            				go_and_move_arm(1);                                                          C:\2007 final code\user_routines_fast.c
005faa   6ee6     MOVWF     0xe6,0x0                                                                                        
005fac   ecfd     CALL      0x39fa,0x0                                                                                      
005fae   f01c                                                                                                               
005fb0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                           			case AUTO_ARM_FLOOR:  //switch position 6                                     C:\2007 final code\user_routines_fast.c
                                           //				printf("U-R-F switchstatement: AUTO_ARM_FLOOR/r");                         C:\2007 final code\user_routines_fast.c
005fb2   0103     MOVLB     0x3            				auto_manip_position = FLOOR;                                                 C:\2007 final code\user_routines_fast.c
005fb4   0e02     MOVLW     0x2                                                                                             
005fb6   6ff6     MOVWF     0xf6,0x1                                                                                        
005fb8   0e01     MOVLW     0x1            				autonomous_goal = GOAL_CENTER;                                               C:\2007 final code\user_routines_fast.c
005fba   6ff5     MOVWF     0xf5,0x1                                                                                        
                                           				// go to LOW first to avoid collision with chassis                           C:\2007 final code\user_routines_fast.c
005fbc   0e03     MOVLW     0x3            				do_auto_arm(LOW);                                                            C:\2007 final code\user_routines_fast.c
005fbe   6ee6     MOVWF     0xe6,0x0                                                                                        
005fc0   ec1e     CALL      0x3a3c,0x0                                                                                      
005fc2   f01d                                                                                                               
005fc4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           				// go to floor position                                                      C:\2007 final code\user_routines_fast.c
005fc6   c3f6     MOVFF     0x3f6,0xfe6    				do_auto_arm(auto_manip_position);                                            C:\2007 final code\user_routines_fast.c
005fc8   ffe6                                                                                                               
005fca   ec1e     CALL      0x3a3c,0x0                                                                                      
005fcc   f01d                                                                                                               
005fce   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                           			default:                                                                      C:\2007 final code\user_routines_fast.c
005fd0   0e16     MOVLW     0x16           				printf("autonomous mode not supported at present/r");                        C:\2007 final code\user_routines_fast.c
005fd2   6ee6     MOVWF     0xe6,0x0                                                                                        
005fd4   0e42     MOVLW     0x42                                                                                            
005fd6   6ee6     MOVWF     0xe6,0x0                                                                                        
005fd8   0e00     MOVLW     0x0                                                                                             
005fda   6ee6     MOVWF     0xe6,0x0                                                                                        
005fdc   ec14     CALL      0x6e28,0x0                                                                                      
005fde   f037                                                                                                               
005fe0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005fe2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005fe4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           				break;                                                                       C:\2007 final code\user_routines_fast.c
                                           		}                                                                              C:\2007 final code\user_routines_fast.c
                                           #endif                                                                           C:\2007 final code\user_routines_fast.c
                                               }                                                                            C:\2007 final code\user_routines_fast.c
                                             }                                                                              C:\2007 final code\user_routines_fast.c
005fe8   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\user_routines_fast.c
005fea   ffe1                                                                                                               
005fec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005fee   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
005ff0   ffd9                                                                                                               
005ff2   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                           /******************************************************************************* C:\2007 final code\user_routines_fast.c
                                           * FUNCTION NAME: Process_Data_From_Local_IO                                      C:\2007 final code\user_routines_fast.c
                                           * PURPOSE:       Execute user's realtime code.                                   C:\2007 final code\user_routines_fast.c
                                           * You should modify this routine by adding code which you wish to run fast.      C:\2007 final code\user_routines_fast.c
                                           * It will be executed every program loop, and not wait for fresh data            C:\2007 final code\user_routines_fast.c
                                           * from the Operator Interface.                                                   C:\2007 final code\user_routines_fast.c
                                           * CALLED FROM:   main.c                                                          C:\2007 final code\user_routines_fast.c
                                           * ARGUMENTS:     none                                                            C:\2007 final code\user_routines_fast.c
                                           * RETURNS:       void                                                            C:\2007 final code\user_routines_fast.c
                                           *******************************************************************************/ C:\2007 final code\user_routines_fast.c
                                           void Process_Data_From_Local_IO(void)                                            C:\2007 final code\user_routines_fast.c
                                           {                                                                                C:\2007 final code\user_routines_fast.c
                                             /* Add code here that you want to be executed every program loop. */           C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
005ff4   0012     RETURN    0x0            }                                                                                C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                           /******************************************************************************* C:\2007 final code\user_routines_fast.c
                                           * FUNCTION NAME: Serial_Char_Callback                                            C:\2007 final code\user_routines_fast.c
                                           * PURPOSE:       Interrupt handler for the TTL_PORT.                             C:\2007 final code\user_routines_fast.c
                                           * CALLED FROM:   user_SerialDrv.c                                                C:\2007 final code\user_routines_fast.c
                                           * ARGUMENTS:                                                                     C:\2007 final code\user_routines_fast.c
                                           *     Argument             Type    IO   Description                              C:\2007 final code\user_routines_fast.c
                                           *     --------             ----    --   -----------                              C:\2007 final code\user_routines_fast.c
                                           *     data        unsigned char    I    Data received from the TTL_PORT          C:\2007 final code\user_routines_fast.c
                                           * RETURNS:       void                                                            C:\2007 final code\user_routines_fast.c
                                           *******************************************************************************/ C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
005ff6   cfd9     MOVFF     0xfd9,0xfe6    void Serial_Char_Callback(unsigned char data)                                    C:\2007 final code\user_routines_fast.c
005ff8   ffe6                                                                                                               
                                           {                                                                                C:\2007 final code\user_routines_fast.c
                                             /* Add code to handle incomming data (remember, interrupts are still active) */ C:\2007 final code\user_routines_fast.c
005ffa   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\user_routines_fast.c
005ffc   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
005ffe   ffd9                                                                                                               
006000   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                                                                                                            C:\2007 final code\user_routines_fast.c
                                           /******************************************************************************/ C:\2007 final code\user_routines_fast.c
                                           /******************************************************************************/ C:\2007 final code\user_routines_fast.c
                                           /******************************************************************************/ C:\2007 final code\user_routines_fast.c
                                           /******************************************************************************* C:\2007 final code\ifi_startup.c
                                           * FILE NAME: ifi_startup.c                                                       C:\2007 final code\ifi_startup.c
                                           *                                                                                C:\2007 final code\ifi_startup.c
                                           * DESCRIPTION:                                                                   C:\2007 final code\ifi_startup.c
                                           *  This file contains important startup code.                                    C:\2007 final code\ifi_startup.c
                                           *                                                                                C:\2007 final code\ifi_startup.c
                                           * USAGE:                                                                         C:\2007 final code\ifi_startup.c
                                           *  This file should not be modified at all by the user.                          C:\2007 final code\ifi_startup.c
                                           *                                                                                C:\2007 final code\ifi_startup.c
                                           *  DO NOT MODIFY THIS FILE!                                                      C:\2007 final code\ifi_startup.c
                                           *******************************************************************************/ C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
                                           #include "ifi_default.h"                                                         C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
                                           extern void Clear_Memory (void);                                                 C:\2007 final code\ifi_startup.c
                                           extern void main (void);                                                         C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
                                           void _entry (void);     /* prototype for the startup function */                 C:\2007 final code\ifi_startup.c
                                           void _startup (void);                                                            C:\2007 final code\ifi_startup.c
                                           void _do_cinit (void);  /* prototype for the initialized data setup */           C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
                                           extern volatile near unsigned long short TBLPTR;                                 C:\2007 final code\ifi_startup.c
                                           extern near unsigned FSR0;                                                       C:\2007 final code\ifi_startup.c
                                           extern near char FPFLAGS;                                                        C:\2007 final code\ifi_startup.c
                                           #define RND 6                                                                    C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
                                           #pragma code _entry_scn=RESET_VECTOR                                             C:\2007 final code\ifi_startup.c
                                           void _entry (void)                                                               C:\2007 final code\ifi_startup.c
                                           {                                                                                C:\2007 final code\ifi_startup.c
000800   ef46     GOTO      0x728c         _asm goto _startup _endasm                                                       C:\2007 final code\ifi_startup.c
000802   f039                                                                                                               
                                                                                                                            C:\2007 final code\ifi_startup.c
000804   0012     RETURN    0x0            }                                                                                C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
                                           #pragma code _startup_scn                                                        C:\2007 final code\ifi_startup.c
                                           void _startup (void)                                                             C:\2007 final code\ifi_startup.c
                                           {                                                                                C:\2007 final code\ifi_startup.c
                                             _asm                                                                           C:\2007 final code\ifi_startup.c
                                               /* Initialize the stack pointer */                                           C:\2007 final code\ifi_startup.c
00728c   ee1e     LFSR      0x1,0xe00          lfsr 1, _stack lfsr 2, _stack clrf TBLPTRU, 0 /* 1st silicon doesn't do this on POR */ C:\2007 final code\ifi_startup.c
00728e   f000                                                                                                               
007290   ee2e     LFSR      0x2,0xe00                                                                                       
007292   f000                                                                                                               
007294   6af8     CLRF      0xf8,0x0                                                                                        
007296   9c26     BCF       0x26,0x6,0x0       bcf  FPFLAGS,RND,0 /* Initialize rounding flag for floating point libs */    C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
                                               /* initialize the flash memory access configuration. this is harmless */     C:\2007 final code\ifi_startup.c
                                               /* for non-flash devices, so we do it on all parts. */                       C:\2007 final code\ifi_startup.c
007298   8ea6     BSF       0xa6,0x7,0x0       bsf 0xa6, 7, 0                                                               C:\2007 final code\ifi_startup.c
00729a   9ca6     BCF       0xa6,0x6,0x0       bcf 0xa6, 6, 0                                                               C:\2007 final code\ifi_startup.c
                                             _endasm                                                                        C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
                                           loop:                                                                            C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
00729c   ecfc     CALL      0x55f8,0x0      	Clear_Memory();                                                                C:\2007 final code\ifi_startup.c
00729e   f02a                                                                                                               
0072a0   ecc5     CALL      0x6d8a,0x0       _do_cinit ();                                                                  C:\2007 final code\ifi_startup.c
0072a2   f036                                                                                                               
                                             /* Call the user's main routine */                                             C:\2007 final code\ifi_startup.c
0072a4   eca4     CALL      0x7148,0x0       main ();                                                                       C:\2007 final code\ifi_startup.c
0072a6   f038                                                                                                               
                                                                                                                            C:\2007 final code\ifi_startup.c
0072a8   d7f9     BRA       0x729c           goto loop;                                                                     C:\2007 final code\ifi_startup.c
0072aa   0012     RETURN    0x0            }                               /* end _startup() */                             C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
                                           /* MPLAB-C18 initialized data memory support */                                  C:\2007 final code\ifi_startup.c
                                           /* The linker will populate the _cinit table */                                  C:\2007 final code\ifi_startup.c
                                           extern far rom struct                                                            C:\2007 final code\ifi_startup.c
                                           {                                                                                C:\2007 final code\ifi_startup.c
                                             unsigned short num_init;                                                       C:\2007 final code\ifi_startup.c
                                             struct _init_entry                                                             C:\2007 final code\ifi_startup.c
                                             {                                                                              C:\2007 final code\ifi_startup.c
                                               unsigned long from;                                                          C:\2007 final code\ifi_startup.c
                                               unsigned long to;                                                            C:\2007 final code\ifi_startup.c
                                               unsigned long size;                                                          C:\2007 final code\ifi_startup.c
                                             }                                                                              C:\2007 final code\ifi_startup.c
                                             entries[];                                                                     C:\2007 final code\ifi_startup.c
                                           }                                                                                C:\2007 final code\ifi_startup.c
                                           _cinit;                                                                          C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
                                           #pragma code _cinit_scn                                                          C:\2007 final code\ifi_startup.c
                                           void                                                                             C:\2007 final code\ifi_startup.c
                                           _do_cinit (void)                                                                 C:\2007 final code\ifi_startup.c
                                           {                                                                                C:\2007 final code\ifi_startup.c
                                             /* we'll make the assumption in the following code that these statics          C:\2007 final code\ifi_startup.c
                                              * will be allocated into the same bank.                                       C:\2007 final code\ifi_startup.c
                                              */                                                                            C:\2007 final code\ifi_startup.c
                                             static short long prom;                                                        C:\2007 final code\ifi_startup.c
                                             static unsigned short curr_byte;                                               C:\2007 final code\ifi_startup.c
                                             static unsigned short curr_entry;                                              C:\2007 final code\ifi_startup.c
                                             static short long data_ptr;                                                    C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
                                             /* Initialized data... */                                                      C:\2007 final code\ifi_startup.c
006d8a   0e1e     MOVLW     0x1e             TBLPTR = (short long)&_cinit;                                                  C:\2007 final code\ifi_startup.c
006d8c   6ef6     MOVWF     0xf6,0x0                                                                                        
006d8e   0e08     MOVLW     0x8                                                                                             
006d90   6ef7     MOVWF     0xf7,0x0                                                                                        
006d92   0e00     MOVLW     0x0                                                                                             
006d94   6ef8     MOVWF     0xf8,0x0                                                                                        
                                             _asm                                                                           C:\2007 final code\ifi_startup.c
006d96   0103     MOVLB     0x3                movlb data_ptr                                                               C:\2007 final code\ifi_startup.c
006d98   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\2007 final code\ifi_startup.c
006d9a   50f5     MOVF      0xf5,0x0,0x0       movf  TABLAT, 0, 0                                                           C:\2007 final code\ifi_startup.c
006d9c   6fe0     MOVWF     0xe0,0x1           movwf curr_entry, 1                                                          C:\2007 final code\ifi_startup.c
006d9e   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\2007 final code\ifi_startup.c
006da0   50f5     MOVF      0xf5,0x0,0x0       movf  TABLAT, 0, 0                                                           C:\2007 final code\ifi_startup.c
006da2   6fe1     MOVWF     0xe1,0x1           movwf curr_entry+1, 1                                                        C:\2007 final code\ifi_startup.c
                                             _endasm                                                                        C:\2007 final code\ifi_startup.c
                                               test:                                                                        C:\2007 final code\ifi_startup.c
                                             _asm                                                                           C:\2007 final code\ifi_startup.c
006da4   e103     BNZ       0x6dac              bnz 3                                                                       C:\2007 final code\ifi_startup.c
006da6   67e0     TSTFSZ    0xe0,0x1           tstfsz curr_entry, 1                                                         C:\2007 final code\ifi_startup.c
006da8   d001     BRA       0x6dac             bra 1                                                                        C:\2007 final code\ifi_startup.c
                                             _endasm                                                                        C:\2007 final code\ifi_startup.c
006daa   d03d     BRA       0x6e26           goto done;                                                                     C:\2007 final code\ifi_startup.c
                                               /* Count down so we only have to look up the data in _cinit                  C:\2007 final code\ifi_startup.c
                                                * once.                                                                     C:\2007 final code\ifi_startup.c
                                                *                                                                           C:\2007 final code\ifi_startup.c
                                                * At this point we know that TBLPTR points to the top of the current        C:\2007 final code\ifi_startup.c
                                                * entry in _cinit, so we can just start reading the from, to, and           C:\2007 final code\ifi_startup.c
                                                * size values.                                                              C:\2007 final code\ifi_startup.c
                                                */                                                                          C:\2007 final code\ifi_startup.c
                                             _asm                                                                           C:\2007 final code\ifi_startup.c
                                             /* read the source address */                                                  C:\2007 final code\ifi_startup.c
006dac   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\2007 final code\ifi_startup.c
006dae   50f5     MOVF      0xf5,0x0,0x0       movf  TABLAT, 0, 0                                                           C:\2007 final code\ifi_startup.c
006db0   6fdb     MOVWF     0xdb,0x1           movwf prom, 1                                                                C:\2007 final code\ifi_startup.c
006db2   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\2007 final code\ifi_startup.c
006db4   50f5     MOVF      0xf5,0x0,0x0       movf  TABLAT, 0, 0                                                           C:\2007 final code\ifi_startup.c
006db6   6fdc     MOVWF     0xdc,0x1           movwf prom+1, 1                                                              C:\2007 final code\ifi_startup.c
006db8   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\2007 final code\ifi_startup.c
006dba   50f5     MOVF      0xf5,0x0,0x0       movf  TABLAT, 0, 0                                                           C:\2007 final code\ifi_startup.c
006dbc   6fdd     MOVWF     0xdd,0x1           movwf prom+2, 1                                                              C:\2007 final code\ifi_startup.c
                                               /* skip a byte since it's stored as a 32bit int */                           C:\2007 final code\ifi_startup.c
006dbe   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\2007 final code\ifi_startup.c
                                               /* read the destination address directly into FSR0 */                        C:\2007 final code\ifi_startup.c
006dc0   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\2007 final code\ifi_startup.c
006dc2   50f5     MOVF      0xf5,0x0,0x0       movf  TABLAT, 0, 0                                                           C:\2007 final code\ifi_startup.c
006dc4   6ee9     MOVWF     0xe9,0x0           movwf FSR0L, 0                                                               C:\2007 final code\ifi_startup.c
006dc6   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\2007 final code\ifi_startup.c
006dc8   50f5     MOVF      0xf5,0x0,0x0       movf  TABLAT, 0, 0                                                           C:\2007 final code\ifi_startup.c
006dca   6eea     MOVWF     0xea,0x0           movwf FSR0H, 0                                                               C:\2007 final code\ifi_startup.c
                                               /* skip two bytes since it's stored as a 32bit int */                        C:\2007 final code\ifi_startup.c
006dcc   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\2007 final code\ifi_startup.c
006dce   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\2007 final code\ifi_startup.c
                                               /* read the destination address directly into FSR0 */                        C:\2007 final code\ifi_startup.c
006dd0   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\2007 final code\ifi_startup.c
006dd2   50f5     MOVF      0xf5,0x0,0x0       movf  TABLAT, 0, 0                                                           C:\2007 final code\ifi_startup.c
006dd4   6fde     MOVWF     0xde,0x1           movwf curr_byte, 1                                                           C:\2007 final code\ifi_startup.c
006dd6   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\2007 final code\ifi_startup.c
006dd8   50f5     MOVF      0xf5,0x0,0x0       movf  TABLAT, 0, 0                                                           C:\2007 final code\ifi_startup.c
006dda   6fdf     MOVWF     0xdf,0x1           movwf curr_byte+1, 1                                                         C:\2007 final code\ifi_startup.c
                                               /* skip two bytes since it's stored as a 32bit int */                        C:\2007 final code\ifi_startup.c
006ddc   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\2007 final code\ifi_startup.c
006dde   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\2007 final code\ifi_startup.c
                                             _endasm                                                                        C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
                                             /* the table pointer now points to the next entry. Save it                     C:\2007 final code\ifi_startup.c
                                              * off since we'll be using the table pointer to do the copying                C:\2007 final code\ifi_startup.c
                                              * for the entry.                                                              C:\2007 final code\ifi_startup.c
                                              */                                                                            C:\2007 final code\ifi_startup.c
006de0   cff6     MOVFF     0xff6,0x3e2      data_ptr = TBLPTR;                                                             C:\2007 final code\ifi_startup.c
006de2   f3e2                                                                                                               
006de4   cff7     MOVFF     0xff7,0x3e3                                                                                     
006de6   f3e3                                                                                                               
006de8   cff8     MOVFF     0xff8,0x3e4                                                                                     
006dea   f3e4                                                                                                               
                                                                                                                            C:\2007 final code\ifi_startup.c
                                             /* now assign the source address to the table pointer */                       C:\2007 final code\ifi_startup.c
006dec   c3db     MOVFF     0x3db,0xff6      TBLPTR = prom;                                                                 C:\2007 final code\ifi_startup.c
006dee   fff6                                                                                                               
006df0   c3dc     MOVFF     0x3dc,0xff7                                                                                     
006df2   fff7                                                                                                               
006df4   c3dd     MOVFF     0x3dd,0xff8                                                                                     
006df6   fff8                                                                                                               
                                                                                                                            C:\2007 final code\ifi_startup.c
                                             /* do the copy loop */                                                         C:\2007 final code\ifi_startup.c
                                             _asm                                                                           C:\2007 final code\ifi_startup.c
                                                     /* determine if we have any more bytes to copy */                      C:\2007 final code\ifi_startup.c
006df8   0103     MOVLB     0x3                movlb curr_byte                                                              C:\2007 final code\ifi_startup.c
006dfa   53de     MOVF      0xde,0x1,0x1       movf  curr_byte, 1, 1                                                        C:\2007 final code\ifi_startup.c
                                           copy_loop:                                                                       C:\2007 final code\ifi_startup.c
006dfc   e102     BNZ       0x6e02             bnz 2 /* copy_one_byte */                                                    C:\2007 final code\ifi_startup.c
006dfe   53df     MOVF      0xdf,0x1,0x1       movf  curr_byte + 1, 1, 1                                                    C:\2007 final code\ifi_startup.c
006e00   e007     BZ        0x6e10             bz 7  /* done_copying */                                                     C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
                                           copy_one_byte:                                                                   C:\2007 final code\ifi_startup.c
006e02   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\2007 final code\ifi_startup.c
006e04   50f5     MOVF      0xf5,0x0,0x0       movf  TABLAT, 0, 0                                                           C:\2007 final code\ifi_startup.c
006e06   6eee     MOVWF     0xee,0x0           movwf POSTINC0, 0                                                            C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
                                               /* decrement byte counter */                                                 C:\2007 final code\ifi_startup.c
006e08   07de     DECF      0xde,0x1,0x1       decf  curr_byte, 1, 1                                                        C:\2007 final code\ifi_startup.c
006e0a   e2f8     BC        0x6dfc             bc -8   /* copy_loop */                                                      C:\2007 final code\ifi_startup.c
006e0c   07df     DECF      0xdf,0x1,0x1       decf  curr_byte + 1, 1, 1                                                    C:\2007 final code\ifi_startup.c
006e0e   d7f9     BRA       0x6e02             bra -7  /* copy_one_byte */                                                  C:\2007 final code\ifi_startup.c
                                                                                                                            C:\2007 final code\ifi_startup.c
                                           done_copying:                                                                    C:\2007 final code\ifi_startup.c
                                             _endasm                                                                        C:\2007 final code\ifi_startup.c
                                                 /* restore the table pointer for the next entry */                         C:\2007 final code\ifi_startup.c
006e10   c3e2     MOVFF     0x3e2,0xff6      TBLPTR = data_ptr;                                                             C:\2007 final code\ifi_startup.c
006e12   fff6                                                                                                               
006e14   c3e3     MOVFF     0x3e3,0xff7                                                                                     
006e16   fff7                                                                                                               
006e18   c3e4     MOVFF     0x3e4,0xff8                                                                                     
006e1a   fff8                                                                                                               
                                             /* next entry... */                                                            C:\2007 final code\ifi_startup.c
006e1c   0103     MOVLB     0x3              curr_entry--;                                                                  C:\2007 final code\ifi_startup.c
006e1e   07e0     DECF      0xe0,0x1,0x1                                                                                    
006e20   0e00     MOVLW     0x0                                                                                             
006e22   5be1     SUBWFB    0xe1,0x1,0x1                                                                                    
006e24   d7bf     BRA       0x6da4           goto test;                                                                     C:\2007 final code\ifi_startup.c
                                           done:                                                                            C:\2007 final code\ifi_startup.c
                                           ;                                                                                C:\2007 final code\ifi_startup.c
006e26   0012     RETURN    0x0            }                                                                                C:\2007 final code\ifi_startup.c
                                           /******************************************************************************* C:\2007 final code\ifi_utilities.c
                                           * FILE NAME: ifi_utilities.c                                                     C:\2007 final code\ifi_utilities.c
                                           *                                                                                C:\2007 final code\ifi_utilities.c
                                           * DESCRIPTION:                                                                   C:\2007 final code\ifi_utilities.c
                                           *  This file contains some useful functions that you can call in your program.   C:\2007 final code\ifi_utilities.c
                                           *                                                                                C:\2007 final code\ifi_utilities.c
                                           * USAGE:                                                                         C:\2007 final code\ifi_utilities.c
                                           *  The user should NOT modify this file, so that if a new version is released    C:\2007 final code\ifi_utilities.c
                                           *  by Innovation First then it can be easily replaced.                           C:\2007 final code\ifi_utilities.c
                                           *  The user should add their own functions to either user_routines.c or another  C:\2007 final code\ifi_utilities.c
                                           *  custom file.                                                                  C:\2007 final code\ifi_utilities.c
                                           *                                                                                C:\2007 final code\ifi_utilities.c
                                           *******************************************************************************/ C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                           #include <usart.h>                                                               C:\2007 final code\ifi_utilities.c
                                           #include <spi.h>                                                                 C:\2007 final code\ifi_utilities.c
                                           #include <adc.h>                                                                 C:\2007 final code\ifi_utilities.c
                                           #include <capture.h>                                                             C:\2007 final code\ifi_utilities.c
                                           #include <timers.h>                                                              C:\2007 final code\ifi_utilities.c
                                           #include <string.h>                                                              C:\2007 final code\ifi_utilities.c
                                           #include <pwm.h>                                                                 C:\2007 final code\ifi_utilities.c
                                           #include "delays.h"       /*defined locally*/                                    C:\2007 final code\ifi_utilities.c
                                           #include "ifi_aliases.h"                                                         C:\2007 final code\ifi_utilities.c
                                           #include "ifi_default.h"                                                         C:\2007 final code\ifi_utilities.c
                                           #include "ifi_utilities.h"                                                       C:\2007 final code\ifi_utilities.c
                                           #include "user_routines.h"                                                       C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                           int             ifi_packet_num1 = 0;                                             C:\2007 final code\ifi_utilities.c
                                           int             ifi_last_packet1 = 0;                                            C:\2007 final code\ifi_utilities.c
                                           unsigned char   *ptr;                                                            C:\2007 final code\ifi_utilities.c
                                           unsigned char   ifi_count;                                                       C:\2007 final code\ifi_utilities.c
                                           unsigned char   ifi_analog_channels;                                             C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                           /******************************************************************************* C:\2007 final code\ifi_utilities.c
                                           * FUNCTION NAME: Wait4TXEmpty                                                    C:\2007 final code\ifi_utilities.c
                                           * PURPOSE:       Wait for serial transmit buffer to be empty.                    C:\2007 final code\ifi_utilities.c
                                           * CALLED FROM:   anywhere                                                        C:\2007 final code\ifi_utilities.c
                                           * ARGUMENTS:     none                                                            C:\2007 final code\ifi_utilities.c
                                           * RETURNS:       void                                                            C:\2007 final code\ifi_utilities.c
                                           *******************************************************************************/ C:\2007 final code\ifi_utilities.c
                                           /* Used when transmitting data serially.  It waits for each byte to finish.   */ C:\2007 final code\ifi_utilities.c
                                           void Wait4TXEmpty(void)                                                          C:\2007 final code\ifi_utilities.c
                                           {                                                                                C:\2007 final code\ifi_utilities.c
                                           #ifndef _SIMULATOR                                                               C:\2007 final code\ifi_utilities.c
0069a2   a89e     BTFSS     0x9e,0x4,0x0     while (!TXINTF)                                                                C:\2007 final code\ifi_utilities.c
0069a4   d7fe     BRA       0x69a2                                                                                          
                                             {                                                                              C:\2007 final code\ifi_utilities.c
                                               continue;                                                                    C:\2007 final code\ifi_utilities.c
                                             }                                                                              C:\2007 final code\ifi_utilities.c
                                           #endif                                                                           C:\2007 final code\ifi_utilities.c
0069a6   0012     RETURN    0x0            }                                                                                C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                           /******************************************************************************* C:\2007 final code\ifi_utilities.c
                                           * FUNCTION NAME: PrintByte                                                       C:\2007 final code\ifi_utilities.c
                                           * PURPOSE:       A simple way to print a byte of data to the serial port.        C:\2007 final code\ifi_utilities.c
                                           * CALLED FROM:   anywhere                                                        C:\2007 final code\ifi_utilities.c
                                           * ARGUMENTS:     none                                                            C:\2007 final code\ifi_utilities.c
                                           *     Argument       Type             IO   Description                           C:\2007 final code\ifi_utilities.c
                                           *     --------       -------------    --   -----------                           C:\2007 final code\ifi_utilities.c
                                           *     odata          unsigned char    I    byte of data to be transmitted        C:\2007 final code\ifi_utilities.c
                                           * RETURNS:       void                                                            C:\2007 final code\ifi_utilities.c
                                           *******************************************************************************/ C:\2007 final code\ifi_utilities.c
0069a8   d8b4     RCALL     0x6b12         void PrintByte(unsigned char odata)                                              C:\2007 final code\ifi_utilities.c
                                           {                                                                                C:\2007 final code\ifi_utilities.c
0069aa   0efe     MOVLW     0xfe             Hex_output((unsigned char) odata);                                             C:\2007 final code\ifi_utilities.c
0069ac   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0069ae   ffe6                                                                                                               
0069b0   ec0e     CALL      0x561c,0x0                                                                                      
0069b2   f02b                                                                                                               
0069b4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0069b6   d0a9     BRA       0x6b0a           TXREG = 13;  /* a carriage return */                                           C:\2007 final code\ifi_utilities.c
                                             Wait4TXEmpty();                                                                C:\2007 final code\ifi_utilities.c
                                           }                                                                                C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                           /******************************************************************************* C:\2007 final code\ifi_utilities.c
                                           * FUNCTION NAME: PrintWord                                                       C:\2007 final code\ifi_utilities.c
                                           * PURPOSE:       A simple way to print a word of data to the serial port.        C:\2007 final code\ifi_utilities.c
                                           * CALLED FROM:   anywhere                                                        C:\2007 final code\ifi_utilities.c
                                           * ARGUMENTS:     none                                                            C:\2007 final code\ifi_utilities.c
                                           *     Argument       Type             IO   Description                           C:\2007 final code\ifi_utilities.c
                                           *     --------       -------------    --   -----------                           C:\2007 final code\ifi_utilities.c
                                           *     odata          unsigned int     I    word of data to be transmitted        C:\2007 final code\ifi_utilities.c
                                           * RETURNS:       void                                                            C:\2007 final code\ifi_utilities.c
                                           *******************************************************************************/ C:\2007 final code\ifi_utilities.c
0069b8   d8ac     RCALL     0x6b12         void PrintWord(unsigned int odata)                                               C:\2007 final code\ifi_utilities.c
                                           {                                                                                C:\2007 final code\ifi_utilities.c
0069ba   0104     MOVLB     0x4              ptr = (unsigned char *) &odata;                                                C:\2007 final code\ifi_utilities.c
0069bc   50e1     MOVF      0xe1,0x0,0x0                                                                                    
0069be   0ffd     ADDLW     0xfd                                                                                            
0069c0   6f00     MOVWF     0x0,0x1                                                                                         
0069c2   0eff     MOVLW     0xff                                                                                            
0069c4   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0069c6   6f01     MOVWF     0x1,0x1                                                                                         
0069c8   0e01     MOVLW     0x1              Hex_output(ptr[1]);                                                            C:\2007 final code\ifi_utilities.c
0069ca   6aea     CLRF      0xea,0x0                                                                                        
0069cc   2500     ADDWF     0x0,0x0,0x1                                                                                     
0069ce   6ee9     MOVWF     0xe9,0x0                                                                                        
0069d0   5101     MOVF      0x1,0x0,0x1                                                                                     
0069d2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0069d4   d8a3     RCALL     0x6b1c                                                                                          
0069d6   c400     MOVFF     0x400,0xfe9      Hex_output(ptr[0]);                                                            C:\2007 final code\ifi_utilities.c
0069d8   ffe9                                                                                                               
0069da   c401     MOVFF     0x401,0xfea                                                                                     
0069dc   ffea                                                                                                               
0069de   d89e     RCALL     0x6b1c                                                                                          
0069e0   d094     BRA       0x6b0a           TXREG = 13;  /* add a carriage return */                                       C:\2007 final code\ifi_utilities.c
                                             Wait4TXEmpty();                                                                C:\2007 final code\ifi_utilities.c
                                           }                                                                                C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                           /******************************************************************************* C:\2007 final code\ifi_utilities.c
                                           * FUNCTION NAME: DisplayBufr                                                     C:\2007 final code\ifi_utilities.c
                                           * PURPOSE:       Print the entire transmit or receive buffer over the serial     C:\2007 final code\ifi_utilities.c
                                           *                port for viewing in a terminal program on your PC.              C:\2007 final code\ifi_utilities.c
                                           * CALLED FROM:   anywhere                                                        C:\2007 final code\ifi_utilities.c
                                           * ARGUMENTS:                                                                     C:\2007 final code\ifi_utilities.c
                                           *     Argument       Type        IO   Description                                C:\2007 final code\ifi_utilities.c
                                           *     --------       --------    --   -----------                                C:\2007 final code\ifi_utilities.c
                                           *     *bufr          pointer     I    points to beginning of buffer to transmit  C:\2007 final code\ifi_utilities.c
                                           * RETURNS:       void                                                            C:\2007 final code\ifi_utilities.c
                                           *******************************************************************************/ C:\2007 final code\ifi_utilities.c
0069e2   d897     RCALL     0x6b12         void DisplayBufr(unsigned char *bufr)                                            C:\2007 final code\ifi_utilities.c
                                           {                                                                                C:\2007 final code\ifi_utilities.c
0069e4   0104     MOVLB     0x4              for (ifi_count=0;ifi_count<26;ifi_count++)                                     C:\2007 final code\ifi_utilities.c
0069e6   6b02     CLRF      0x2,0x1                                                                                         
0069e8   0e1a     MOVLW     0x1a                                                                                            
0069ea   5d02     SUBWF     0x2,0x0,0x1                                                                                     
0069ec   e20d     BC        0x6a08                                                                                          
006a02   0104     MOVLB     0x4                                                                                             
006a04   2b02     INCF      0x2,0x1,0x1                                                                                     
006a06   d7f0     BRA       0x69e8                                                                                          
                                             {                                                                              C:\2007 final code\ifi_utilities.c
0069ee   0efd     MOVLW     0xfd               Hex_output((unsigned char) *bufr++);                                         C:\2007 final code\ifi_utilities.c
0069f0   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0069f2   ffe9                                                                                                               
0069f4   2adb     INCF      0xdb,0x1,0x0                                                                                    
0069f6   0efe     MOVLW     0xfe                                                                                            
0069f8   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0069fa   ffea                                                                                                               
0069fc   e301     BNC       0x6a00                                                                                          
0069fe   2adb     INCF      0xdb,0x1,0x0                                                                                    
006a00   d88d     RCALL     0x6b1c                                                                                          
006b1c   50ef     MOVF      0xef,0x0,0x0                                                                                    
006b1e   6ee6     MOVWF     0xe6,0x0                                                                                        
006b20   ec0e     CALL      0x561c,0x0                                                                                      
006b22   f02b                                                                                                               
006b24   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006b26   0012     RETURN    0x0                                                                                             
                                             }                                                                              C:\2007 final code\ifi_utilities.c
006a08   d080     BRA       0x6b0a           TXREG = 13;  /* add a carriage return */                                       C:\2007 final code\ifi_utilities.c
006b0a   0e0d     MOVLW     0xd                                                                                             
006b0c   6ead     MOVWF     0xad,0x0                                                                                        
006b0e   df49     RCALL     0x69a2           Wait4TXEmpty();                                                                C:\2007 final code\ifi_utilities.c
006b10   d00b     BRA       0x6b28         }                                                                                C:\2007 final code\ifi_utilities.c
006b28   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006b2a   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
006b2c   ffd9                                                                                                               
006b2e   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                           /******************************************************************************* C:\2007 final code\ifi_utilities.c
                                           * FUNCTION NAME: PacketNum_Check                                                 C:\2007 final code\ifi_utilities.c
                                           * PURPOSE:       Print the packet number over the serial port if a packet gets   C:\2007 final code\ifi_utilities.c
                                           *                dropped.  Handy for seeing if you are dropping data.            C:\2007 final code\ifi_utilities.c
                                           * CALLED FROM:   anywhere                                                        C:\2007 final code\ifi_utilities.c
                                           * ARGUMENTS:     none                                                            C:\2007 final code\ifi_utilities.c
                                           * RETURNS:       void                                                            C:\2007 final code\ifi_utilities.c
                                           *******************************************************************************/ C:\2007 final code\ifi_utilities.c
                                           void PacketNum_Check(void)                                                       C:\2007 final code\ifi_utilities.c
                                           {                                                                                C:\2007 final code\ifi_utilities.c
                                             /*    to print only the 10th (packet num) byte*/                               C:\2007 final code\ifi_utilities.c
006a0a   0104     MOVLB     0x4              ptr = (unsigned char *) &rxdata.packet_num;                                    C:\2007 final code\ifi_utilities.c
006a0c   0edd     MOVLW     0xdd                                                                                            
006a0e   6f00     MOVWF     0x0,0x1                                                                                         
006a10   0e02     MOVLW     0x2                                                                                             
006a12   6f01     MOVWF     0x1,0x1                                                                                         
006a14   0102     MOVLB     0x2              ifi_packet_num1 = (int) rxdata.packet_num;                                     C:\2007 final code\ifi_utilities.c
006a16   51dd     MOVF      0xdd,0x0,0x1                                                                                    
006a18   0104     MOVLB     0x4                                                                                             
006a1a   6f08     MOVWF     0x8,0x1                                                                                         
006a1c   6b09     CLRF      0x9,0x1                                                                                         
006a1e   510a     MOVF      0xa,0x0,0x1      if (ifi_packet_num1 != ifi_last_packet1)                                       C:\2007 final code\ifi_utilities.c
006a20   1908     XORWF     0x8,0x0,0x1                                                                                     
006a22   e102     BNZ       0x6a28                                                                                          
006a24   510b     MOVF      0xb,0x0,0x1                                                                                     
006a26   1909     XORWF     0x9,0x0,0x1                                                                                     
006a28   e016     BZ        0x6a56                                                                                          
                                             {                                                                              C:\2007 final code\ifi_utilities.c
006a2a   0102     MOVLB     0x2                if (statusflag.FIRST_TIME == 1)                                              C:\2007 final code\ifi_utilities.c
006a2c   b5fd     BTFSC     0xfd,0x2,0x1                                                                                    
006a2e   d00e     BRA       0x6a4c                                                                                          
                                               {                                                                            C:\2007 final code\ifi_utilities.c
                                                 statusflag.FIRST_TIME = 0;                                                 C:\2007 final code\ifi_utilities.c
                                               }                                                                            C:\2007 final code\ifi_utilities.c
                                               else                                                                         C:\2007 final code\ifi_utilities.c
                                               {                                                                            C:\2007 final code\ifi_utilities.c
006a30   c40a     MOVFF     0x40a,0xfe6          Hex_output((unsigned char) ifi_last_packet1);                              C:\2007 final code\ifi_utilities.c
006a32   ffe6                                                                                                               
006a34   ec0e     CALL      0x561c,0x0                                                                                      
006a36   f02b                                                                                                               
006a38   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006a3a   c408     MOVFF     0x408,0xfe6          Hex_output((unsigned char) ifi_packet_num1);                               C:\2007 final code\ifi_utilities.c
006a3c   ffe6                                                                                                               
006a3e   ec0e     CALL      0x561c,0x0                                                                                      
006a40   f02b                                                                                                               
006a42   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006a44   0e0d     MOVLW     0xd                  TXREG = 13;                                                                C:\2007 final code\ifi_utilities.c
006a46   6ead     MOVWF     0xad,0x0                                                                                        
006a48   dfac     RCALL     0x69a2               Wait4TXEmpty();                                                            C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
006a4a   0102     MOVLB     0x2                  statusflag.FIRST_TIME = 0;                                                 C:\2007 final code\ifi_utilities.c
006a4c   95fd     BCF       0xfd,0x2,0x1                                                                                    
                                               }                                                                            C:\2007 final code\ifi_utilities.c
006a4e   c408     MOVFF     0x408,0x40a        ifi_last_packet1 = ifi_packet_num1;                                          C:\2007 final code\ifi_utilities.c
006a50   f40a                                                                                                               
006a52   c409     MOVFF     0x409,0x40b                                                                                     
006a54   f40b                                                                                                               
                                             }/*   if (ifi_packet_num1 != ifi_last_packet1)*/                               C:\2007 final code\ifi_utilities.c
006a56   0104     MOVLB     0x4              ifi_last_packet1++;                                                            C:\2007 final code\ifi_utilities.c
006a58   2b0a     INCF      0xa,0x1,0x1                                                                                     
006a5a   0e00     MOVLW     0x0                                                                                             
006a5c   230b     ADDWFC    0xb,0x1,0x1                                                                                     
006a5e   350b     RLCF      0xb,0x0,0x1      if (ifi_last_packet1 > 255)                                                    C:\2007 final code\ifi_utilities.c
006a60   e207     BC        0x6a70                                                                                          
006a62   510a     MOVF      0xa,0x0,0x1                                                                                     
006a64   08ff     SUBLW     0xff                                                                                            
006a66   0e00     MOVLW     0x0                                                                                             
006a68   550b     SUBFWB    0xb,0x0,0x1                                                                                     
006a6a   e202     BC        0x6a70                                                                                          
                                             {                                                                              C:\2007 final code\ifi_utilities.c
006a6c   6b0a     CLRF      0xa,0x1            ifi_last_packet1 = 0;                                                        C:\2007 final code\ifi_utilities.c
006a6e   6b0b     CLRF      0xb,0x1                                                                                         
                                             }                                                                              C:\2007 final code\ifi_utilities.c
006a70   0012     RETURN    0x0            }                                                                                C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                           /******************************************************************************* C:\2007 final code\ifi_utilities.c
                                           * FUNCTION NAME: Initialize_Serial_Comms                                         C:\2007 final code\ifi_utilities.c
                                           * PURPOSE:       Opens the serial port 1 for communicating with your PC at       C:\2007 final code\ifi_utilities.c
                                           *                115k baud, 8 bits, no parity, one stop bit, and no flow control. C:\2007 final code\ifi_utilities.c
                                           * CALLED FROM:   user_routines.c                                                 C:\2007 final code\ifi_utilities.c
                                           * ARGUMENTS:     none                                                            C:\2007 final code\ifi_utilities.c
                                           * RETURNS:       void                                                            C:\2007 final code\ifi_utilities.c
                                           *******************************************************************************/ C:\2007 final code\ifi_utilities.c
                                           void Initialize_Serial_Comms (void)                                              C:\2007 final code\ifi_utilities.c
                                           {                                                                                C:\2007 final code\ifi_utilities.c
                                             OpenUSART(USART_TX_INT_OFF &                                                   C:\2007 final code\ifi_utilities.c
                                               USART_RX_INT_OFF &                                                           C:\2007 final code\ifi_utilities.c
                                               USART_ASYNCH_MODE &                                                          C:\2007 final code\ifi_utilities.c
                                               USART_EIGHT_BIT &                                                            C:\2007 final code\ifi_utilities.c
                                               USART_CONT_RX &                                                              C:\2007 final code\ifi_utilities.c
006a76   0e3c     MOVLW     0x3c               USART_BRGH_HIGH,                                                             C:\2007 final code\ifi_utilities.c
006a78   6ee6     MOVWF     0xe6,0x0                                                                                        
006a72   0e15     MOVLW     0x15               baud_115);                                                                   C:\2007 final code\ifi_utilities.c
006a74   6ee6     MOVWF     0xe6,0x0                                                                                        
006a7a   ec72     CALL      0x70e4,0x0                                                                                      
006a7c   f038                                                                                                               
006a7e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006a80   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            C:\2007 final code\ifi_utilities.c
006a82   0e32     MOVLW     0x32             Delay1KTCYx( 50 ); /* Settling time */                                         C:\2007 final code\ifi_utilities.c
006a84   6ee6     MOVWF     0xe6,0x0                                                                                        
006a86   ec56     CALL      0x72ac,0x0                                                                                      
006a88   f039                                                                                                               
006a8a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006a8c   0012     RETURN    0x0            }                                                                                C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                           /******************************************************************************* C:\2007 final code\ifi_utilities.c
                                           * FUNCTION NAME: Set_Number_of_Analog_Channels                                   C:\2007 final code\ifi_utilities.c
                                           * PURPOSE:       Sets the variable used in Get_Analog_Value routine (below)      C:\2007 final code\ifi_utilities.c
                                           *                to the number of analog channels desired by the user.           C:\2007 final code\ifi_utilities.c
                                           * CALLED FROM:   user_routines.c initialization, typically                       C:\2007 final code\ifi_utilities.c
                                           * ARGUMENTS:                                                                     C:\2007 final code\ifi_utilities.c
                                           *      Argument            Type    IO   Description                              C:\2007 final code\ifi_utilities.c
                                           *     -----------          -----   --   -----------                              C:\2007 final code\ifi_utilities.c
                                           *     number_of_channels   alias   I    choose alias from ifi_aliases.h          C:\2007 final code\ifi_utilities.c
                                           * RETURNS:       void                                                            C:\2007 final code\ifi_utilities.c
                                           *******************************************************************************/ C:\2007 final code\ifi_utilities.c
006a8e   d841     RCALL     0x6b12         void Set_Number_of_Analog_Channels (unsigned char number_of_channels)            C:\2007 final code\ifi_utilities.c
                                           {                                                                                C:\2007 final code\ifi_utilities.c
006a90   0efe     MOVLW     0xfe             ifi_analog_channels = number_of_channels;                                      C:\2007 final code\ifi_utilities.c
006a92   cfdb     MOVFF     0xfdb,0x403                                                                                     
006a94   f403                                                                                                               
006a96   d048     BRA       0x6b28         }                                                                                C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                           /******************************************************************************* C:\2007 final code\ifi_utilities.c
                                           * FUNCTION NAME: Get_Analog_Value                                                C:\2007 final code\ifi_utilities.c
                                           * PURPOSE:       Reads the analog voltage on an A/D port and returns the         C:\2007 final code\ifi_utilities.c
                                           *                10-bit value read stored in an unsigned int.                    C:\2007 final code\ifi_utilities.c
                                           * CALLED FROM:   user_routines.c, typically                                      C:\2007 final code\ifi_utilities.c
                                           * ARGUMENTS:                                                                     C:\2007 final code\ifi_utilities.c
                                           *      Argument         Type        IO   Description                             C:\2007 final code\ifi_utilities.c
                                           *     -----------   -------------   --   -----------                             C:\2007 final code\ifi_utilities.c
                                           *     ADC_channel       alias       I    alias found in ifi_aliases.h            C:\2007 final code\ifi_utilities.c
                                           * RETURNS:       unsigned int                                                    C:\2007 final code\ifi_utilities.c
                                           *******************************************************************************/ C:\2007 final code\ifi_utilities.c
006a98   d83c     RCALL     0x6b12         unsigned int Get_Analog_Value (unsigned char ADC_channel)                        C:\2007 final code\ifi_utilities.c
006a9a   0e02     MOVLW     0x2                                                                                             
006a9c   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
006b12   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
006b14   ffe6                                                                                                               
006b16   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
006b18   ffd9                                                                                                               
006b1a   0012     RETURN    0x0                                                                                             
                                           {                                                                                C:\2007 final code\ifi_utilities.c
                                             unsigned int result;                                                           C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                           #if defined(__18F8722)                                                           C:\2007 final code\ifi_utilities.c
006aae   0ef1     MOVLW     0xf1             OpenADC( ADC_FOSC_RC & ADC_RIGHT_JUST & ADC_0_TAD,                             C:\2007 final code\ifi_utilities.c
006ab0   6ee6     MOVWF     0xe6,0x0                                                                                        
006a9e   0e0f     MOVLW     0xf                       ADC_channel & ADC_INT_OFF & ADC_VREFPLUS_VDD & ADC_VREFMINUS_VSS,15); C:\2007 final code\ifi_utilities.c
006aa0   6ee6     MOVWF     0xe6,0x0                                                                                        
006aa2   0efe     MOVLW     0xfe                                                                                            
006aa4   50db     MOVF      0xdb,0x0,0x0                                                                                    
006aa6   0b7f     ANDLW     0x7f                                                                                            
006aa8   0bfe     ANDLW     0xfe                                                                                            
006aaa   0bfd     ANDLW     0xfd                                                                                            
006aac   6ee6     MOVWF     0xe6,0x0                                                                                        
006ab2   ecd8     CALL      0x6fb0,0x0                                                                                      
006ab4   f037                                                                                                               
006ab6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006ab8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006aba   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           #else                                                                            C:\2007 final code\ifi_utilities.c
                                             OpenADC( ADC_FOSC_RC & ADC_RIGHT_JUST & ifi_analog_channels,                   C:\2007 final code\ifi_utilities.c
                                                     ADC_channel & ADC_INT_OFF & ADC_VREFPLUS_VDD & ADC_VREFMINUS_VSS );    C:\2007 final code\ifi_utilities.c
                                           #endif                                                                           C:\2007 final code\ifi_utilities.c
006abc   0e0a     MOVLW     0xa              Delay10TCYx( 10 );                                                             C:\2007 final code\ifi_utilities.c
006abe   6ee6     MOVWF     0xe6,0x0                                                                                        
006ac0   ec74     CALL      0x72e8,0x0                                                                                      
006ac2   f039                                                                                                               
006ac4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006ac6   ec8b     CALL      0x7316,0x0       ConvertADC();                                                                  C:\2007 final code\ifi_utilities.c
006ac8   f039                                                                                                               
006aca   ec07     CALL      0x80e,0x0        while( BusyADC() );                                                            C:\2007 final code\ifi_utilities.c
006acc   f004                                                                                                               
006ace   0900     IORLW     0x0                                                                                             
006ad0   e1fc     BNZ       0x6aca                                                                                          
006ad2   ecec     CALL      0x71d8,0x0       ReadADC();                                                                     C:\2007 final code\ifi_utilities.c
006ad4   f038                                                                                                               
006ad6   ec88     CALL      0x7310,0x0       CloseADC();                                                                    C:\2007 final code\ifi_utilities.c
006ad8   f039                                                                                                               
006ada   50c4     MOVF      0xc4,0x0,0x0     result = (int) ADRESH << 8 | ADRESL;                                           C:\2007 final code\ifi_utilities.c
006adc   6e2d     MOVWF     0x2d,0x0                                                                                        
006ade   6e2e     MOVWF     0x2e,0x0                                                                                        
006ae0   6a2d     CLRF      0x2d,0x0                                                                                        
006ae2   50c3     MOVF      0xc3,0x0,0x0                                                                                    
006ae4   0100     MOVLB     0x0                                                                                             
006ae6   102d     IORWF     0x2d,0x0,0x0                                                                                    
006ae8   6e2b     MOVWF     0x2b,0x0                                                                                        
006aea   c02e     MOVFF     0x2e,0x2c                                                                                       
006aec   f02c                                                                                                               
006aee   6ede     MOVWF     0xde,0x0                                                                                        
006af0   c02e     MOVFF     0x2e,0xfdd                                                                                      
006af2   ffdd                                                                                                               
006af4   cfde     MOVFF     0xfde,0x2b       return result;                                                                 C:\2007 final code\ifi_utilities.c
006af6   f02b                                                                                                               
006af8   cfdd     MOVFF     0xfdd,0x2c                                                                                      
006afa   f02c                                                                                                               
006afc   c02b     MOVFF     0x2b,0xff3                                                                                      
006afe   fff3                                                                                                               
006b00   c02c     MOVFF     0x2c,0xff4                                                                                      
006b02   fff4                                                                                                               
006b04   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\ifi_utilities.c
006b06   ffe1                                                                                                               
006b08   d00f     BRA       0x6b28                                                                                          
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                                                                                                            C:\2007 final code\ifi_utilities.c
                                           /******************************************************************************/ C:\2007 final code\ifi_utilities.c
                                           /******************************************************************************/ C:\2007 final code\ifi_utilities.c
                                           /******************************************************************************/ C:\2007 final code\ifi_utilities.c
                                            /******************************************************************************* C:\2007 final code\user_routines.c
                                           * FILE NAME: user_routines.c <FRC VERSION>                                       C:\2007 final code\user_routines.c
                                           *                                                                                C:\2007 final code\user_routines.c
                                           * DESCRIPTION:                                                                   C:\2007 final code\user_routines.c
                                           *  This file contains the default mappings of inputs                             C:\2007 final code\user_routines.c
                                           *  (like switches, joysticks, and buttons) to outputs on the RC.                 C:\2007 final code\user_routines.c
                                           *                                                                                C:\2007 final code\user_routines.c
                                           * USAGE:                                                                         C:\2007 final code\user_routines.c
                                           *  You can either modify this file to fit your needs, or remove it from your     C:\2007 final code\user_routines.c
                                           *  project and replace it with a modified copy.                                  C:\2007 final code\user_routines.c
                                           *                                                                                C:\2007 final code\user_routines.c
                                           *******************************************************************************/ C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           #include <stdio.h>                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           #include "ifi_aliases.h"                                                         C:\2007 final code\user_routines.c
                                           #include "ifi_default.h"                                                         C:\2007 final code\user_routines.c
                                           #include "ifi_utilities.h"                                                       C:\2007 final code\user_routines.c
                                           #include "user_routines.h"                                                       C:\2007 final code\user_routines.c
                                           #include "serial_ports.h"                                                        C:\2007 final code\user_routines.c
                                           #include "camera.h"                                                              C:\2007 final code\user_routines.c
                                           #include "encoder.h"                                                             C:\2007 final code\user_routines.c
                                           #include "eeprom.h"                                                              C:\2007 final code\user_routines.c
                                           #include "autonomous_166.h"                                                      C:\2007 final code\user_routines.c
                                           #include "user_byte_166.h"                                                       C:\2007 final code\user_routines.c
                                           #include "manipulator.h"                                                         C:\2007 final code\user_routines.c
                                           #include "calibrate.h"                                                           C:\2007 final code\user_routines.c
                                           #include "crab_drive.h"                                                          C:\2007 final code\user_routines.c
                                           #include "adc.h"                                                                 C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           #define COPILOT_BOX_1	1                                                          C:\2007 final code\user_routines.c
                                           #define COPILOT_BOX_2	0                                                          C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           /*** DEFINE USER VARIABLES AND INITIALIZE THEM HERE ***/                         C:\2007 final code\user_routines.c
                                           /* EXAMPLES: (see MPLAB C18 User's Guide, p.9 for all types)                     C:\2007 final code\user_routines.c
                                           unsigned char wheel_revolutions = 0; (can vary from 0 to 255)                    C:\2007 final code\user_routines.c
                                           unsigned int  delay_count = 7;       (can vary from 0 to 65,535)                 C:\2007 final code\user_routines.c
                                           int           angle_deviation = 142; (can vary from -32,768 to 32,767)           C:\2007 final code\user_routines.c
                                           unsigned long very_big_counter = 0;  (can vary from 0 to 4,294,967,295)          C:\2007 final code\user_routines.c
                                           */                                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           unsigned char rotary_dial = 1;                                                   C:\2007 final code\user_routines.c
                                           char rocker_3_position_switch = 0;                                               C:\2007 final code\user_routines.c
                                           unsigned char mini_joystick_1 = 127;                                             C:\2007 final code\user_routines.c
                                           unsigned char mini_joystick_2 = 127;                                             C:\2007 final code\user_routines.c
                                           unsigned char mini_joystick_3 = 127;                                             C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           int Base_Position_Box		= 0;                                                      C:\2007 final code\user_routines.c
                                           int Base_Position_Floor		= 0;                                                    C:\2007 final code\user_routines.c
                                           int Base_Position_Low		= 0;                                                      C:\2007 final code\user_routines.c
                                           int Base_Position_Middle	= 0;                                                    C:\2007 final code\user_routines.c
                                           int Base_Position_High		= 0;                                                     C:\2007 final code\user_routines.c
                                           int Elbow_Position_Box		= 0;                                                     C:\2007 final code\user_routines.c
                                           int Elbow_Position_Floor	= 0;                                                    C:\2007 final code\user_routines.c
                                           int Elbow_Position_Low		= 0;                                                     C:\2007 final code\user_routines.c
                                           int Elbow_Position_Middle	= 0;                                                   C:\2007 final code\user_routines.c
                                           int Elbow_Position_High		= 0;                                                    C:\2007 final code\user_routines.c
                                           int Wrist_Position_Box		= 0;                                                     C:\2007 final code\user_routines.c
                                           int Wrist_Position_Floor	= 0;                                                    C:\2007 final code\user_routines.c
                                           int Wrist_Position_Low		= 0;                                                     C:\2007 final code\user_routines.c
                                           int Wrist_Position_Middle	= 0;                                                   C:\2007 final code\user_routines.c
                                           int Wrist_Position_High		= 0;                                                    C:\2007 final code\user_routines.c
                                           int	Gripper_Open			= 0;                                                          C:\2007 final code\user_routines.c
                                           int Gripper_Closed			= 0;                                                        C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           /******************************************************************************* C:\2007 final code\user_routines.c
                                           * FUNCTION NAME: Limit_Switch_Max                                                C:\2007 final code\user_routines.c
                                           * PURPOSE:       Sets a PWM value to neutral (127) if it exceeds 127 and the     C:\2007 final code\user_routines.c
                                           *                limit switch is on.                                             C:\2007 final code\user_routines.c
                                           * CALLED FROM:   this file                                                       C:\2007 final code\user_routines.c
                                           * ARGUMENTS:                                                                     C:\2007 final code\user_routines.c
                                           *     Argument       Type             IO   Description                           C:\2007 final code\user_routines.c
                                           *     --------       -------------    --   -----------                           C:\2007 final code\user_routines.c
                                           *     switch_state   unsigned char    I    limit switch state                    C:\2007 final code\user_routines.c
                                           *     *input_value   pointer           O   points to PWM byte value to be limited C:\2007 final code\user_routines.c
                                           * RETURNS:       void                                                            C:\2007 final code\user_routines.c
                                           *******************************************************************************/ C:\2007 final code\user_routines.c
005192   da04     RCALL     0x559c         void Limit_Switch_Max(unsigned char switch_state, unsigned char *input_value)    C:\2007 final code\user_routines.c
                                           {                                                                                C:\2007 final code\user_routines.c
005194   0efe     MOVLW     0xfe             if (switch_state == CLOSED)                                                    C:\2007 final code\user_routines.c
005196   50db     MOVF      0xdb,0x0,0x0                                                                                    
005198   e107     BNZ       0x51a8                                                                                          
                                             {                                                                              C:\2007 final code\user_routines.c
00519a   d9ea     RCALL     0x5570             if(*input_value > 127)                                                       C:\2007 final code\user_routines.c
00519c   50ef     MOVF      0xef,0x0,0x0                                                                                    
00519e   087f     SUBLW     0x7f                                                                                            
0051a0   e203     BC        0x51a8                                                                                          
0051a2   d9e6     RCALL     0x5570               *input_value = 127;                                                        C:\2007 final code\user_routines.c
0051a4   0e7f     MOVLW     0x7f                                                                                            
0051a6   6eef     MOVWF     0xef,0x0                                                                                        
                                             }                                                                              C:\2007 final code\user_routines.c
0051a8   d1fe     BRA       0x55a6         }                                                                                C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           /******************************************************************************* C:\2007 final code\user_routines.c
                                           * FUNCTION NAME: Limit_Switch_Min                                                C:\2007 final code\user_routines.c
                                           * PURPOSE:       Sets a PWM value to neutral (127) if it's less than 127 and the C:\2007 final code\user_routines.c
                                           *                limit switch is on.                                             C:\2007 final code\user_routines.c
                                           * CALLED FROM:   this file                                                       C:\2007 final code\user_routines.c
                                           * ARGUMENTS:                                                                     C:\2007 final code\user_routines.c
                                           *     Argument       Type             IO   Description                           C:\2007 final code\user_routines.c
                                           *     --------       -------------    --   -----------                           C:\2007 final code\user_routines.c
                                           *     switch_state   unsigned char    I    limit switch state                    C:\2007 final code\user_routines.c
                                           *     *input_value   pointer           O   points to PWM byte value to be limited C:\2007 final code\user_routines.c
                                           * RETURNS:       void                                                            C:\2007 final code\user_routines.c
                                           *******************************************************************************/ C:\2007 final code\user_routines.c
0051aa   d9f8     RCALL     0x559c         void Limit_Switch_Min(unsigned char switch_state, unsigned char *input_value)    C:\2007 final code\user_routines.c
00559c   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00559e   ffe6                                                                                                               
0055a0   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0055a2   ffd9                                                                                                               
0055a4   0012     RETURN    0x0                                                                                             
                                           {                                                                                C:\2007 final code\user_routines.c
0051ac   0efe     MOVLW     0xfe             if (switch_state == CLOSED)                                                    C:\2007 final code\user_routines.c
0051ae   50db     MOVF      0xdb,0x0,0x0                                                                                    
0051b0   e109     BNZ       0x51c4                                                                                          
                                             {                                                                              C:\2007 final code\user_routines.c
0051b2   d9de     RCALL     0x5570             if(*input_value < 127)                                                       C:\2007 final code\user_routines.c
0051b4   cfef     MOVFF     0xfef,0x2b                                                                                      
0051b6   f02b                                                                                                               
0051b8   0e7f     MOVLW     0x7f                                                                                            
0051ba   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
0051bc   e203     BC        0x51c4                                                                                          
0051be   d9d8     RCALL     0x5570               *input_value = 127;                                                        C:\2007 final code\user_routines.c
0051c0   0e7f     MOVLW     0x7f                                                                                            
0051c2   6eef     MOVWF     0xef,0x0                                                                                        
005570   0efc     MOVLW     0xfc                                                                                            
005572   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
005574   ffe9                                                                                                               
005576   0efd     MOVLW     0xfd                                                                                            
005578   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00557a   ffea                                                                                                               
00557c   0012     RETURN    0x0                                                                                             
                                             }                                                                              C:\2007 final code\user_routines.c
0051c4   d1f0     BRA       0x55a6         }                                                                                C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           /******************************************************************************* C:\2007 final code\user_routines.c
                                           * FUNCTION NAME: Limit_Mix                                                       C:\2007 final code\user_routines.c
                                           * PURPOSE:       Limits the mixed value for one joystick drive.                  C:\2007 final code\user_routines.c
                                           * CALLED FROM:   Default_Routine, this file                                      C:\2007 final code\user_routines.c
                                           * ARGUMENTS:                                                                     C:\2007 final code\user_routines.c
                                           *     Argument             Type    IO   Description                              C:\2007 final code\user_routines.c
                                           *     --------             ----    --   -----------                              C:\2007 final code\user_routines.c
                                           *     intermediate_value    int    I                                             C:\2007 final code\user_routines.c
                                           * RETURNS:       unsigned char                                                   C:\2007 final code\user_routines.c
                                           *******************************************************************************/ C:\2007 final code\user_routines.c
0051c6   d9ea     RCALL     0x559c         unsigned char Limit_Mix (int intermediate_value)                                 C:\2007 final code\user_routines.c
                                           {                                                                                C:\2007 final code\user_routines.c
                                             static int limited_value;                                                      C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
0051c8   da02     RCALL     0x55ce           if (intermediate_value < 2000)                                                 C:\2007 final code\user_routines.c
0051ca   90d8     BCF       0xd8,0x0,0x0                                                                                    
0051cc   502c     MOVF      0x2c,0x0,0x0                                                                                    
0051ce   e604     BN        0x51d8                                                                                          
0051d0   0ed0     MOVLW     0xd0                                                                                            
0051d2   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
0051d4   0e07     MOVLW     0x7                                                                                             
0051d6   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
0051d8   e205     BC        0x51e4                                                                                          
0055ce   0efd     MOVLW     0xfd                                                                                            
0055d0   cfdb     MOVFF     0xfdb,0x2b                                                                                      
0055d2   f02b                                                                                                               
0055d4   0efe     MOVLW     0xfe                                                                                            
0055d6   cfdb     MOVFF     0xfdb,0x2c                                                                                      
0055d8   f02c                                                                                                               
0055da   0012     RETURN    0x0                                                                                             
                                             {                                                                              C:\2007 final code\user_routines.c
0051da   0104     MOVLB     0x4                limited_value = 2000;                                                        C:\2007 final code\user_routines.c
0051dc   0ed0     MOVLW     0xd0                                                                                            
0051de   6f0c     MOVWF     0xc,0x1                                                                                         
0051e0   0e07     MOVLW     0x7                                                                                             
                                             }                                                                              C:\2007 final code\user_routines.c
0051e2   d00c     BRA       0x51fc           else if (intermediate_value > 2254)                                            C:\2007 final code\user_routines.c
0051e4   d9f4     RCALL     0x55ce                                                                                          
0051e6   342c     RLCF      0x2c,0x0,0x0                                                                                    
0051e8   e20b     BC        0x5200                                                                                          
0051ea   502b     MOVF      0x2b,0x0,0x0                                                                                    
0051ec   08ce     SUBLW     0xce                                                                                            
0051ee   0e08     MOVLW     0x8                                                                                             
0051f0   542c     SUBFWB    0x2c,0x0,0x0                                                                                    
0051f2   e206     BC        0x5200                                                                                          
                                             {                                                                              C:\2007 final code\user_routines.c
0051f4   0104     MOVLB     0x4                limited_value = 2254;                                                        C:\2007 final code\user_routines.c
0051f6   0ece     MOVLW     0xce                                                                                            
0051f8   6f0c     MOVWF     0xc,0x1                                                                                         
0051fa   0e08     MOVLW     0x8                                                                                             
0051fc   6f0d     MOVWF     0xd,0x1                                                                                         
                                             }                                                                              C:\2007 final code\user_routines.c
0051fe   d006     BRA       0x520c           else                                                                           C:\2007 final code\user_routines.c
                                             {                                                                              C:\2007 final code\user_routines.c
005200   0efd     MOVLW     0xfd               limited_value = intermediate_value;                                          C:\2007 final code\user_routines.c
005202   cfdb     MOVFF     0xfdb,0x40c                                                                                     
005204   f40c                                                                                                               
005206   0efe     MOVLW     0xfe                                                                                            
005208   cfdb     MOVFF     0xfdb,0x40d                                                                                     
00520a   f40d                                                                                                               
                                             }                                                                              C:\2007 final code\user_routines.c
00520c   c40c     MOVFF     0x40c,0x2b       return (unsigned char) (limited_value - 2000);                                 C:\2007 final code\user_routines.c
00520e   f02b                                                                                                               
005210   c40d     MOVFF     0x40d,0x2c                                                                                      
005212   f02c                                                                                                               
005214   0ed0     MOVLW     0xd0                                                                                            
005216   5e2b     SUBWF     0x2b,0x1,0x0                                                                                    
005218   0e07     MOVLW     0x7                                                                                             
00521a   5a2c     SUBWFB    0x2c,0x1,0x0                                                                                    
00521c   502b     MOVF      0x2b,0x0,0x0                                                                                    
00521e   d1c3     BRA       0x55a6         }                                                                                C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           /******************************************************************************* C:\2007 final code\user_routines.c
                                           * FUNCTION NAME: User_Initialization                                             C:\2007 final code\user_routines.c
                                           * PURPOSE:       This routine is called first (and only once) in the Main function.   C:\2007 final code\user_routines.c
                                           *                You may modify and add to this function.                        C:\2007 final code\user_routines.c
                                           * CALLED FROM:   main.c                                                          C:\2007 final code\user_routines.c
                                           * ARGUMENTS:     none                                                            C:\2007 final code\user_routines.c
                                           * RETURNS:       void                                                            C:\2007 final code\user_routines.c
                                           *******************************************************************************/ C:\2007 final code\user_routines.c
                                           void User_Initialization (void)                                                  C:\2007 final code\user_routines.c
                                           {                                                                                C:\2007 final code\user_routines.c
005220   0ef0     MOVLW     0xf0             Set_Number_of_Analog_Channels(SIXTEEN_ANALOG);    /* DO NOT CHANGE! */         C:\2007 final code\user_routines.c
005222   6ee6     MOVWF     0xe6,0x0                                                                                        
005224   ec47     CALL      0x6a8e,0x0                                                                                      
005226   f035                                                                                                               
005228   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            C:\2007 final code\user_routines.c
                                           /* FIRST: Set up the I/O pins you want to use as digital INPUTS. */              C:\2007 final code\user_routines.c
00522a   8a93     BSF       0x93,0x5,0x0     digital_io_01 = digital_io_02 = digital_io_03 = digital_io_04 = INPUT;         C:\2007 final code\user_routines.c
00522c   8893     BSF       0x93,0x4,0x0                                                                                    
00522e   8693     BSF       0x93,0x3,0x0                                                                                    
005230   8493     BSF       0x93,0x2,0x0                                                                                    
005232   8299     BSF       0x99,0x1,0x0     digital_io_05 = digital_io_06 = digital_io_07 = digital_io_08 = INPUT;         C:\2007 final code\user_routines.c
005234   8099     BSF       0x99,0x0,0x0                                                                                    
005236   8e93     BSF       0x93,0x7,0x0                                                                                    
005238   8c93     BSF       0x93,0x6,0x0                                                                                    
00523a   849a     BSF       0x9a,0x2,0x0     digital_io_09 = digital_io_10 = digital_io_11 = digital_io_12 = INPUT;         C:\2007 final code\user_routines.c
00523c   829a     BSF       0x9a,0x1,0x0                                                                                    
00523e   8699     BSF       0x99,0x3,0x0                                                                                    
005240   8499     BSF       0x99,0x2,0x0                                                                                    
005242   8a9a     BSF       0x9a,0x5,0x0     digital_io_13 = digital_io_14 = digital_io_15 = digital_io_16 = INPUT;         C:\2007 final code\user_routines.c
005244   889a     BSF       0x9a,0x4,0x0                                                                                    
005246   8094     BSF       0x94,0x0,0x0                                                                                    
005248   869a     BSF       0x9a,0x3,0x0                                                                                    
00524a   8e9a     BSF       0x9a,0x7,0x0     digital_io_18 = INPUT;  /* Used for pneumatic pressure switch. */              C:\2007 final code\user_routines.c
                                               /*                                                                           C:\2007 final code\user_routines.c
                                                Note: digital_io_01 = digital_io_02 = ... digital_io_04 = INPUT;            C:\2007 final code\user_routines.c
                                                      is the same as the following:                                         C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                      digital_io_01 = INPUT;                                                C:\2007 final code\user_routines.c
                                                      digital_io_02 = INPUT;                                                C:\2007 final code\user_routines.c
                                                      ...                                                                   C:\2007 final code\user_routines.c
                                                      digital_io_04 = INPUT;                                                C:\2007 final code\user_routines.c
                                               */                                                                           C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           /* SECOND: Set up the I/O pins you want to use as digital OUTPUTS. */            C:\2007 final code\user_routines.c
00524c   9c9a     BCF       0x9a,0x6,0x0     digital_io_17 = OUTPUT;    /* Example - Not used in Default Code. */           C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           /* THIRD: Initialize the values on the digital outputs. */                       C:\2007 final code\user_routines.c
00524e   9c91     BCF       0x91,0x6,0x0     rc_dig_out17 = 0;                                                              C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           /* FOURTH: Set your initial PWM values.  Neutral is 127. */                      C:\2007 final code\user_routines.c
005250   0102     MOVLB     0x2              pwm01 = pwm02 = pwm03 = pwm04 = pwm05 = pwm06 = pwm07 = pwm08 = 127;           C:\2007 final code\user_routines.c
005252   0e7f     MOVLW     0x7f                                                                                            
005254   6fc8     MOVWF     0xc8,0x1                                                                                        
005256   6fc7     MOVWF     0xc7,0x1                                                                                        
005258   6fc6     MOVWF     0xc6,0x1                                                                                        
00525a   6fc5     MOVWF     0xc5,0x1                                                                                        
00525c   6fc4     MOVWF     0xc4,0x1                                                                                        
00525e   6fc3     MOVWF     0xc3,0x1                                                                                        
005260   6fc2     MOVWF     0xc2,0x1                                                                                        
005262   6fc1     MOVWF     0xc1,0x1                                                                                        
005264   6fd0     MOVWF     0xd0,0x1         pwm09 = pwm10 = pwm11 = pwm12 = pwm13 = pwm14 = pwm15 = pwm16 = 127;           C:\2007 final code\user_routines.c
005266   6fcf     MOVWF     0xcf,0x1                                                                                        
005268   6fce     MOVWF     0xce,0x1                                                                                        
00526a   6fcd     MOVWF     0xcd,0x1                                                                                        
00526c   6fcc     MOVWF     0xcc,0x1                                                                                        
00526e   6fcb     MOVWF     0xcb,0x1                                                                                        
005270   6fca     MOVWF     0xca,0x1                                                                                        
005272   6fc9     MOVWF     0xc9,0x1                                                                                        
                                                                                                                            C:\2007 final code\user_routines.c
                                           /* FIFTH: Set your PWM output types for PWM OUTPUTS 13-16.                       C:\2007 final code\user_routines.c
                                             /*   Choose from these parameters for PWM 13-16 respectively:               */ C:\2007 final code\user_routines.c
                                             /*     IFI_PWM  - Standard IFI PWM output generated with Generate_Pwms(...) */ C:\2007 final code\user_routines.c
                                             /*     USER_CCP - User can use PWM pin as digital I/O or CCP pin.           */ C:\2007 final code\user_routines.c
005274   0e00     MOVLW     0x0              Setup_PWM_Output_Type(IFI_PWM,IFI_PWM,IFI_PWM,IFI_PWM);                        C:\2007 final code\user_routines.c
005276   6ee6     MOVWF     0xe6,0x0                                                                                        
005278   6ae6     CLRF      0xe6,0x0                                                                                        
00527a   6ee6     MOVWF     0xe6,0x0                                                                                        
00527c   6ae6     CLRF      0xe6,0x0                                                                                        
00527e   6ee6     MOVWF     0xe6,0x0                                                                                        
005280   6ae6     CLRF      0xe6,0x0                                                                                        
005282   6ee6     MOVWF     0xe6,0x0                                                                                        
005284   6ae6     CLRF      0xe6,0x0                                                                                        
005286   ecdc     CALL      0x3db8,0x0                                                                                      
005288   f01e                                                                                                               
00528a   6ef5     MOVWF     0xf5,0x0                                                                                        
00528c   0e08     MOVLW     0x8                                                                                             
00528e   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
005290   50f5     MOVF      0xf5,0x0,0x0                                                                                    
                                                                                                                            C:\2007 final code\user_routines.c
                                             /*                                                                             C:\2007 final code\user_routines.c
                                                Example: The following would generate a 40KHz PWM with a 50% duty cycle on the CCP2 pin: C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                    CCP2CON = 0x3C;                                                         C:\2007 final code\user_routines.c
                                                    PR2 = 0xF9;                                                             C:\2007 final code\user_routines.c
                                                    CCPR2L = 0x7F;                                                          C:\2007 final code\user_routines.c
                                                    T2CON = 0;                                                              C:\2007 final code\user_routines.c
                                                    T2CONbits.TMR2ON = 1;                                                   C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                    Setup_PWM_Output_Type(USER_CCP,IFI_PWM,IFI_PWM,IFI_PWM);                C:\2007 final code\user_routines.c
                                             */                                                                             C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                             /* Add any other initialization code here. */                                  C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
005292   ecba     CALL      0x6574,0x0       Initialize_Encoders();                                                         C:\2007 final code\user_routines.c
005294   f032                                                                                                               
                                                                                                                            C:\2007 final code\user_routines.c
                                             // Kevin's code for serial ports to support his 07 camera code                 C:\2007 final code\user_routines.c
005296   ec7b     CALL      0x62f6,0x0       Init_Serial_Port_One();                                                        C:\2007 final code\user_routines.c
005298   f031                                                                                                               
00529a   ec94     CALL      0x6328,0x0       Init_Serial_Port_Two();                                                        C:\2007 final code\user_routines.c
00529c   f031                                                                                                               
                                                                                                                            C:\2007 final code\user_routines.c
                                           #ifdef TERMINAL_SERIAL_PORT_1                                                    C:\2007 final code\user_routines.c
00529e   0103     MOVLB     0x3              stdout_serial_port = SERIAL_PORT_ONE;                                          C:\2007 final code\user_routines.c
0052a0   0e01     MOVLW     0x1                                                                                             
0052a2   6f7b     MOVWF     0x7b,0x1                                                                                        
                                           #endif                                                                           C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           #ifdef TERMINAL_SERIAL_PORT_2                                                    C:\2007 final code\user_routines.c
                                             stdout_serial_port = SERIAL_PORT_TWO;                                          C:\2007 final code\user_routines.c
                                           #endif                                                                           C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
0052a4   ece8     CALL      0x17d0,0x0     	manipulator_initialization();                                                   C:\2007 final code\user_routines.c
0052a6   f00b                                                                                                               
                                                                                                                            C:\2007 final code\user_routines.c
0052a8   d970     RCALL     0x558a           Putdata(&txdata);             /* DO NOT CHANGE! */                             C:\2007 final code\user_routines.c
00558a   0ebd     MOVLW     0xbd                                                                                            
00558c   6ee6     MOVWF     0xe6,0x0                                                                                        
00558e   0e02     MOVLW     0x2                                                                                             
005590   6ee6     MOVWF     0xe6,0x0                                                                                        
005592   ec9a     CALL      0x3d34,0x0                                                                                      
005594   f01e                                                                                                               
005596   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005598   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00559a   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
0052aa   0ea8     MOVLW     0xa8             printf("IFI 2006 User Processor Initialized ...\r");  /* Optional - Print initialization message. */ C:\2007 final code\user_routines.c
0052ac   6ee6     MOVWF     0xe6,0x0                                                                                        
0052ae   0e42     MOVLW     0x42                                                                                            
0052b0   6ee6     MOVWF     0xe6,0x0                                                                                        
0052b2   0e00     MOVLW     0x0                                                                                             
0052b4   d993     RCALL     0x55dc                                                                                          
0055dc   6ee6     MOVWF     0xe6,0x0                                                                                        
0055de   ec14     CALL      0x6e28,0x0                                                                                      
0055e0   f037                                                                                                               
0055e2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0055e4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0055e6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0055e8   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\user_routines.c
0052b6   ef21     GOTO      0x3c42           User_Proc_Is_Ready();         /* DO NOT CHANGE! - last line of User_Initialization */ C:\2007 final code\user_routines.c
0052b8   f01e                                                                                                               
                                           }                                                                                C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           /******************************************************************************* C:\2007 final code\user_routines.c
                                           * FUNCTION NAME: Process_Data_From_Master_uP                                     C:\2007 final code\user_routines.c
                                           * PURPOSE:       Executes every 26.2ms when it gets new data from the master     C:\2007 final code\user_routines.c
                                           *                microprocessor.                                                 C:\2007 final code\user_routines.c
                                           * CALLED FROM:   main.c                                                          C:\2007 final code\user_routines.c
                                           * ARGUMENTS:     none                                                            C:\2007 final code\user_routines.c
                                           * RETURNS:       void                                                            C:\2007 final code\user_routines.c
                                           *******************************************************************************/ C:\2007 final code\user_routines.c
                                           void Process_Data_From_Master_uP(void)                                           C:\2007 final code\user_routines.c
                                           {                                                                                C:\2007 final code\user_routines.c
                                             static unsigned char i;                                                        C:\2007 final code\user_routines.c
                                             static unsigned char loops = 0;                                                C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
0052ba   0edd     MOVLW     0xdd             Getdata(&rxdata);   /* Get fresh data from the master microprocessor. */       C:\2007 final code\user_routines.c
0052bc   6ee6     MOVWF     0xe6,0x0                                                                                        
0052be   0e02     MOVLW     0x2                                                                                             
0052c0   6ee6     MOVWF     0xe6,0x0                                                                                        
0052c2   ec81     CALL      0x3d02,0x0                                                                                      
0052c4   f01e                                                                                                               
0052c6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0052c8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0052ca   ecce     CALL      0x6b9c,0x0       EEPROM_write();                                                                C:\2007 final code\user_routines.c
0052cc   f035                                                                                                               
0052ce   d812     RCALL     0x52f4           Default_Routine();  /* Optional.  See below. */                                C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                             /* Add your own code here. (a printf will not be displayed when connected to   C:\2007 final code\user_routines.c
                                                the breaker panel unless a Y cable is used) */                              C:\2007 final code\user_routines.c
                                           #if 0                                                                            C:\2007 final code\user_routines.c
                                           loops++;                                                                         C:\2007 final code\user_routines.c
                                           if(loops % 20 == 0)                                                              C:\2007 final code\user_routines.c
                                           {                                                                                C:\2007 final code\user_routines.c
                                             /* printf EXAMPLE */                                                           C:\2007 final code\user_routines.c
                                             printf("Y %3d, X %3d, Wheel %3d, Aux %3d, Trig %1d, Top %1d, Aux1 %1d, Aux2 %1d\r\r", C:\2007 final code\user_routines.c
                                           		p1_y,p1_x, p1_wheel,p1_aux, p1_sw_trig, p1_sw_top, p1_sw_aux1, p1_sw_aux2);    C:\2007 final code\user_routines.c
                                           //  printf("Port2 Y %3d, X %3d\r",p2_y,p2_x);                                    C:\2007 final code\user_routines.c
                                           }                                                                                C:\2007 final code\user_routines.c
                                           #endif                                                                           C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                             // This function is responsible for camera initialization                      C:\2007 final code\user_routines.c
                                             // and camera serial data interpretation. Once the camera                      C:\2007 final code\user_routines.c
                                             // is initialized and starts sending tracking data, this                       C:\2007 final code\user_routines.c
                                             // function will continuously update the global T_Packet_Data                  C:\2007 final code\user_routines.c
                                             // structure with the received tracking information.                           C:\2007 final code\user_routines.c
0052d0   ec4d     CALL      0x489a,0x0       Camera_Handler();	                                                             C:\2007 final code\user_routines.c
0052d2   f024                                                                                                               
                                                                                                                            C:\2007 final code\user_routines.c
                                             //if there is data in the queue, write to the data EEPROM                      C:\2007 final code\user_routines.c
                                             //EEPROM_write();		                                                            C:\2007 final code\user_routines.c
                                             //enable digital input 1 to be an interrupt (from 06 code)                     C:\2007 final code\user_routines.c
                                             //remove comments if want to use                                               C:\2007 final code\user_routines.c
                                             //INTCON3bits.INT2IE = 1;		                                                    C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
0052d4   c2d0     MOVFF     0x2d0,0xfe6      Generate_Pwms(pwm13,pwm14,pwm15,pwm16);                                        C:\2007 final code\user_routines.c
0052d6   ffe6                                                                                                               
0052d8   c2cf     MOVFF     0x2cf,0xfe6                                                                                     
0052da   ffe6                                                                                                               
0052dc   c2ce     MOVFF     0x2ce,0xfe6                                                                                     
0052de   ffe6                                                                                                               
0052e0   c2cd     MOVFF     0x2cd,0xfe6                                                                                     
0052e2   ffe6                                                                                                               
0052e4   ec4b     CALL      0x5896,0x0                                                                                      
0052e6   f02c                                                                                                               
0052e8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0052ea   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0052ec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0052ee   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
0052f0   efc5     GOTO      0x558a           Putdata(&txdata);             /* DO NOT CHANGE! */                             C:\2007 final code\user_routines.c
0052f2   f02a                                                                                                               
                                           }                                                                                C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           /******************************************************************************* C:\2007 final code\user_routines.c
                                           * FUNCTION NAME: Default_Routine                                                 C:\2007 final code\user_routines.c
                                           * PURPOSE:       Performs the default mappings of inputs to outputs for the      C:\2007 final code\user_routines.c
                                           *                Robot Controller.                                               C:\2007 final code\user_routines.c
                                           * CALLED FROM:   this file, Process_Data_From_Master_uP routine                  C:\2007 final code\user_routines.c
                                           * ARGUMENTS:     none                                                            C:\2007 final code\user_routines.c
                                           * RETURNS:       void                                                            C:\2007 final code\user_routines.c
                                           *******************************************************************************/ C:\2007 final code\user_routines.c
                                           void Default_Routine(void)                                                       C:\2007 final code\user_routines.c
                                           {                                                                                C:\2007 final code\user_routines.c
                                             /*---------- ROBOT FEEDBACK LEDs------------------------------------------------ C:\2007 final code\user_routines.c
                                             *------------------------------------------------------------------------------ C:\2007 final code\user_routines.c
                                             *   This section drives the "ROBOT FEEDBACK" lights on the Operator Interface. C:\2007 final code\user_routines.c
                                             *   The lights are green for joystick forward and red for joystick reverse.    C:\2007 final code\user_routines.c
                                             *   Both red and green are on when the joystick is centered.  Use the          C:\2007 final code\user_routines.c
                                             *   trim tabs on the joystick to adjust the center.                            C:\2007 final code\user_routines.c
                                             *   These may be changed for any use that the user desires.                        C:\2007 final code\user_routines.c
                                             */	                                                                            C:\2007 final code\user_routines.c
                                           	                                                                                C:\2007 final code\user_routines.c
                                           	static unsigned char click_handler = 0;                                         C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	// for calibration                                                              C:\2007 final code\user_routines.c
                                           	static unsigned char do_cal = 0;                                                C:\2007 final code\user_routines.c
                                           	static unsigned char loopcount = 0;                                             C:\2007 final code\user_routines.c
0052f4   0103     MOVLB     0x3            	loopcount ++;                                                                   C:\2007 final code\user_routines.c
0052f6   2b5b     INCF      0x5b,0x1,0x1                                                                                    
0052f8   515b     MOVF      0x5b,0x0,0x1   	if(!(loopcount % 128))                                                          C:\2007 final code\user_routines.c
0052fa   6e2b     MOVWF     0x2b,0x0                                                                                        
0052fc   6a2c     CLRF      0x2c,0x0                                                                                        
0052fe   0e80     MOVLW     0x80                                                                                            
005300   6e22     MOVWF     0x22,0x0                                                                                        
005302   6a23     CLRF      0x23,0x0                                                                                        
005304   c35b     MOVFF     0x35b,0x1d                                                                                      
005306   f01d                                                                                                               
005308   c02c     MOVFF     0x2c,0x1e                                                                                       
00530a   f01e                                                                                                               
00530c   ec3e     CALL      0x6c7c,0x0                                                                                      
00530e   f036                                                                                                               
005310   c019     MOVFF     0x19,0x2b                                                                                       
005312   f02b                                                                                                               
005314   c01a     MOVFF     0x1a,0x2c                                                                                       
005316   f02c                                                                                                               
005318   5019     MOVF      0x19,0x0,0x0                                                                                    
00531a   101a     IORWF     0x1a,0x0,0x0                                                                                    
00531c   e119     BNZ       0x5350                                                                                          
                                           	{                                                                               C:\2007 final code\user_routines.c
00531e   0e87     MOVLW     0x87           		printf("Autonomous Switch: %u\r",Get_Analog_Value(rc_ana_in01));               C:\2007 final code\user_routines.c
005320   6ee6     MOVWF     0xe6,0x0                                                                                        
005322   ec4c     CALL      0x6a98,0x0                                                                                      
005324   f035                                                                                                               
005326   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005328   cff3     MOVFF     0xff3,0x2b                                                                                      
00532a   f02b                                                                                                               
00532c   cff4     MOVFF     0xff4,0x2c                                                                                      
00532e   f02c                                                                                                               
005330   cff3     MOVFF     0xff3,0xfe6                                                                                     
005332   ffe6                                                                                                               
005334   cff4     MOVFF     0xff4,0xfe6                                                                                     
005336   ffe6                                                                                                               
005338   0e91     MOVLW     0x91                                                                                            
00533a   6ee6     MOVWF     0xe6,0x0                                                                                        
00533c   0e42     MOVLW     0x42                                                                                            
00533e   6ee6     MOVWF     0xe6,0x0                                                                                        
005340   0e00     MOVLW     0x0                                                                                             
005342   6ee6     MOVWF     0xe6,0x0                                                                                        
005344   ec14     CALL      0x6e28,0x0                                                                                      
005346   f037                                                                                                               
005348   6ef5     MOVWF     0xf5,0x0                                                                                        
00534a   0e05     MOVLW     0x5                                                                                             
00534c   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
00534e   50f5     MOVF      0xf5,0x0,0x0                                                                                    
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	//dummy variables for limit switch values and copilot box controls              C:\2007 final code\user_routines.c
005350   ece8     CALL      0x17d0,0x0     	manipulator_initialization();                                                   C:\2007 final code\user_routines.c
005352   f00b                                                                                                               
005354   ecc1     CALL      0xd82,0x0      	teleoperated_manipulator_master_control();                                      C:\2007 final code\user_routines.c
005356   f006                                                                                                               
005358   ecca     CALL      0x1594,0x0     	manipulator_calibration();                                                      C:\2007 final code\user_routines.c
00535a   f00a                                                                                                               
                                                                                                                            C:\2007 final code\user_routines.c
00535c   0102     MOVLB     0x2            	if(p1_sw_aux2 == 0)                                                             C:\2007 final code\user_routines.c
00535e   b7df     BTFSC     0xdf,0x3,0x1                                                                                    
005360   d002     BRA       0x5366                                                                                          
005362   0103     MOVLB     0x3            	click_handler = 0;                                                              C:\2007 final code\user_routines.c
005364   6b59     CLRF      0x59,0x1                                                                                        
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           #if COPILOT_BOX_1                                                                C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           // rotary dial                                                                   C:\2007 final code\user_routines.c
                                           	                                                                                C:\2007 final code\user_routines.c
005366   0e7f     MOVLW     0x7f           	if(p3_wheel == 127)                                                             C:\2007 final code\user_routines.c
005368   0102     MOVLB     0x2                                                                                             
00536a   5ded     SUBWF     0xed,0x0,0x1                                                                                    
00536c   e102     BNZ       0x5372                                                                                          
00536e   0103     MOVLB     0x3            		rotary_dial = 0;                                                               C:\2007 final code\user_routines.c
005370   6b31     CLRF      0x31,0x1                                                                                        
                                                                                                                            C:\2007 final code\user_routines.c
005372   0e06     MOVLW     0x6            	if((p3_wheel >= 6) && (p3_wheel <= 12))                                         C:\2007 final code\user_routines.c
005374   0102     MOVLB     0x2                                                                                             
005376   5ded     SUBWF     0xed,0x0,0x1                                                                                    
005378   e306     BNC       0x5386                                                                                          
00537a   51ed     MOVF      0xed,0x0,0x1                                                                                    
00537c   080c     SUBLW     0xc                                                                                             
00537e   e303     BNC       0x5386                                                                                          
005380   0103     MOVLB     0x3            		rotary_dial = 1;                                                               C:\2007 final code\user_routines.c
005382   0e01     MOVLW     0x1                                                                                             
005384   6f31     MOVWF     0x31,0x1                                                                                        
                                                                                                                            C:\2007 final code\user_routines.c
005386   0e1f     MOVLW     0x1f           	if((p3_wheel >= 31) && (p3_wheel <= 37))                                        C:\2007 final code\user_routines.c
005388   0102     MOVLB     0x2                                                                                             
00538a   5ded     SUBWF     0xed,0x0,0x1                                                                                    
00538c   e306     BNC       0x539a                                                                                          
00538e   51ed     MOVF      0xed,0x0,0x1                                                                                    
005390   0825     SUBLW     0x25                                                                                            
005392   e303     BNC       0x539a                                                                                          
005394   0103     MOVLB     0x3            		rotary_dial = 2;                                                               C:\2007 final code\user_routines.c
005396   0e02     MOVLW     0x2                                                                                             
005398   6f31     MOVWF     0x31,0x1                                                                                        
                                                                                                                            C:\2007 final code\user_routines.c
00539a   0e56     MOVLW     0x56           	if((p3_wheel >= 86) && (p3_wheel <= 92))                                        C:\2007 final code\user_routines.c
00539c   0102     MOVLB     0x2                                                                                             
00539e   5ded     SUBWF     0xed,0x0,0x1                                                                                    
0053a0   e306     BNC       0x53ae                                                                                          
0053a2   51ed     MOVF      0xed,0x0,0x1                                                                                    
0053a4   085c     SUBLW     0x5c                                                                                            
0053a6   e303     BNC       0x53ae                                                                                          
0053a8   0103     MOVLB     0x3            		rotary_dial = 3;                                                               C:\2007 final code\user_routines.c
0053aa   0e03     MOVLW     0x3                                                                                             
0053ac   6f31     MOVWF     0x31,0x1                                                                                        
                                                                                                                            C:\2007 final code\user_routines.c
0053ae   d91d     RCALL     0x55ea         	if((p3_wheel >= 141) && (p3_wheel <= 147))                                      C:\2007 final code\user_routines.c
0053b0   e604     BN        0x53ba                                                                                          
0053b2   0e8d     MOVLW     0x8d                                                                                            
0053b4   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
0053b6   0e00     MOVLW     0x0                                                                                             
0053b8   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
0053ba   e30d     BNC       0x53d6                                                                                          
0053bc   51ed     MOVF      0xed,0x0,0x1                                                                                    
0053be   6e2d     MOVWF     0x2d,0x0                                                                                        
0053c0   6a2e     CLRF      0x2e,0x0                                                                                        
0053c2   342e     RLCF      0x2e,0x0,0x0                                                                                    
0053c4   e204     BC        0x53ce                                                                                          
0053c6   502d     MOVF      0x2d,0x0,0x0                                                                                    
0053c8   0893     SUBLW     0x93                                                                                            
0053ca   0e00     MOVLW     0x0                                                                                             
0053cc   542e     SUBFWB    0x2e,0x0,0x0                                                                                    
0053ce   e303     BNC       0x53d6                                                                                          
0055ea   0102     MOVLB     0x2                                                                                             
0055ec   51ed     MOVF      0xed,0x0,0x1                                                                                    
0055ee   6e2b     MOVWF     0x2b,0x0                                                                                        
0055f0   6a2c     CLRF      0x2c,0x0                                                                                        
0055f2   90d8     BCF       0xd8,0x0,0x0                                                                                    
0055f4   502c     MOVF      0x2c,0x0,0x0                                                                                    
0055f6   0012     RETURN    0x0                                                                                             
0053d0   0103     MOVLB     0x3            		rotary_dial = 4;                                                               C:\2007 final code\user_routines.c
0053d2   0e04     MOVLW     0x4                                                                                             
0053d4   6f31     MOVWF     0x31,0x1                                                                                        
                                                                                                                            C:\2007 final code\user_routines.c
0053d6   d909     RCALL     0x55ea         	if((p3_wheel >= 196) && (p3_wheel <= 202))                                      C:\2007 final code\user_routines.c
0053d8   e604     BN        0x53e2                                                                                          
0053da   0ec4     MOVLW     0xc4                                                                                            
0053dc   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
0053de   0e00     MOVLW     0x0                                                                                             
0053e0   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
0053e2   e30d     BNC       0x53fe                                                                                          
0053e4   51ed     MOVF      0xed,0x0,0x1                                                                                    
0053e6   6e2d     MOVWF     0x2d,0x0                                                                                        
0053e8   6a2e     CLRF      0x2e,0x0                                                                                        
0053ea   342e     RLCF      0x2e,0x0,0x0                                                                                    
0053ec   e204     BC        0x53f6                                                                                          
0053ee   502d     MOVF      0x2d,0x0,0x0                                                                                    
0053f0   08ca     SUBLW     0xca                                                                                            
0053f2   0e00     MOVLW     0x0                                                                                             
0053f4   542e     SUBFWB    0x2e,0x0,0x0                                                                                    
0053f6   e303     BNC       0x53fe                                                                                          
0053f8   0103     MOVLB     0x3            		rotary_dial = 5;                                                               C:\2007 final code\user_routines.c
0053fa   0e05     MOVLW     0x5                                                                                             
0053fc   6f31     MOVWF     0x31,0x1                                                                                        
                                                                                                                            C:\2007 final code\user_routines.c
                                           // rocker switch                                                                 C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
0053fe   0102     MOVLB     0x2            	if((p3_sw_trig == 1) && (p3_sw_top == 0))                                       C:\2007 final code\user_routines.c
005400   51df     MOVF      0xdf,0x0,0x1                                                                                    
005402   0b10     ANDLW     0x10                                                                                            
005404   e005     BZ        0x5410                                                                                          
005406   51df     MOVF      0xdf,0x0,0x1                                                                                    
005408   0b20     ANDLW     0x20                                                                                            
00540a   e102     BNZ       0x5410                                                                                          
00540c   0103     MOVLB     0x3            		rocker_3_position_switch = -1;                                                 C:\2007 final code\user_routines.c
00540e   6932     SETF      0x32,0x1                                                                                        
                                                                                                                            C:\2007 final code\user_routines.c
005410   0102     MOVLB     0x2            	if((p3_sw_trig == 0) && (p3_sw_top == 1))                                       C:\2007 final code\user_routines.c
005412   51df     MOVF      0xdf,0x0,0x1                                                                                    
005414   0b10     ANDLW     0x10                                                                                            
005416   e106     BNZ       0x5424                                                                                          
005418   51df     MOVF      0xdf,0x0,0x1                                                                                    
00541a   0b20     ANDLW     0x20                                                                                            
00541c   e003     BZ        0x5424                                                                                          
00541e   0103     MOVLB     0x3            		rocker_3_position_switch = 1;                                                  C:\2007 final code\user_routines.c
005420   0e01     MOVLW     0x1                                                                                             
005422   6f32     MOVWF     0x32,0x1                                                                                        
                                                                                                                            C:\2007 final code\user_routines.c
005424   0102     MOVLB     0x2            	if((p3_sw_trig == 0) && (p3_sw_top == 0))                                       C:\2007 final code\user_routines.c
005426   51df     MOVF      0xdf,0x0,0x1                                                                                    
005428   0b10     ANDLW     0x10                                                                                            
00542a   e105     BNZ       0x5436                                                                                          
00542c   51df     MOVF      0xdf,0x0,0x1                                                                                    
00542e   0b20     ANDLW     0x20                                                                                            
005430   e102     BNZ       0x5436                                                                                          
005432   0103     MOVLB     0x3            		rocker_3_position_switch = 0;                                                  C:\2007 final code\user_routines.c
005434   6b32     CLRF      0x32,0x1                                                                                        
                                                                                                                            C:\2007 final code\user_routines.c
                                           // mini joystick 1                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
005436   0e01     MOVLW     0x1            mini_joystick_3 = make_a_5_position_switch(p3_y , 110, 150 , 68, 175, 1);        C:\2007 final code\user_routines.c
005438   6ee6     MOVWF     0xe6,0x0                                                                                        
00543a   0eaf     MOVLW     0xaf                                                                                            
00543c   6ee6     MOVWF     0xe6,0x0                                                                                        
00543e   0e44     MOVLW     0x44                                                                                            
005440   6ee6     MOVWF     0xe6,0x0                                                                                        
005442   0e96     MOVLW     0x96                                                                                            
005444   6ee6     MOVWF     0xe6,0x0                                                                                        
005446   0e6e     MOVLW     0x6e                                                                                            
005448   6ee6     MOVWF     0xe6,0x0                                                                                        
00544a   c2e5     MOVFF     0x2e5,0xfe6                                                                                     
00544c   ffe6                                                                                                               
00544e   d897     RCALL     0x557e                                                                                          
005450   0103     MOVLB     0x3                                                                                             
005452   6f35     MOVWF     0x35,0x1                                                                                        
                                                                                                                            C:\2007 final code\user_routines.c
                                           /*                                                                               C:\2007 final code\user_routines.c
                                           	if(p3_y > 150)                                                                  C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_1 = linear_regression_creator(150, 127, 200, 254, p3_y);	        C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	else if(p3_y < 110)                                                             C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_1 = linear_regression_creator(110, 127, 25, 0, p3_y);            C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	else                                                                            C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_1 = 127;                                                         C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           */                                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           // mini joystick 2                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
005454   6ae6     CLRF      0xe6,0x0       mini_joystick_1 = make_a_5_position_switch(p3_x , 112, 152 , 69, 182, 0);        C:\2007 final code\user_routines.c
005456   0eb6     MOVLW     0xb6                                                                                            
005458   6ee6     MOVWF     0xe6,0x0                                                                                        
00545a   0e45     MOVLW     0x45                                                                                            
00545c   6ee6     MOVWF     0xe6,0x0                                                                                        
00545e   0e98     MOVLW     0x98                                                                                            
005460   6ee6     MOVWF     0xe6,0x0                                                                                        
005462   0e70     MOVLW     0x70                                                                                            
005464   6ee6     MOVWF     0xe6,0x0                                                                                        
005466   c2e9     MOVFF     0x2e9,0xfe6                                                                                     
005468   ffe6                                                                                                               
00546a   d889     RCALL     0x557e                                                                                          
00546c   0103     MOVLB     0x3                                                                                             
00546e   6f33     MOVWF     0x33,0x1                                                                                        
                                                                                                                            C:\2007 final code\user_routines.c
                                           /*                                                                               C:\2007 final code\user_routines.c
                                           	if(p3_x > 154)                                                                  C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_2 = linear_regression_creator(154, 127, 210, 254, p3_x);	        C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	else if(p3_x < 114)                                                             C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_2 = linear_regression_creator(114, 127, 50, 0, p3_x);            C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	else                                                                            C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_2 = 127;                                                         C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           */                                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           // mini joystick 3                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
005470   6ae6     CLRF      0xe6,0x0       mini_joystick_2 = make_a_5_position_switch(p3_aux , 120, 160 , 95, 185, 0);      C:\2007 final code\user_routines.c
005472   0eb9     MOVLW     0xb9                                                                                            
005474   6ee6     MOVWF     0xe6,0x0                                                                                        
005476   0e5f     MOVLW     0x5f                                                                                            
005478   6ee6     MOVWF     0xe6,0x0                                                                                        
00547a   0ea0     MOVLW     0xa0                                                                                            
00547c   6ee6     MOVWF     0xe6,0x0                                                                                        
00547e   0e78     MOVLW     0x78                                                                                            
005480   6ee6     MOVWF     0xe6,0x0                                                                                        
005482   c2f1     MOVFF     0x2f1,0xfe6                                                                                     
005484   ffe6                                                                                                               
005486   d87b     RCALL     0x557e                                                                                          
005488   0103     MOVLB     0x3                                                                                             
00548a   6f34     MOVWF     0x34,0x1                                                                                        
00557e   dfad     RCALL     0x54da                                                                                          
005580   6ef5     MOVWF     0xf5,0x0                                                                                        
005582   0e06     MOVLW     0x6                                                                                             
005584   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
005586   50f5     MOVF      0xf5,0x0,0x0                                                                                    
005588   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\user_routines.c
                                           /*                                                                               C:\2007 final code\user_routines.c
                                           	if(p3_aux > 160)                                                                C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_3 = linear_regression_creator(160, 127, 215, 254, p3_aux);	      C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	else if(p3_aux < 120)                                                           C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_3 = linear_regression_creator(120, 127, 55, 0, p3_aux);          C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	else                                                                            C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_3 = 127;                                                         C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           */                                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           //  printf("outputs: rotary_dial, rocker_switch, mini joy 1, mini joy 2, mini joy 3 \r%d\r%d\r%d,%d,%d\r\r", rotary_dial,rocker_3_position_switch,mini_joystick_1,mini_joystick_2,mini_joystick_3); C:\2007 final code\user_routines.c
                                           //  printf("outputs: mini joy 1, mini joy 2, mini joy 3 \r%d,%d,%d\r\r", mini_joystick_1,mini_joystick_2,mini_joystick_3); C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           #endif                                                                           C:\2007 final code\user_routines.c
                                           	                                                                                C:\2007 final code\user_routines.c
                                           #if COPILOT_BOX_2                                                                C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           // rotary dial                                                                   C:\2007 final code\user_routines.c
                                           	                                                                                C:\2007 final code\user_routines.c
                                           	if(p3_wheel == 127)                                                             C:\2007 final code\user_routines.c
                                           		rotary_dial = 0;                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	if((p3_wheel >= 31) && (p3_wheel <= 37))                                        C:\2007 final code\user_routines.c
                                           		rotary_dial = 1;                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	if((p3_wheel >= 55) && (p3_wheel <= 61))                                        C:\2007 final code\user_routines.c
                                           		rotary_dial = 2;                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	if((p3_wheel >= 104) && (p3_wheel <= 110))                                      C:\2007 final code\user_routines.c
                                           		rotary_dial = 3;                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	if((p3_wheel >= 152) && (p3_wheel <= 158))                                      C:\2007 final code\user_routines.c
                                           		rotary_dial = 4;                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	if((p3_wheel >= 202) && (p3_wheel <= 208))                                      C:\2007 final code\user_routines.c
                                           		rotary_dial = 5;                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           // rocker switch                                                                 C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	if((p3_sw_trig == 1) && (p3_sw_top == 0))                                       C:\2007 final code\user_routines.c
                                           		rocker_3_position_switch = -1;                                                 C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	if((p3_sw_trig == 0) && (p3_sw_top == 1))                                       C:\2007 final code\user_routines.c
                                           		rocker_3_position_switch = 1;                                                  C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	if((p3_sw_trig == 0) && (p3_sw_top == 0))                                       C:\2007 final code\user_routines.c
                                           		rocker_3_position_switch = 0;                                                  C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           // mini joystick 1                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           mini_joystick_1 = make_a_5_position_switch(p3_x , 69, 109 , 35, 157, 1);         C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           /*                                                                               C:\2007 final code\user_routines.c
                                           	if(p3_y > 150)                                                                  C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_1 = linear_regression_creator(150, 127, 200, 254, p3_y);	        C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	else if(p3_y < 110)                                                             C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_1 = linear_regression_creator(110, 127, 25, 0, p3_y);            C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	else                                                                            C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_1 = 127;                                                         C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           */                                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           // mini joystick 2                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           mini_joystick_2 = make_a_5_position_switch(p3_y , 102, 142 , 69, 191, 1);        C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           /*                                                                               C:\2007 final code\user_routines.c
                                           	if(p3_x > 154)                                                                  C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_2 = linear_regression_creator(154, 127, 210, 254, p3_x);	        C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	else if(p3_x < 114)                                                             C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_2 = linear_regression_creator(114, 127, 50, 0, p3_x);            C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	else                                                                            C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_2 = 127;                                                         C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           */                                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           // mini joystick 3                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           mini_joystick_3 = make_a_5_position_switch(p3_aux , 104, 144 , 60, 170, 1);      C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           /*                                                                               C:\2007 final code\user_routines.c
                                           	if(p3_aux > 160)                                                                C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_3 = linear_regression_creator(160, 127, 215, 254, p3_aux);	      C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	else if(p3_aux < 120)                                                           C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_3 = linear_regression_creator(120, 127, 55, 0, p3_aux);          C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	else                                                                            C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		mini_joystick_3 = 127;                                                         C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           */                                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           //  printf("outputs: rotary_dial, rocker_switch, mini joy 1, mini joy 2, mini joy 3 \r%d\r%d\r%d,%d,%d\r\r", rotary_dial,rocker_3_position_switch,mini_joystick_1,mini_joystick_2,mini_joystick_3); C:\2007 final code\user_routines.c
                                           //  printf("outputs: mini joy 1, mini joy 2, mini joy 3 \r%d,%d,%d\r\r", mini_joystick_1,mini_joystick_2,mini_joystick_3); C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           #endif                                                                           C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	                                                                                C:\2007 final code\user_routines.c
                                           #if 0                                                                            C:\2007 final code\user_routines.c
                                           //	printf("joystick 1, joystick 2, joystick 3, %d,%d,%d\r\r",p3_y,p3_x,p3_aux);  C:\2007 final code\user_routines.c
                                           //	printf("rotary_dial \r%d\r",p3_wheel);                                        C:\2007 final code\user_routines.c
                                           //	printf("3 Position Switch: Backwards,Forwards \r%d,%d\r\r",p3_sw_top,p3_sw_trig); C:\2007 final code\user_routines.c
                                           #endif                                                                           C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           //////////////////////////////////                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	//If buttons 3 and 4 are being pressed simultaneously, put in calibration mode  C:\2007 final code\user_routines.c
00548c   0102     MOVLB     0x2            	if((CAL_SWITCHONE && CAL_SWITCHTWO) && !(do_cal))                               C:\2007 final code\user_routines.c
00548e   51df     MOVF      0xdf,0x0,0x1                                                                                    
005490   0b04     ANDLW     0x4                                                                                             
005492   e00e     BZ        0x54b0                                                                                          
005494   51df     MOVF      0xdf,0x0,0x1                                                                                    
005496   0b08     ANDLW     0x8                                                                                             
005498   e00b     BZ        0x54b0                                                                                          
00549a   0103     MOVLB     0x3                                                                                             
00549c   515a     MOVF      0x5a,0x0,0x1                                                                                    
00549e   e108     BNZ       0x54b0                                                                                          
                                           	{                                                                               C:\2007 final code\user_routines.c
0054a0   0e01     MOVLW     0x1            		do_cal = 1;                                                                    C:\2007 final code\user_routines.c
0054a2   6f5a     MOVWF     0x5a,0x1                                                                                        
                                           #ifdef CAL_DEBUG                                                                 C:\2007 final code\user_routines.c
0054a4   0e80     MOVLW     0x80           		printf("do_cal is now 1\r");                                                   C:\2007 final code\user_routines.c
0054a6   6ee6     MOVWF     0xe6,0x0                                                                                        
0054a8   0e42     MOVLW     0x42                                                                                            
0054aa   6ee6     MOVWF     0xe6,0x0                                                                                        
0054ac   0e00     MOVLW     0x0                                                                                             
0054ae   d896     RCALL     0x55dc                                                                                          
                                           #endif                                                                           C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	                                                                                C:\2007 final code\user_routines.c
                                           	//we want to use this to display other info                                     C:\2007 final code\user_routines.c
                                           	                                                                                C:\2007 final code\user_routines.c
                                           	//Calibration                                                                   C:\2007 final code\user_routines.c
0054b0   0103     MOVLB     0x3            	if(do_cal)                                                                      C:\2007 final code\user_routines.c
0054b2   515a     MOVF      0x5a,0x0,0x1                                                                                    
0054b4   e005     BZ        0x54c0                                                                                          
                                           	{                                                                               C:\2007 final code\user_routines.c
0054b6   ec12     CALL      0x2a24,0x0     		calibrate_two_at_a_time();                                                     C:\2007 final code\user_routines.c
0054b8   f015                                                                                                               
0054ba   ecce     CALL      0x6b9c,0x0     		EEPROM_write();                                                                C:\2007 final code\user_routines.c
0054bc   f035                                                                                                               
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	//drive                                                                         C:\2007 final code\user_routines.c
0054be   d00b     BRA       0x54d6         	else                                                                            C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
0054c0   c2eb     MOVFF     0x2eb,0xfe6    	  	crab_drive(JOY_X, JOY_Y, JOY_Z);                                             C:\2007 final code\user_routines.c
0054c2   ffe6                                                                                                               
0054c4   c2e3     MOVFF     0x2e3,0xfe6                                                                                     
0054c6   ffe6                                                                                                               
0054c8   c2e7     MOVFF     0x2e7,0xfe6                                                                                     
0054ca   ffe6                                                                                                               
0054cc   ec94     CALL      0x4d28,0x0                                                                                      
0054ce   f026                                                                                                               
0054d0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0054d2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0054d4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           	}                                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	// pack user bytes for dashboard display                                        C:\2007 final code\user_routines.c
0054d6   efee     GOTO      0x67dc         	Store_User_Bytes();                                                             C:\2007 final code\user_routines.c
0054d8   f033                                                                                                               
                                           	                                                                                C:\2007 final code\user_routines.c
                                           	//  camera_debug();                                                             C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           } /* END Default_Routine(); */                                                   C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           /******************************************************************************/ C:\2007 final code\user_routines.c
                                           /******************************************************************************/ C:\2007 final code\user_routines.c
                                           /******************************************************************************/ C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           // ROBERT CAN THIS CODE BE DELETED???                                            C:\2007 final code\user_routines.c
                                           /*                                                                               C:\2007 final code\user_routines.c
                                           int linear_regression_creator(int x1, int y1, int x2, int y2, int input)         C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           {                                                                                C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           long hold_value_1; // variable to hold temporary values                          C:\2007 final code\user_routines.c
                                           long hold_value_2; // variable to hold temporary values                          C:\2007 final code\user_routines.c
                                           long m; // m as in y = mx + b                                                    C:\2007 final code\user_routines.c
                                           long b; // b as in y = mx + b                                                    C:\2007 final code\user_routines.c
                                           int output;                                                                      C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           // find slope of linear relationship                                             C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	hold_value_1 = y1 - y2; // set the first hold value to the top part of slope equation C:\2007 final code\user_routines.c
                                           	hold_value_2 = x1 - x2; // set the second hold value to the bottom part of slope equation C:\2007 final code\user_routines.c
                                           	hold_value_1 = hold_value_1 * 50; // multiply the top part by 50 to avoid calculations with floats C:\2007 final code\user_routines.c
                                           	m = hold_value_1 / hold_value_2; // division part of slope equation, yielding an m = to 100* actual m C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           // find y-intercept of linear relationship	                                      C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	hold_value_2 = x1; // work around type casting                                  C:\2007 final code\user_routines.c
                                           	hold_value_1 = -1 * hold_value_2; // invert x1 for equation b = -m*x1 + y       C:\2007 final code\user_routines.c
                                           	hold_value_1 = m * hold_value_2; // multiply x1 by the slope, value is 100x actual C:\2007 final code\user_routines.c
                                           	hold_value_1 = hold_value_1 / 50; // revert from 50x actual value               C:\2007 final code\user_routines.c
                                           	b = hold_value_1 + y1; // complete equation                                     C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           // run data through equation                                                     C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	hold_value_2 = input; // work around type casting                               C:\2007 final code\user_routines.c
                                           	hold_value_1 = hold_value_2 * m; //multiply by slope, value is 100x actual      C:\2007 final code\user_routines.c
                                           	hold_value_2 = hold_value_1 / 50; // revert from 50x actual value               C:\2007 final code\user_routines.c
                                           	hold_value_1 = hold_value_2 + b;                                                C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           // check to make sure it is a 0 - 254 value                                      C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           printf("hold_value_1, %d\r", hold_value_1);                                      C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	if(hold_value_1 < 0) // if less than 0                                          C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		output = 0; // set to 0                                                        C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	else if(hold_value_1 > 254) // if greater than 254                              C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		output = 254; // set to 254                                                    C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                           	else                                                                            C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
                                           		output = hold_value_1;                                                         C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           return output;                                                                   C:\2007 final code\user_routines.c
                                           }                                                                                C:\2007 final code\user_routines.c
                                           */                                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
0054da   d860     RCALL     0x559c         unsigned char make_a_5_position_switch(unsigned char input, unsigned char lower_deadzone, unsigned char upper_deadzone, unsigned char lower_midpoint, unsigned char upper_midpoint, unsigned char invert) C:\2007 final code\user_routines.c
                                           {                                                                                C:\2007 final code\user_routines.c
0054dc   0ef9     MOVLW     0xf9           	if(invert)                                                                      C:\2007 final code\user_routines.c
0054de   50db     MOVF      0xdb,0x0,0x0                                                                                    
0054e0   e019     BZ        0x5514                                                                                          
                                           	{                                                                               C:\2007 final code\user_routines.c
0054e2   0efd     MOVLW     0xfd           		if((input >= lower_deadzone) && (input <= upper_deadzone))                     C:\2007 final code\user_routines.c
0054e4   d835     RCALL     0x5550                                                                                          
0054e6   e302     BNC       0x54ec                                                                                          
0054e8   d862     RCALL     0x55ae                                                                                          
0054ea   e219     BC        0x551e                                                                                          
0055ae   0efe     MOVLW     0xfe                                                                                            
0055b0   cfdb     MOVFF     0xfdb,0x2b                                                                                      
0055b2   f02b                                                                                                               
0055b4   0efc     MOVLW     0xfc                                                                                            
0055b6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0055b8   80d8     BSF       0xd8,0x0,0x0                                                                                    
0055ba   542b     SUBFWB    0x2b,0x0,0x0                                                                                    
0055bc   0012     RETURN    0x0                                                                                             
                                           		{                                                                              C:\2007 final code\user_routines.c
                                           			return 127;                                                                   C:\2007 final code\user_routines.c
                                           		}                                                                              C:\2007 final code\user_routines.c
0054ec   0efb     MOVLW     0xfb           		if((input >= lower_midpoint) && (input < lower_deadzone))                      C:\2007 final code\user_routines.c
0054ee   d830     RCALL     0x5550                                                                                          
0054f0   e303     BNC       0x54f8                                                                                          
0054f2   0efd     MOVLW     0xfd                                                                                            
0054f4   d82d     RCALL     0x5550                                                                                          
0054f6   e326     BNC       0x5544                                                                                          
                                           		{                                                                              C:\2007 final code\user_routines.c
                                           			return 191;                                                                   C:\2007 final code\user_routines.c
                                           		}	                                                                             C:\2007 final code\user_routines.c
0054f8   0efb     MOVLW     0xfb           		if(input < lower_midpoint)                                                     C:\2007 final code\user_routines.c
0054fa   d82a     RCALL     0x5550                                                                                          
0054fc   e202     BC        0x5502                                                                                          
                                           		{                                                                              C:\2007 final code\user_routines.c
0054fe   0efe     MOVLW     0xfe           			return 254;                                                                   C:\2007 final code\user_routines.c
005500   d026     BRA       0x554e                                                                                          
                                           		}	                                                                             C:\2007 final code\user_routines.c
005502   d82e     RCALL     0x5560         		if((input <= upper_midpoint) && (input > upper_deadzone))                      C:\2007 final code\user_routines.c
005504   e304     BNC       0x550e                                                                                          
005506   d85b     RCALL     0x55be                                                                                          
005508   e202     BC        0x550e                                                                                          
0055be   0efe     MOVLW     0xfe                                                                                            
0055c0   cfdb     MOVFF     0xfdb,0x2c                                                                                      
0055c2   f02c                                                                                                               
0055c4   0efc     MOVLW     0xfc                                                                                            
0055c6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0055c8   80d8     BSF       0xd8,0x0,0x0                                                                                    
0055ca   542c     SUBFWB    0x2c,0x0,0x0                                                                                    
0055cc   0012     RETURN    0x0                                                                                             
                                           		{                                                                              C:\2007 final code\user_routines.c
00550a   0ea3     MOVLW     0xa3           			return 163;                                                                   C:\2007 final code\user_routines.c
00550c   d020     BRA       0x554e                                                                                          
                                           		}	                                                                             C:\2007 final code\user_routines.c
00550e   d828     RCALL     0x5560         		if(input > upper_midpoint)                                                     C:\2007 final code\user_routines.c
005510   e21e     BC        0x554e                                                                                          
                                           		{                                                                              C:\2007 final code\user_routines.c
005512   d012     BRA       0x5538         			return 0;                                                                     C:\2007 final code\user_routines.c
                                           		}                                                                              C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
                                                                                                                            C:\2007 final code\user_routines.c
                                           	else                                                                            C:\2007 final code\user_routines.c
                                           	{                                                                               C:\2007 final code\user_routines.c
005514   0efd     MOVLW     0xfd           		if((input >= lower_deadzone) && (input <= upper_deadzone))                     C:\2007 final code\user_routines.c
005516   d81c     RCALL     0x5550                                                                                          
005518   e304     BNC       0x5522                                                                                          
00551a   d849     RCALL     0x55ae                                                                                          
00551c   e302     BNC       0x5522                                                                                          
                                           		{                                                                              C:\2007 final code\user_routines.c
00551e   0e7f     MOVLW     0x7f           			return 127;                                                                   C:\2007 final code\user_routines.c
005520   d016     BRA       0x554e                                                                                          
                                           		}                                                                              C:\2007 final code\user_routines.c
005522   0efb     MOVLW     0xfb           		if((input >= lower_midpoint) && (input < lower_deadzone))                      C:\2007 final code\user_routines.c
005524   d815     RCALL     0x5550                                                                                          
005526   e305     BNC       0x5532                                                                                          
005528   0efd     MOVLW     0xfd                                                                                            
00552a   d812     RCALL     0x5550                                                                                          
00552c   e202     BC        0x5532                                                                                          
                                           		{                                                                              C:\2007 final code\user_routines.c
00552e   0e3f     MOVLW     0x3f           			return 63;                                                                    C:\2007 final code\user_routines.c
005530   d00e     BRA       0x554e                                                                                          
                                           		}	                                                                             C:\2007 final code\user_routines.c
005532   0efb     MOVLW     0xfb           		if(input < lower_midpoint)                                                     C:\2007 final code\user_routines.c
005534   d80d     RCALL     0x5550                                                                                          
005536   e202     BC        0x553c                                                                                          
005550   50db     MOVF      0xdb,0x0,0x0                                                                                    
005552   6ef3     MOVWF     0xf3,0x0                                                                                        
005554   0efe     MOVLW     0xfe                                                                                            
005556   cfdb     MOVFF     0xfdb,0xff4                                                                                     
005558   fff4                                                                                                               
00555a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00555c   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
00555e   0012     RETURN    0x0                                                                                             
                                           		{                                                                              C:\2007 final code\user_routines.c
005538   0e00     MOVLW     0x0            			return 0;                                                                     C:\2007 final code\user_routines.c
00553a   d009     BRA       0x554e                                                                                          
                                           		}	                                                                             C:\2007 final code\user_routines.c
00553c   d811     RCALL     0x5560         		if((input <= upper_midpoint) && (input > upper_deadzone))                      C:\2007 final code\user_routines.c
00553e   e304     BNC       0x5548                                                                                          
005540   d83e     RCALL     0x55be                                                                                          
005542   e202     BC        0x5548                                                                                          
                                           		{                                                                              C:\2007 final code\user_routines.c
005544   0ebf     MOVLW     0xbf           			return 191;                                                                   C:\2007 final code\user_routines.c
005546   d003     BRA       0x554e                                                                                          
                                           		}	                                                                             C:\2007 final code\user_routines.c
005548   d80b     RCALL     0x5560         		if(input > upper_midpoint)                                                     C:\2007 final code\user_routines.c
00554a   e201     BC        0x554e                                                                                          
005560   0efe     MOVLW     0xfe                                                                                            
005562   cfdb     MOVFF     0xfdb,0x2b                                                                                      
005564   f02b                                                                                                               
005566   0efa     MOVLW     0xfa                                                                                            
005568   50db     MOVF      0xdb,0x0,0x0                                                                                    
00556a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00556c   542b     SUBFWB    0x2b,0x0,0x0                                                                                    
00556e   0012     RETURN    0x0                                                                                             
                                           		{                                                                              C:\2007 final code\user_routines.c
00554c   0efe     MOVLW     0xfe           			return 254;                                                                   C:\2007 final code\user_routines.c
                                           		}                                                                              C:\2007 final code\user_routines.c
                                           	}                                                                               C:\2007 final code\user_routines.c
00554e   d02b     BRA       0x55a6         }                                                                                C:\2007 final code\user_routines.c
0055a6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0055a8   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0055aa   ffd9                                                                                                               
0055ac   0012     RETURN    0x0                                                                                             
                                           /******************************************************************************* C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	TITLE		adc.c                                                                   C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	VERSION:	0.4 (Beta)                                                            C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	DATE:		10-Jan-2006                                                             C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	AUTHOR:		R. Kevin Watson                                                       C:\2007 final code\adc.c
                                           *				kevinw@jpl.nasa.gov                                                         C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	COMMENTS:	You are free to use this source code for any non-commercial          C:\2007 final code\adc.c
                                           *				use. Please do not make copies of this source code, modified                C:\2007 final code\adc.c
                                           *				or un-modified, publicly available on the internet or                       C:\2007 final code\adc.c
                                           *				elsewhere without permission. Thanks.                                       C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *				Copyright 2005-2006 R. Kevin Watson. All rights are reserved.              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           ******************************************************************************** C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	CHANGE LOG:                                                                    C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	DATE         REV  DESCRIPTION                                                  C:\2007 final code\adc.c
                                           *	-----------  ---  ----------------------------------------------------------   C:\2007 final code\adc.c
                                           *	10-Jul-2005  0.1  RKW - Original code.                                         C:\2007 final code\adc.c
                                           *	17-Jul-2005  0.2  RKW - Added x128 and x256 oversampling options.              C:\2007 final code\adc.c
                                           *	13-Dec-2005  0.3  RKW - Altered code to use the "special event trigger"        C:\2007 final code\adc.c
                                           *	                  functionality of the CCP2 hardware to initiate ADC           C:\2007 final code\adc.c
                                           *	                  conversions. This was formally done using timer 2.           C:\2007 final code\adc.c
                                           *	10-Jan-2006  0.4  RKW - Ported to PIC18F8722, which required going back        C:\2007 final code\adc.c
                                           *	                  to using timer 2 to initiate an analog to digital            C:\2007 final code\adc.c
                                           *	                  conversion due to a bug in the PIC18F8722 design.            C:\2007 final code\adc.c
                                           *	                  Modified #pragma interruptlow statement to include           C:\2007 final code\adc.c
                                           *	                  .tmpdata section.                                            C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *******************************************************************************/ C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           #include "adc.h"                                                                 C:\2007 final code\adc.c
                                           #include "ifi_aliases.h"                                                         C:\2007 final code\adc.c
                                           #include "ifi_default.h"                                                         C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           unsigned int adc_sample_rate;                                                    C:\2007 final code\adc.c
                                           unsigned int adc_samples_per_update;                                             C:\2007 final code\adc.c
                                           unsigned char num_adc_channels;                                                  C:\2007 final code\adc.c
                                           unsigned char adc_result_divisor;                                                C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           volatile unsigned long accum[NUM_ADC_CHANNELS]; // sample accumulator            C:\2007 final code\adc.c
                                           volatile unsigned int adc_result[NUM_ADC_CHANNELS]; // ADC recults               C:\2007 final code\adc.c
                                           volatile unsigned int samples; // current number of samples accumulated          C:\2007 final code\adc.c
                                           volatile unsigned char channel; // current ADC channel                           C:\2007 final code\adc.c
                                           volatile unsigned char adc_update_count = 0; // ADC update flag                  C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           /******************************************************************************* C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	FUNCTION:		Initialize_ADC()                                                    C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PURPOSE:		Initializes the Analog to Digital Conversion (ADC) hardware.         C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	CALLED FROM:	user_routines.c/User_Initialization()                             C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PARAMETERS:		None                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	COMMENTS:		Place "#include "adc.h" in the includes section                     C:\2007 final code\adc.c
                                           *					of user_routines.c then call Initialize_ADC() in                           C:\2007 final code\adc.c
                                           *					user_routines.c/User_Initialization().                                     C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *******************************************************************************/ C:\2007 final code\adc.c
00598e   d97c     RCALL     0x5c88         void Initialize_ADC(void)                                                        C:\2007 final code\adc.c
005990   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\adc.c
                                           	unsigned char i;                                                                C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// Initialize ADC related global variables using default values from adc.h.     C:\2007 final code\adc.c
                                           	// Another way to do this would be to pass the values in, read them from        C:\2007 final code\adc.c
                                           	// values stored in EEPROM or perhaps set them via a menu-based terminal        C:\2007 final code\adc.c
                                           	// interface.                                                                   C:\2007 final code\adc.c
005992   0ec8     MOVLW     0xc8           	adc_sample_rate = ADC_SAMPLE_RATE;                                              C:\2007 final code\adc.c
005994   0102     MOVLB     0x2                                                                                             
005996   6f60     MOVWF     0x60,0x1                                                                                        
005998   6b61     CLRF      0x61,0x1                                                                                        
00599a   0e0e     MOVLW     0xe            	num_adc_channels = NUM_ADC_CHANNELS;                                            C:\2007 final code\adc.c
00599c   6f64     MOVWF     0x64,0x1                                                                                        
00599e   0e01     MOVLW     0x1            	adc_result_divisor = ADC_RESULT_DIVISOR;                                        C:\2007 final code\adc.c
0059a0   6f65     MOVWF     0x65,0x1                                                                                        
0059a2   0e04     MOVLW     0x4            	adc_samples_per_update = ADC_SAMPLES_PER_UPDATE;                                C:\2007 final code\adc.c
0059a4   6f62     MOVWF     0x62,0x1                                                                                        
0059a6   6b63     CLRF      0x63,0x1                                                                                        
                                                                                                                            C:\2007 final code\adc.c
                                           	// reset the sample accumulator(s) to zero                                      C:\2007 final code\adc.c
0059a8   6adf     CLRF      0xdf,0x0       	for(i=0; i < num_adc_channels; i++)                                             C:\2007 final code\adc.c
0059aa   5164     MOVF      0x64,0x0,0x1                                                                                    
0059ac   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0059ae   e208     BC        0x59c0                                                                                          
0059bc   2adf     INCF      0xdf,0x1,0x0                                                                                    
0059be   d7f5     BRA       0x59aa                                                                                          
                                           	{                                                                               C:\2007 final code\adc.c
0059b0   50df     MOVF      0xdf,0x0,0x0   		accum[i] = 0L;                                                                 C:\2007 final code\adc.c
0059b2   d973     RCALL     0x5c9a                                                                                          
0059b4   6aee     CLRF      0xee,0x0                                                                                        
0059b6   6aee     CLRF      0xee,0x0                                                                                        
0059b8   6aee     CLRF      0xee,0x0                                                                                        
0059ba   6aee     CLRF      0xee,0x0                                                                                        
005c9a   0d04     MULLW     0x4                                                                                             
005c9c   cff3     MOVFF     0xff3,0xfe9                                                                                     
005c9e   ffe9                                                                                                               
005ca0   cff4     MOVFF     0xff4,0xfea                                                                                     
005ca2   ffea                                                                                                               
005ca4   0e66     MOVLW     0x66                                                                                            
005ca6   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005ca8   0e02     MOVLW     0x2                                                                                             
005caa   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005cac   0012     RETURN    0x0                                                                                             
                                           	}                                                                               C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// start a new sample set                                                       C:\2007 final code\adc.c
0059c0   6bba     CLRF      0xba,0x1       	samples = 0;                                                                    C:\2007 final code\adc.c
0059c2   6bbb     CLRF      0xbb,0x1                                                                                        
                                                                                                                            C:\2007 final code\adc.c
                                           	// start at ADC channel zero                                                    C:\2007 final code\adc.c
0059c4   6bbc     CLRF      0xbc,0x1       	channel = 0;                                                                    C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// enable the ADC hardware and select ADC channel 0                             C:\2007 final code\adc.c
0059c6   0e01     MOVLW     0x1            	ADCON0 = 0b00000001;                                                            C:\2007 final code\adc.c
0059c8   6ec2     MOVWF     0xc2,0x0                                                                                        
                                                                                                                            C:\2007 final code\adc.c
                                           	#ifdef _FRC_BOARD                                                               C:\2007 final code\adc.c
                                           	// If this is being built for the FRC-RC, enable all sixteen analog             C:\2007 final code\adc.c
                                           	// inputs. This shouldn't be changed because the FRC-RC has sixteen             C:\2007 final code\adc.c
                                           	// dedicated analog inputs. The VCFG0 and VCFG1 bits are also set to            C:\2007 final code\adc.c
                                           	// select Vdd and Vss as the reference voltages                                 C:\2007 final code\adc.c
0059ca   6ac1     CLRF      0xc1,0x0       	ADCON1 = 0;                                                                     C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	#else                                                                           C:\2007 final code\adc.c
                                           	// If this is being built for the EDU-RC, enable NUM_ADC_CHANNELS               C:\2007 final code\adc.c
                                           	// analog inputs (NUM_ADC_CHANNELS is documented in adc.h). This must           C:\2007 final code\adc.c
                                           	// match the default value used in user_routines.c/User_Initialization()/       C:\2007 final code\adc.c
                                           	// Set_Number_of_Analog_Channels(). The VCFG0 and VCFG1 bits are also           C:\2007 final code\adc.c
                                           	// set to select Vdd and Vss as the reference voltages                          C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	if(num_adc_channels >= 1 && num_adc_channels <= 14)                             C:\2007 final code\adc.c
                                           	{                                                                               C:\2007 final code\adc.c
                                           		ADCON1 = 15 - num_adc_channels;                                                C:\2007 final code\adc.c
                                           	}                                                                               C:\2007 final code\adc.c
                                            	else                                                                           C:\2007 final code\adc.c
                                           	{                                                                               C:\2007 final code\adc.c
                                           		ADCON1 = 0; // sixteen channnels or out of range                               C:\2007 final code\adc.c
                                           	}                                                                               C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	#endif                                                                          C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// select Fosc/64 as the ADC Conversion Clock and right justify data            C:\2007 final code\adc.c
                                           	// in the conversion result register                                            C:\2007 final code\adc.c
0059cc   0e86     MOVLW     0x86           	ADCON2 = 0b10000110;                                                            C:\2007 final code\adc.c
0059ce   6ec0     MOVWF     0xc0,0x0                                                                                        
                                                                                                                            C:\2007 final code\adc.c
                                           	// ADC interrupt is low priority                                                C:\2007 final code\adc.c
0059d0   9c9f     BCF       0x9f,0x6,0x0   	IPR1bits.ADIP = 0;                                                              C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// to prevent a spurious interrupt, make sure the interrupt flag is reset       C:\2007 final code\adc.c
0059d2   9c9e     BCF       0x9e,0x6,0x0   	PIR1bits.ADIF = 0;                                                              C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// enable the ADC interrupt                                                     C:\2007 final code\adc.c
0059d4   8c9d     BSF       0x9d,0x6,0x0   	PIE1bits.ADIE = 1;                                                              C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// initialize and start timer 2, which is responsible for starting              C:\2007 final code\adc.c
                                           	// analog to digital conversions                                                C:\2007 final code\adc.c
0059d6   c260     MOVFF     0x260,0xfe6    	Initialize_Timer_2(adc_sample_rate);                                            C:\2007 final code\adc.c
0059d8   ffe6                                                                                                               
0059da   c261     MOVFF     0x261,0xfe6                                                                                     
0059dc   ffe6                                                                                                               
0059de   d80b     RCALL     0x59f6                                                                                          
0059e0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0059e2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0059e4   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\adc.c
0059e6   d155     BRA       0x5c92                                                                                          
                                                                                                                            C:\2007 final code\adc.c
                                           /******************************************************************************* C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	FUNCTION:		Disable_ADC()                                                       C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PURPOSE:		Disables the Analog to Digital Conversion (ADC) hardware.            C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PARAMETERS:		None                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	COMMENTS:                                                                      C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *******************************************************************************/ C:\2007 final code\adc.c
0059e8   d94f     RCALL     0x5c88         void Disable_ADC(void)                                                           C:\2007 final code\adc.c
0059ea   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\adc.c
                                           	unsigned char i;                                                                C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// disable timer 2                                                              C:\2007 final code\adc.c
0059ec   d846     RCALL     0x5a7a         	Disable_Timer_2();                                                              C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// disable the ADC interrupt                                                    C:\2007 final code\adc.c
0059ee   9c9d     BCF       0x9d,0x6,0x0   	PIE1bits.ADIE = 0;                                                              C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// disable the ADC hardware and select ADC channel 0                            C:\2007 final code\adc.c
0059f0   6ac2     CLRF      0xc2,0x0       	ADCON0 = 0b00000000;                                                            C:\2007 final code\adc.c
0059f2   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\adc.c
0059f4   d14e     BRA       0x5c92                                                                                          
                                                                                                                            C:\2007 final code\adc.c
                                           /******************************************************************************* C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	FUNCTION:		Initialize_Timer_2()                                                C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PURPOSE:		Initializes the timer 2 hardware, which is responsible for           C:\2007 final code\adc.c
                                           *					periodically starting analog to digital conversions.                       C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	CALLED FROM:	adc.c/Initialize_ADC()                                            C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PARAMETERS:		Unsigned integer containing the sample rate expressed in Hz       C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	COMMENTS:		The only supported sample rates are 200Hz, 400Hz, 800Hz,            C:\2007 final code\adc.c
                                           *					1600Hz, 3200Hz and 6400Hz.                                                 C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *******************************************************************************/ C:\2007 final code\adc.c
0059f6   d948     RCALL     0x5c88         void Initialize_Timer_2(unsigned int adc_sample_rate)                            C:\2007 final code\adc.c
                                           {                                                                                C:\2007 final code\adc.c
0059f8   0efd     MOVLW     0xfd           	switch(adc_sample_rate)                                                         C:\2007 final code\adc.c
0059fa   cfdb     MOVFF     0xfdb,0x1d                                                                                      
0059fc   f01d                                                                                                               
0059fe   0efe     MOVLW     0xfe                                                                                            
005a00   cfdb     MOVFF     0xfdb,0x1e                                                                                      
005a02   f01e                                                                                                               
005a04   501d     MOVF      0x1d,0x0,0x0                                                                                    
005a06   e102     BNZ       0x5a0c                                                                                          
005a08   0e19     MOVLW     0x19                                                                                            
005a0a   181e     XORWF     0x1e,0x0,0x0                                                                                    
005a0c   e028     BZ        0x5a5e                                                                                          
005a0e   0e80     MOVLW     0x80                                                                                            
005a10   181d     XORWF     0x1d,0x0,0x0                                                                                    
005a12   e102     BNZ       0x5a18                                                                                          
005a14   0e0c     MOVLW     0xc                                                                                             
005a16   181e     XORWF     0x1e,0x0,0x0                                                                                    
005a18   e01e     BZ        0x5a56                                                                                          
005a1a   0e40     MOVLW     0x40                                                                                            
005a1c   181d     XORWF     0x1d,0x0,0x0                                                                                    
005a1e   e102     BNZ       0x5a24                                                                                          
005a20   0e06     MOVLW     0x6                                                                                             
005a22   181e     XORWF     0x1e,0x0,0x0                                                                                    
005a24   e016     BZ        0x5a52                                                                                          
005a26   0e20     MOVLW     0x20                                                                                            
005a28   181d     XORWF     0x1d,0x0,0x0                                                                                    
005a2a   e102     BNZ       0x5a30                                                                                          
005a2c   0e03     MOVLW     0x3                                                                                             
005a2e   181e     XORWF     0x1e,0x0,0x0                                                                                    
005a30   e00e     BZ        0x5a4e                                                                                          
005a32   0e90     MOVLW     0x90                                                                                            
005a34   181d     XORWF     0x1d,0x0,0x0                                                                                    
005a36   e102     BNZ       0x5a3c                                                                                          
005a38   0e01     MOVLW     0x1                                                                                             
005a3a   181e     XORWF     0x1e,0x0,0x0                                                                                    
005a3c   e006     BZ        0x5a4a                                                                                          
005a3e   0ec8     MOVLW     0xc8                                                                                            
005a40   181d     XORWF     0x1d,0x0,0x0                                                                                    
005a42   e111     BNZ       0x5a66                                                                                          
005a44   501e     MOVF      0x1e,0x0,0x0                                                                                    
005a46   e10f     BNZ       0x5a66                                                                                          
                                           	{                                                                               C:\2007 final code\adc.c
                                           		case 200:                                                                      C:\2007 final code\adc.c
                                           			// use these parameters for a 200Hz ADC sample rate                           C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           			// use a 1:16 prescaler and 1:14 postscaler                                   C:\2007 final code\adc.c
                                           			T2CON = 0b01101010;                                                           C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           			// Count to 221 before rolling over and generating                            C:\2007 final code\adc.c
                                           			// an interrupt (223.21 - 2 is ideal)                                         C:\2007 final code\adc.c
                                           			PR2	= 221;                                                                    C:\2007 final code\adc.c
005a48   d00e     BRA       0x5a66         			break;                                                                        C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           		case 400:                                                                      C:\2007 final code\adc.c
                                           			// use these parameters for a 400Hz ADC sample rate                           C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           			// use a 1:16 prescaler and 1:11 postscaler                                   C:\2007 final code\adc.c
005a4a   0e52     MOVLW     0x52           			T2CON = 0b01010010;                                                           C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           			// Count to 140 before rolling over and generating                            C:\2007 final code\adc.c
                                           			// an interrupt (142.05 - 2 is ideal)                                         C:\2007 final code\adc.c
                                           			PR2	= 140;                                                                    C:\2007 final code\adc.c
005a4c   d009     BRA       0x5a60         			break;                                                                        C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           		case 800:                                                                      C:\2007 final code\adc.c
                                           			// use these parameters for a 800Hz ADC sample rate                           C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           			// use a 1:16 prescaler and 1:11 postscaler                                   C:\2007 final code\adc.c
005a4e   0e52     MOVLW     0x52           			T2CON = 0b01010010;                                                           C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           			// Count to 69 before rolling over and generating                             C:\2007 final code\adc.c
                                           			// an interrupt (71.02 - 2 is ideal)                                          C:\2007 final code\adc.c
                                           			PR2	= 69;                                                                     C:\2007 final code\adc.c
005a50   d003     BRA       0x5a58         			break;                                                                        C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           		case 1600:                                                                     C:\2007 final code\adc.c
                                           			// use these parameters for a 1600Hz ADC sample rate                          C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           			// use a 1:4 prescaler and 1:11 postscaler                                    C:\2007 final code\adc.c
005a52   0e51     MOVLW     0x51           			T2CON = 0b01010001;                                                           C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           			// Count to 140 before rolling over and generating                            C:\2007 final code\adc.c
                                           			// an interrupt (142.05 - 2 is ideal)                                         C:\2007 final code\adc.c
                                           			PR2	= 140;                                                                    C:\2007 final code\adc.c
005a54   d005     BRA       0x5a60         			break;                                                                        C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           		case 3200:                                                                     C:\2007 final code\adc.c
                                           			// use these parameters for a 3200Hz ADC sample rate                          C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           			// use a 1:1 prescaler and 1:11 postscaler                                    C:\2007 final code\adc.c
005a56   0e51     MOVLW     0x51           			T2CON = 0b01010001;                                                           C:\2007 final code\adc.c
005a58   6eca     MOVWF     0xca,0x0                                                                                        
                                                                                                                            C:\2007 final code\adc.c
                                           			// Count to 69 before rolling over and generating                             C:\2007 final code\adc.c
                                           			// an interrupt (71.02 - 2 is ideal)                                          C:\2007 final code\adc.c
005a5a   0e45     MOVLW     0x45           			PR2	= 69;                                                                     C:\2007 final code\adc.c
005a5c   d007     BRA       0x5a6c         			break;                                                                        C:\2007 final code\adc.c
                                           	                                                                                C:\2007 final code\adc.c
                                           		case 6400:                                                                     C:\2007 final code\adc.c
                                           			// use these parameters for a 6400Hz ADC sample rate                          C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           			// use a 1:4 prescaler and 1:11 postscaler                                    C:\2007 final code\adc.c
005a5e   0e50     MOVLW     0x50           			T2CON = 0b01010000;                                                           C:\2007 final code\adc.c
005a60   6eca     MOVWF     0xca,0x0                                                                                        
                                                                                                                            C:\2007 final code\adc.c
                                           			// Count to 140 before rolling over and generating                            C:\2007 final code\adc.c
                                           			// an interrupt (142.05 - 2 is ideal)                                         C:\2007 final code\adc.c
005a62   0e8c     MOVLW     0x8c           			PR2	= 140;                                                                    C:\2007 final code\adc.c
005a64   d003     BRA       0x5a6c         			break;                                                                        C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           		default:                                                                       C:\2007 final code\adc.c
                                           			// if a non-supported rate is specified,                                      C:\2007 final code\adc.c
                                           			// default to a 200Hz ADC sample rate                                         C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           			// use a 1:16 prescaler and 1:14 postscaler                                   C:\2007 final code\adc.c
005a66   0e6a     MOVLW     0x6a           			T2CON = 0b01101010;                                                           C:\2007 final code\adc.c
005a68   6eca     MOVWF     0xca,0x0                                                                                        
                                                                                                                            C:\2007 final code\adc.c
                                           			// Count to 221 before rolling over and generating                            C:\2007 final code\adc.c
                                           			// an interrupt (223.21 - 2 is ideal)                                         C:\2007 final code\adc.c
005a6a   0edd     MOVLW     0xdd           			PR2	= 221;                                                                    C:\2007 final code\adc.c
005a6c   6ecb     MOVWF     0xcb,0x0                                                                                        
                                           			break;                                                                        C:\2007 final code\adc.c
                                           	}                                                                               C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// make sure the timer 2 register starts at zero                                C:\2007 final code\adc.c
005a6e   6acc     CLRF      0xcc,0x0       	TMR2 = 0x00;                                                                    C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// timer 2 interrupt is low priority                                            C:\2007 final code\adc.c
005a70   929f     BCF       0x9f,0x1,0x0   	IPR1bits.TMR2IP = 0;                                                            C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// to prevent a spurious interrupt, make sure the interrupt flag is reset       C:\2007 final code\adc.c
005a72   929e     BCF       0x9e,0x1,0x0   	PIR1bits.TMR2IF = 0;                                                            C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// enable the timer 2 interrupt                                                 C:\2007 final code\adc.c
005a74   829d     BSF       0x9d,0x1,0x0   	PIE1bits.TMR2IE = 1;                                                            C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// enable timer 2                                                               C:\2007 final code\adc.c
005a76   84ca     BSF       0xca,0x2,0x0   	T2CONbits.TMR2ON = 1;                                                           C:\2007 final code\adc.c
005a78   d10c     BRA       0x5c92         }                                                                                C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           /******************************************************************************* C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	FUNCTION:		Disable_Timer_2()                                                   C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PURPOSE:		Disables the timer 2 hardware.                                       C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PARAMETERS:		None                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	COMMENTS:                                                                      C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *******************************************************************************/ C:\2007 final code\adc.c
                                           void Disable_Timer_2(void)                                                       C:\2007 final code\adc.c
                                           {                                                                                C:\2007 final code\adc.c
                                           	// disable the timer 2 interrupt                                                C:\2007 final code\adc.c
005a7a   929d     BCF       0x9d,0x1,0x0   	PIE1bits.TMR2IE = 0;                                                            C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// disable timer 2                                                              C:\2007 final code\adc.c
005a7c   94ca     BCF       0xca,0x2,0x0   	T2CONbits.TMR2ON = 0;                                                           C:\2007 final code\adc.c
005a7e   0012     RETURN    0x0            }                                                                                C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           /******************************************************************************* C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	FUNCTION:		Get_ADC_Result()                                                    C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PURPOSE:		Given the ADC channel number, returns the last ADC result            C:\2007 final code\adc.c
                                           *					expressed in "data number" units.                                          C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PARAMETERS:		ADC channel number                                                C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	COMMENTS:                                                                      C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *******************************************************************************/ C:\2007 final code\adc.c
005a80   d903     RCALL     0x5c88         unsigned int Get_ADC_Result(unsigned char channel)                               C:\2007 final code\adc.c
005a82   0e02     MOVLW     0x2                                                                                             
005a84   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\adc.c
                                           	unsigned int temp_adc_result;                                                   C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
005a86   0efe     MOVLW     0xfe           	if(channel <= num_adc_channels)                                                 C:\2007 final code\adc.c
005a88   cfdb     MOVFF     0xfdb,0x2b                                                                                      
005a8a   f02b                                                                                                               
005a8c   0102     MOVLB     0x2                                                                                             
005a8e   5164     MOVF      0x64,0x0,0x1                                                                                    
005a90   80d8     BSF       0xd8,0x0,0x0                                                                                    
005a92   542b     SUBFWB    0x2b,0x0,0x0                                                                                    
005a94   e30c     BNC       0x5aae                                                                                          
                                           	{                                                                               C:\2007 final code\adc.c
                                           		// disable the ADC interrupt                                                   C:\2007 final code\adc.c
005a96   9c9d     BCF       0x9d,0x6,0x0   		PIE1bits.ADIE = 0;                                                             C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           		// one is subtracted because analog input 1 maps to adc_result[0],             C:\2007 final code\adc.c
                                           		// input 2 maps to adc_result[1],..., input 16 maps to adc_result[15]          C:\2007 final code\adc.c
005a98   0efe     MOVLW     0xfe           		temp_adc_result = adc_result[channel - 1];                                     C:\2007 final code\adc.c
005a9a   04db     DECF      0xdb,0x0,0x0                                                                                    
005a9c   6ee9     MOVWF     0xe9,0x0                                                                                        
005a9e   6aea     CLRF      0xea,0x0                                                                                        
005aa0   d910     RCALL     0x5cc2                                                                                          
005aa2   cfee     MOVFF     0xfee,0xfde                                                                                     
005aa4   ffde                                                                                                               
005aa6   cfed     MOVFF     0xfed,0xfdd                                                                                     
005aa8   ffdd                                                                                                               
005cc2   90d8     BCF       0xd8,0x0,0x0                                                                                    
005cc4   36e9     RLCF      0xe9,0x1,0x0                                                                                    
005cc6   36ea     RLCF      0xea,0x1,0x0                                                                                    
005cc8   0e9e     MOVLW     0x9e                                                                                            
005cca   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005ccc   0e02     MOVLW     0x2                                                                                             
005cce   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005cd0   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\adc.c
                                           		// enable the ADC interrupt                                                    C:\2007 final code\adc.c
005aaa   8c9d     BSF       0x9d,0x6,0x0   		PIE1bits.ADIE = 1;                                                             C:\2007 final code\adc.c
                                           	}                                                                               C:\2007 final code\adc.c
005aac   d002     BRA       0x5ab2         	else                                                                            C:\2007 final code\adc.c
                                           	{                                                                               C:\2007 final code\adc.c
                                           		// bad channel number; return zero                                             C:\2007 final code\adc.c
005aae   6ade     CLRF      0xde,0x0       		temp_adc_result = 0;                                                           C:\2007 final code\adc.c
005ab0   6add     CLRF      0xdd,0x0                                                                                        
                                           	}                                                                               C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
005ab2   cfde     MOVFF     0xfde,0x2b     	return(temp_adc_result);                                                        C:\2007 final code\adc.c
005ab4   f02b                                                                                                               
005ab6   cfdd     MOVFF     0xfdd,0x2c                                                                                      
005ab8   f02c                                                                                                               
005aba   c02b     MOVFF     0x2b,0xff3                                                                                      
005abc   fff3                                                                                                               
005abe   c02c     MOVFF     0x2c,0xff4                                                                                      
005ac0   fff4                                                                                                               
005ac2   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\adc.c
005ac4   ffe1                                                                                                               
005ac6   d0e5     BRA       0x5c92                                                                                          
                                                                                                                            C:\2007 final code\adc.c
                                           /******************************************************************************* C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	FUNCTION:		Convert_ADC_to_mV()                                                 C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PURPOSE:		Converts the raw output of the ADC to millivolts.                    C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PARAMETERS:		ADC output value to convert                                       C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	RETURNS:		Millivolts                                                           C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	COMMENTS:                                                                      C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *******************************************************************************/ C:\2007 final code\adc.c
005ac8   d8df     RCALL     0x5c88         unsigned int Convert_ADC_to_mV(unsigned int adc)                                 C:\2007 final code\adc.c
                                           {                                                                                C:\2007 final code\adc.c
005aca   0efd     MOVLW     0xfd           	return((unsigned int)(((long)adc * (VREF_POS_MV - VREF_NEG_MV)) / ADC_RANGE));  C:\2007 final code\adc.c
005acc   cfdb     MOVFF     0xfdb,0x2b                                                                                      
005ace   f02b                                                                                                               
005ad0   0efe     MOVLW     0xfe                                                                                            
005ad2   cfdb     MOVFF     0xfdb,0x2c                                                                                      
005ad4   f02c                                                                                                               
005ad6   6a2d     CLRF      0x2d,0x0                                                                                        
005ad8   6a2e     CLRF      0x2e,0x0                                                                                        
005ada   0e88     MOVLW     0x88                                                                                            
005adc   6e20     MOVWF     0x20,0x0                                                                                        
005ade   0e13     MOVLW     0x13                                                                                            
005ae0   6e21     MOVWF     0x21,0x0                                                                                        
005ae2   6a22     CLRF      0x22,0x0                                                                                        
005ae4   6a23     CLRF      0x23,0x0                                                                                        
005ae6   c02b     MOVFF     0x2b,0x1b                                                                                       
005ae8   f01b                                                                                                               
005aea   c02c     MOVFF     0x2c,0x1c                                                                                       
005aec   f01c                                                                                                               
005aee   c02d     MOVFF     0x2d,0x1d                                                                                       
005af0   f01d                                                                                                               
005af2   c02e     MOVFF     0x2e,0x1e                                                                                       
005af4   f01e                                                                                                               
005af6   eca0     CALL      0x6f40,0x0                                                                                      
005af8   f037                                                                                                               
005afa   c017     MOVFF     0x17,0x2b                                                                                       
005afc   f02b                                                                                                               
005afe   c018     MOVFF     0x18,0x2c                                                                                       
005b00   f02c                                                                                                               
005b02   c019     MOVFF     0x19,0x2d                                                                                       
005b04   f02d                                                                                                               
005b06   c01a     MOVFF     0x1a,0x2e                                                                                       
005b08   f02e                                                                                                               
005b0a   6a20     CLRF      0x20,0x0                                                                                        
005b0c   0e08     MOVLW     0x8                                                                                             
005b0e   6e21     MOVWF     0x21,0x0                                                                                        
005b10   6a22     CLRF      0x22,0x0                                                                                        
005b12   6a23     CLRF      0x23,0x0                                                                                        
005b14   c017     MOVFF     0x17,0x1b                                                                                       
005b16   f01b                                                                                                               
005b18   c018     MOVFF     0x18,0x1c                                                                                       
005b1a   f01c                                                                                                               
005b1c   c019     MOVFF     0x19,0x1d                                                                                       
005b1e   f01d                                                                                                               
005b20   c01a     MOVFF     0x1a,0x1e                                                                                       
005b22   f01e                                                                                                               
005b24   ec64     CALL      0x6cc8,0x0                                                                                      
005b26   f036                                                                                                               
005b28   c01b     MOVFF     0x1b,0x2b                                                                                       
005b2a   f02b                                                                                                               
005b2c   c01c     MOVFF     0x1c,0x2c                                                                                       
005b2e   f02c                                                                                                               
005b30   c01d     MOVFF     0x1d,0x2d                                                                                       
005b32   f02d                                                                                                               
005b34   c01e     MOVFF     0x1e,0x2e                                                                                       
005b36   f02e                                                                                                               
005b38   c01b     MOVFF     0x1b,0xff3                                                                                      
005b3a   fff3                                                                                                               
005b3c   c01c     MOVFF     0x1c,0xff4                                                                                      
005b3e   fff4                                                                                                               
005b40   d0a8     BRA       0x5c92         }                                                                                C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           /******************************************************************************* C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	FUNCTION:		Get_ADC_Result_Count()                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PURPOSE:                                                                       C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PARAMETERS:		None                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	COMMENTS:                                                                      C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *******************************************************************************/ C:\2007 final code\adc.c
005b42   d8a2     RCALL     0x5c88         unsigned char Get_ADC_Result_Count()                                             C:\2007 final code\adc.c
005b44   52e6     MOVF      0xe6,0x1,0x0                                                                                    
005c88   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
005c8a   ffe6                                                                                                               
005c8c   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
005c8e   ffd9                                                                                                               
005c90   0012     RETURN    0x0                                                                                             
                                           {                                                                                C:\2007 final code\adc.c
                                           	unsigned char temp_adc_update_count;                                            C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// disable the ADC interrupt                                                    C:\2007 final code\adc.c
005b46   9c9d     BCF       0x9d,0x6,0x0   	PIE1bits.ADIE = 0;                                                              C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
005b48   c415     MOVFF     0x415,0xfdf    	temp_adc_update_count = adc_update_count;                                       C:\2007 final code\adc.c
005b4a   ffdf                                                                                                               
                                                                                                                            C:\2007 final code\adc.c
                                           	// enable the ADC interrupt                                                     C:\2007 final code\adc.c
005b4c   8c9d     BSF       0x9d,0x6,0x0   	PIE1bits.ADIE = 1;                                                              C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
005b4e   50df     MOVF      0xdf,0x0,0x0   	return(temp_adc_update_count);                                                  C:\2007 final code\adc.c
005b50   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\adc.c
005b52   d09f     BRA       0x5c92                                                                                          
                                                                                                                            C:\2007 final code\adc.c
                                           /******************************************************************************* C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	FUNCTION:		Reset_ADC_Result_Count()                                            C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PURPOSE:		Resets the ADC update counter to zero                                C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PARAMETERS:		None                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	COMMENTS:                                                                      C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *******************************************************************************/ C:\2007 final code\adc.c
                                           void Reset_ADC_Result_Count()                                                    C:\2007 final code\adc.c
                                           {                                                                                C:\2007 final code\adc.c
                                           	// disable the ADC interrupt                                                    C:\2007 final code\adc.c
005b54   9c9d     BCF       0x9d,0x6,0x0   	PIE1bits.ADIE = 0;                                                              C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
005b56   0104     MOVLB     0x4            	adc_update_count = 0;                                                           C:\2007 final code\adc.c
005b58   6b15     CLRF      0x15,0x1                                                                                        
                                                                                                                            C:\2007 final code\adc.c
                                           	// enable the ADC interrupt                                                     C:\2007 final code\adc.c
005b5a   8c9d     BSF       0x9d,0x6,0x0   	PIE1bits.ADIE = 1;                                                              C:\2007 final code\adc.c
005b5c   0012     RETURN    0x0            }                                                                                C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           /******************************************************************************* C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	FUNCTION:		Timer_2_Int_Handler()                                               C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PURPOSE:		Timer 2 interrupt service routine                                    C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	CALLED FROM:	user_routines_fast.c/InterruptHandlerLow()                        C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PARAMETERS:		None                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	COMMENTS:                                                                      C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *******************************************************************************/ C:\2007 final code\adc.c
                                           void Timer_2_Int_Handler(void)                                                   C:\2007 final code\adc.c
                                           {                                                                                C:\2007 final code\adc.c
                                           	// start a new analog to digital conversion                                     C:\2007 final code\adc.c
005b5e   82c2     BSF       0xc2,0x1,0x0   	ADCON0bits.GO = 1;                                                              C:\2007 final code\adc.c
005b60   0012     RETURN    0x0            }                                                                                C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           /******************************************************************************* C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	FUNCTION:		ADC_Int_Handler()                                                   C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PURPOSE:		ADC interrupt service routine                                        C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	CALLED FROM:	user_routines_fast.c/InterruptHandlerLow()                        C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	PARAMETERS:		None                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *	COMMENTS:                                                                      C:\2007 final code\adc.c
                                           *                                                                                C:\2007 final code\adc.c
                                           *******************************************************************************/ C:\2007 final code\adc.c
005b62   d892     RCALL     0x5c88         void ADC_Int_Handler(void)                                                       C:\2007 final code\adc.c
005b64   0e05     MOVLW     0x5                                                                                             
005b66   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\adc.c
                                           	unsigned int adc;                                                               C:\2007 final code\adc.c
                                           	unsigned char adcon0_temp;                                                      C:\2007 final code\adc.c
                                           	int i;                                                                          C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// get conversion results                                                       C:\2007 final code\adc.c
005b68   50c4     MOVF      0xc4,0x0,0x0   	adc = ADRESH;                                                                   C:\2007 final code\adc.c
005b6a   6ede     MOVWF     0xde,0x0                                                                                        
005b6c   6add     CLRF      0xdd,0x0                                                                                        
005b6e   cfd9     MOVFF     0xfd9,0xfe9    	adc <<= 8;                                                                      C:\2007 final code\adc.c
005b70   ffe9                                                                                                               
005b72   cfda     MOVFF     0xfda,0xfea                                                                                     
005b74   ffea                                                                                                               
005b76   50ee     MOVF      0xee,0x0,0x0                                                                                    
005b78   6eed     MOVWF     0xed,0x0                                                                                        
005b7a   6aef     CLRF      0xef,0x0                                                                                        
005b7c   50c3     MOVF      0xc3,0x0,0x0   	adc += ADRESL;                                                                  C:\2007 final code\adc.c
005b7e   26de     ADDWF     0xde,0x1,0x0                                                                                    
005b80   0e00     MOVLW     0x0                                                                                             
005b82   22dd     ADDWFC    0xdd,0x1,0x0                                                                                    
                                                                                                                            C:\2007 final code\adc.c
                                           	// add the ADC data to the appropriate accumulator                              C:\2007 final code\adc.c
005b84   cfde     MOVFF     0xfde,0x2b     	accum[channel] += (long)adc;                                                    C:\2007 final code\adc.c
005b86   f02b                                                                                                               
005b88   cfdd     MOVFF     0xfdd,0x2c                                                                                      
005b8a   f02c                                                                                                               
005b8c   6a2d     CLRF      0x2d,0x0                                                                                        
005b8e   6a2e     CLRF      0x2e,0x0                                                                                        
005b90   0102     MOVLB     0x2                                                                                             
005b92   51bc     MOVF      0xbc,0x0,0x1                                                                                    
005b94   d882     RCALL     0x5c9a                                                                                          
005b96   502b     MOVF      0x2b,0x0,0x0                                                                                    
005b98   26ee     ADDWF     0xee,0x1,0x0                                                                                    
005b9a   502c     MOVF      0x2c,0x0,0x0                                                                                    
005b9c   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
005b9e   502d     MOVF      0x2d,0x0,0x0                                                                                    
005ba0   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
005ba2   502e     MOVF      0x2e,0x0,0x0                                                                                    
005ba4   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
                                           	                                                                                C:\2007 final code\adc.c
                                           	// increment the ADC channel index                                              C:\2007 final code\adc.c
005ba6   2bbc     INCF      0xbc,0x1,0x1   	channel++;                                                                      C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// do we need to wrap around to zero?                                           C:\2007 final code\adc.c
005ba8   5164     MOVF      0x64,0x0,0x1   	if(channel >= num_adc_channels)                                                 C:\2007 final code\adc.c
005baa   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
005bac   e304     BNC       0x5bb6                                                                                          
                                           	{                                                                               C:\2007 final code\adc.c
005bae   6bbc     CLRF      0xbc,0x1       		channel = 0;                                                                   C:\2007 final code\adc.c
005bb0   2bba     INCF      0xba,0x1,0x1   		samples++;                                                                     C:\2007 final code\adc.c
005bb2   0e00     MOVLW     0x0                                                                                             
005bb4   23bb     ADDWFC    0xbb,0x1,0x1                                                                                    
                                           	}                                                                               C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           	// Select next ADC channel. This also starts the process whereby the ADC        C:\2007 final code\adc.c
                                           	// sample and hold capacitor is allowed to start charging, which must be        C:\2007 final code\adc.c
                                           	// completed before the next analog to digital conversion can be started.       C:\2007 final code\adc.c
005bb6   0e02     MOVLW     0x2            	adcon0_temp = channel;                                                          C:\2007 final code\adc.c
005bb8   c2bc     MOVFF     0x2bc,0xfdb                                                                                     
005bba   ffdb                                                                                                               
005bbc   50db     MOVF      0xdb,0x0,0x0   	adcon0_temp <<= 2;                                                              C:\2007 final code\adc.c
005bbe   0d04     MULLW     0x4                                                                                             
005bc0   0e02     MOVLW     0x2                                                                                             
005bc2   cff3     MOVFF     0xff3,0xfdb                                                                                     
005bc4   ffdb                                                                                                               
005bc6   80db     BSF       0xdb,0x0,0x0   	adcon0_temp |= 0b00000001;                                                      C:\2007 final code\adc.c
005bc8   50db     MOVF      0xdb,0x0,0x0   	ADCON0 = adcon0_temp;                                                           C:\2007 final code\adc.c
005bca   6ec2     MOVWF     0xc2,0x0                                                                                        
                                                                                                                            C:\2007 final code\adc.c
                                           	// check to see if we've got a full sample set                                  C:\2007 final code\adc.c
005bcc   5162     MOVF      0x62,0x0,0x1   	if(samples >= adc_samples_per_update)                                           C:\2007 final code\adc.c
005bce   5dba     SUBWF     0xba,0x0,0x1                                                                                    
005bd0   5163     MOVF      0x63,0x0,0x1                                                                                    
005bd2   59bb     SUBWFB    0xbb,0x0,0x1                                                                                    
005bd4   e34a     BNC       0x5c6a                                                                                          
                                           	{                                                                               C:\2007 final code\adc.c
                                           		// update the ADC result array                                                 C:\2007 final code\adc.c
005bd6   0e03     MOVLW     0x3            		for(i=0; i < num_adc_channels; i++)                                            C:\2007 final code\adc.c
005bd8   6adb     CLRF      0xdb,0x0                                                                                        
005bda   0e04     MOVLW     0x4                                                                                             
005bdc   6adb     CLRF      0xdb,0x0                                                                                        
005bde   d867     RCALL     0x5cae                                                                                          
005be0   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
005be2   d002     BRA       0x5be8                                                                                          
005be4   90d8     BCF       0xd8,0x0,0x0                                                                                    
005be6   d003     BRA       0x5bee                                                                                          
005be8   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
005bea   0e00     MOVLW     0x0                                                                                             
005bec   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
005bee   e220     BC        0x5c30                                                                                          
005c24   0e03     MOVLW     0x3                                                                                             
005c26   2adb     INCF      0xdb,0x1,0x0                                                                                    
005c28   0e04     MOVLW     0x4                                                                                             
005c2a   e3d9     BNC       0x5bde                                                                                          
005c2c   2adb     INCF      0xdb,0x1,0x0                                                                                    
005c2e   d7d7     BRA       0x5bde                                                                                          
005cae   0e03     MOVLW     0x3                                                                                             
005cb0   cfdb     MOVFF     0xfdb,0x2b                                                                                      
005cb2   f02b                                                                                                               
005cb4   0e04     MOVLW     0x4                                                                                             
005cb6   cfdb     MOVFF     0xfdb,0x2c                                                                                      
005cb8   f02c                                                                                                               
005cba   0102     MOVLB     0x2                                                                                             
005cbc   5164     MOVF      0x64,0x0,0x1                                                                                    
005cbe   0100     MOVLB     0x0                                                                                             
005cc0   0012     RETURN    0x0                                                                                             
                                           		{                                                                              C:\2007 final code\adc.c
005bf0   d83f     RCALL     0x5c70         			adc_result[i] = (long)(accum[i] >> adc_result_divisor);                       C:\2007 final code\adc.c
005bf2   0102     MOVLB     0x2                                                                                             
005bf4   5165     MOVF      0x65,0x0,0x1                                                                                    
005bf6   0b1f     ANDLW     0x1f                                                                                            
005bf8   cfee     MOVFF     0xfee,0x2b                                                                                      
005bfa   f02b                                                                                                               
005bfc   cfee     MOVFF     0xfee,0x2c                                                                                      
005bfe   f02c                                                                                                               
005c00   cfee     MOVFF     0xfee,0x2d                                                                                      
005c02   f02d                                                                                                               
005c04   cfee     MOVFF     0xfee,0x2e                                                                                      
005c06   f02e                                                                                                               
005c08   e007     BZ        0x5c18                                                                                          
005c0a   90d8     BCF       0xd8,0x0,0x0                                                                                    
005c0c   322e     RRCF      0x2e,0x1,0x0                                                                                    
005c0e   322d     RRCF      0x2d,0x1,0x0                                                                                    
005c10   322c     RRCF      0x2c,0x1,0x0                                                                                    
005c12   322b     RRCF      0x2b,0x1,0x0                                                                                    
005c14   06e8     DECF      0xe8,0x1,0x0                                                                                    
005c16   e1f9     BNZ       0x5c0a                                                                                          
005c18   d85c     RCALL     0x5cd2                                                                                          
005c1a   d853     RCALL     0x5cc2                                                                                          
005c1c   c02b     MOVFF     0x2b,0xfee                                                                                      
005c1e   ffee                                                                                                               
005c20   c02c     MOVFF     0x2c,0xfed                                                                                      
005c22   ffed                                                                                                               
005c70   d830     RCALL     0x5cd2                                                                                          
005c72   90d8     BCF       0xd8,0x0,0x0                                                                                    
005c74   36e9     RLCF      0xe9,0x1,0x0                                                                                    
005c76   36ea     RLCF      0xea,0x1,0x0                                                                                    
005c78   90d8     BCF       0xd8,0x0,0x0                                                                                    
005c7a   36e9     RLCF      0xe9,0x1,0x0                                                                                    
005c7c   36ea     RLCF      0xea,0x1,0x0                                                                                    
005c7e   0e66     MOVLW     0x66                                                                                            
005c80   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005c82   0e02     MOVLW     0x2                                                                                             
005c84   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005c86   0012     RETURN    0x0                                                                                             
005cd2   0e03     MOVLW     0x3                                                                                             
005cd4   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
005cd6   ffe9                                                                                                               
005cd8   0e04     MOVLW     0x4                                                                                             
005cda   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005cdc   ffea                                                                                                               
005cde   0012     RETURN    0x0                                                                                             
                                           		}                                                                              C:\2007 final code\adc.c
                                           		// reset the sample accumulator(s) to zero                                     C:\2007 final code\adc.c
005c30   0e03     MOVLW     0x3            		for(i=0; i < num_adc_channels; i++)                                            C:\2007 final code\adc.c
005c32   6adb     CLRF      0xdb,0x0                                                                                        
005c34   0e04     MOVLW     0x4                                                                                             
005c36   6adb     CLRF      0xdb,0x0                                                                                        
005c38   d83a     RCALL     0x5cae                                                                                          
005c3a   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
005c3c   d002     BRA       0x5c42                                                                                          
005c3e   90d8     BCF       0xd8,0x0,0x0                                                                                    
005c40   d003     BRA       0x5c48                                                                                          
005c42   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
005c44   0e00     MOVLW     0x0                                                                                             
005c46   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
005c48   e20b     BC        0x5c60                                                                                          
005c54   0e03     MOVLW     0x3                                                                                             
005c56   2adb     INCF      0xdb,0x1,0x0                                                                                    
005c58   0e04     MOVLW     0x4                                                                                             
005c5a   e3ee     BNC       0x5c38                                                                                          
005c5c   2adb     INCF      0xdb,0x1,0x0                                                                                    
005c5e   d7ec     BRA       0x5c38                                                                                          
                                           		{                                                                              C:\2007 final code\adc.c
005c4a   d812     RCALL     0x5c70         			accum[i] = 0L;                                                                C:\2007 final code\adc.c
005c4c   6aee     CLRF      0xee,0x0                                                                                        
005c4e   6aee     CLRF      0xee,0x0                                                                                        
005c50   6aee     CLRF      0xee,0x0                                                                                        
005c52   6aee     CLRF      0xee,0x0                                                                                        
                                           		}                                                                              C:\2007 final code\adc.c
                                                                                                                            C:\2007 final code\adc.c
                                           		// signal that a fresh sample set is available                                 C:\2007 final code\adc.c
005c60   0104     MOVLB     0x4            		adc_update_count++;                                                            C:\2007 final code\adc.c
005c62   2b15     INCF      0x15,0x1,0x1                                                                                    
                                                                                                                            C:\2007 final code\adc.c
                                           		// start a fresh sample set                                                    C:\2007 final code\adc.c
005c64   0102     MOVLB     0x2            		samples = 0;                                                                   C:\2007 final code\adc.c
005c66   6bba     CLRF      0xba,0x1                                                                                        
005c68   6bbb     CLRF      0xbb,0x1                                                                                        
                                           	}	                                                                              C:\2007 final code\adc.c
005c6a   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\adc.c
005c6c   ffe1                                                                                                               
005c6e   d011     BRA       0x5c92                                                                                          
005c92   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005c94   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
005c96   ffd9                                                                                                               
005c98   0012     RETURN    0x0                                                                                             
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	TITLE:		camera.c                                                               C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	VERSION:	0.2 (Beta)                                                            C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	DATE:		16-Jan-2007                                                             C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	AUTHOR:		R. Kevin Watson                                                       C:\2007 final code\camera.c
                                           *				kevinw@jpl.nasa.gov                                                         C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:	This is the "streamlined" version of camera.c                        C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *				You are free to use this source code for any non-commercial                 C:\2007 final code\camera.c
                                           *				use. Please do not make copies of this source code, modified                C:\2007 final code\camera.c
                                           *				or un-modified, publicly available on the internet or elsewhere             C:\2007 final code\camera.c
                                           *				without permission. Thanks.                                                 C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *				Copyright 2005-2007 R. Kevin Watson. All rights are reserved.              C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           ******************************************************************************** C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CHANGE LOG:                                                                    C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	DATE         REV  DESCRIPTION                                                  C:\2007 final code\camera.c
                                           *	-----------  ---  ----------------------------------------------------------   C:\2007 final code\camera.c
                                           *	01-Jan-2006  0.1  RKW - Original code.                                         C:\2007 final code\camera.c
                                           *	16-Jan-2007  0.2  RKW - Added Virtual_Window() function.                       C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
                                           #include <stdio.h>                                                               C:\2007 final code\camera.c
                                           #include "serial_ports.h"                                                        C:\2007 final code\camera.c
                                           #include "camera.h"                                                              C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           // This variable, when equal to one, indicates that the                          C:\2007 final code\camera.c
                                           // camera has successfully initialized and should be                             C:\2007 final code\camera.c
                                           // sending data. You can also force a re-initialization                          C:\2007 final code\camera.c
                                           // by setting this variable to zero by calling the                               C:\2007 final code\camera.c
                                           // function Reinitialize_Camera().                                               C:\2007 final code\camera.c
                                           unsigned char camera_initialized = 0;                                            C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           unsigned int camera_t_packets = 0;                                               C:\2007 final code\camera.c
                                           unsigned int camera_acks = 0;                                                    C:\2007 final code\camera.c
                                           unsigned int camera_ncks = 0;                                                    C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           // camera T packet structure                                                     C:\2007 final code\camera.c
                                           T_Packet_Data_Type T_Packet_Data;                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Camera_Handler()                                                    C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		This function is responsable for camera initialization               C:\2007 final code\camera.c
                                           *					and camera serial data interpretation. Once the camera                     C:\2007 final code\camera.c
                                           *					is initialized and starts sending tracking data, this                      C:\2007 final code\camera.c
                                           *					function will continuously update the global T_Packet_Data                 C:\2007 final code\camera.c
                                           *					structure with the received tracking information.					                     C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:	user_routines.c/Process_Data_From_Master_uP()                     C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		none                                                              C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		nothing                                                              C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:                                                                      C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
00489a   da31     RCALL     0x4cfe         void Camera_Handler(void)                                                        C:\2007 final code\camera.c
00489c   0e04     MOVLW     0x4                                                                                             
00489e   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\camera.c
                                           	unsigned char return_value;                                                     C:\2007 final code\camera.c
                                           	unsigned char byte_count;                                                       C:\2007 final code\camera.c
                                           	unsigned char byte;                                                             C:\2007 final code\camera.c
                                           	unsigned char i;                                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           	// if needed, (re)initialize the camera and if the                              C:\2007 final code\camera.c
                                           	// initialization process throws an error, retry                                C:\2007 final code\camera.c
                                           	// until it's successfully initializes                                          C:\2007 final code\camera.c
0048a0   0103     MOVLB     0x3            	if(camera_initialized == 0)                                                     C:\2007 final code\camera.c
0048a2   51e5     MOVF      0xe5,0x0,0x1                                                                                    
0048a4   e10a     BNZ       0x48ba                                                                                          
                                           	{                                                                               C:\2007 final code\camera.c
0048a6   d8d1     RCALL     0x4a4a         		return_value = Initialize_Camera();                                            C:\2007 final code\camera.c
0048a8   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            C:\2007 final code\camera.c
                                           		// is the camera done initializing and if so,                                  C:\2007 final code\camera.c
                                           		// did it initialize without an error?                                         C:\2007 final code\camera.c
0048aa   04df     DECF      0xdf,0x0,0x0   		if(return_value == 1)                                                          C:\2007 final code\camera.c
0048ac   e104     BNZ       0x48b6                                                                                          
                                           		{                                                                              C:\2007 final code\camera.c
0048ae   0103     MOVLB     0x3            			camera_initialized = 1;                                                       C:\2007 final code\camera.c
0048b0   0e01     MOVLW     0x1                                                                                             
0048b2   6fe5     MOVWF     0xe5,0x1                                                                                        
                                           			DEBUG(("\r\nCamera: Initialized normally\r\n"));                              C:\2007 final code\camera.c
                                           		}                                                                              C:\2007 final code\camera.c
                                           		// is the camera done initializing and if so,                                  C:\2007 final code\camera.c
                                           		// did it return an error?                                                     C:\2007 final code\camera.c
0048b4   d002     BRA       0x48ba         		else if(return_value > 1)                                                      C:\2007 final code\camera.c
0048b6   50df     MOVF      0xdf,0x0,0x0                                                                                    
0048b8   0801     SUBLW     0x1                                                                                             
                                           		{                                                                              C:\2007 final code\camera.c
                                           			DEBUG(("\r\nCamera: Initialized abnormally with code %u\r\n", (unsigned int)return_value)); C:\2007 final code\camera.c
                                           		}                                                                              C:\2007 final code\camera.c
                                           	}                                                                               C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           	// find out how much data, if any, is present in                                C:\2007 final code\camera.c
                                           	// the camera serial port's received data queue?                                C:\2007 final code\camera.c
0048ba   d9fa     RCALL     0x4cb0         	byte_count = Camera_Serial_Port_Byte_Count();                                   C:\2007 final code\camera.c
0048bc   6ee7     MOVWF     0xe7,0x0                                                                                        
0048be   0e01     MOVLW     0x1                                                                                             
0048c0   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0048c2   ffdb                                                                                                               
                                                                                                                            C:\2007 final code\camera.c
                                           	// have we received any data?                                                   C:\2007 final code\camera.c
0048c4   50db     MOVF      0xdb,0x0,0x0   	if(byte_count > 0)                                                              C:\2007 final code\camera.c
0048c6   0800     SUBLW     0x0                                                                                             
0048c8   e217     BC        0x48f8                                                                                          
                                           	{                                                                               C:\2007 final code\camera.c
                                           		// we have fresh data, so read each received byte one                          C:\2007 final code\camera.c
                                           		// at a time and immediatly send it to the camera state                        C:\2007 final code\camera.c
                                           		// machine, which is responsable for parsing the camera                        C:\2007 final code\camera.c
                                           		// data packets                                                                C:\2007 final code\camera.c
0048ca   0e03     MOVLW     0x3            		for(i=0; i<byte_count; i++)                                                    C:\2007 final code\camera.c
0048cc   6adb     CLRF      0xdb,0x0                                                                                        
0048ce   0e01     MOVLW     0x1                                                                                             
0048d0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0048d2   6ef3     MOVWF     0xf3,0x0                                                                                        
0048d4   0e03     MOVLW     0x3                                                                                             
0048d6   cfdb     MOVFF     0xfdb,0xff4                                                                                     
0048d8   fff4                                                                                                               
0048da   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0048dc   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
0048de   e20c     BC        0x48f8                                                                                          
0048f2   0e03     MOVLW     0x3                                                                                             
0048f4   2adb     INCF      0xdb,0x1,0x0                                                                                    
0048f6   d7eb     BRA       0x48ce                                                                                          
                                           		{                                                                              C:\2007 final code\camera.c
                                           			// get the next data byte                                                     C:\2007 final code\camera.c
0048e0   d9e9     RCALL     0x4cb4         			byte = Read_Camera_Serial_Port();                                             C:\2007 final code\camera.c
0048e2   6ee7     MOVWF     0xe7,0x0                                                                                        
0048e4   0e02     MOVLW     0x2                                                                                             
0048e6   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0048e8   ffdb                                                                                                               
                                                                                                                            C:\2007 final code\camera.c
                                           			// send the byte to the camera state machine                                  C:\2007 final code\camera.c
0048ea   cfdb     MOVFF     0xfdb,0xfe6    			Camera_State_Machine(byte);                                                   C:\2007 final code\camera.c
0048ec   ffe6                                                                                                               
0048ee   d807     RCALL     0x48fe                                                                                          
0048f0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           		}                                                                              C:\2007 final code\camera.c
                                           	}                                                                               C:\2007 final code\camera.c
0048f8   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\camera.c
0048fa   ffe1                                                                                                               
0048fc   d205     BRA       0x4d08                                                                                          
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Camera_State_Machine()                                              C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		Parses the camera serial data stream looking for data                C:\2007 final code\camera.c
                                           *					packets, ACKs and NCKS. When packets are complete the                      C:\2007 final code\camera.c
                                           *					individual packet counter variable is incremented, and                     C:\2007 final code\camera.c
                                           *					in the case of packets, the global data structure is                       C:\2007 final code\camera.c
                                           *					updated with the new data.					                                            C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:	Camera_Handler(), above                                           C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		unsigned char of camera serial data                               C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		nothing                                                              C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:		Camera must be configured to output binary data,                    C:\2007 final code\camera.c
                                           *					not ASCII. See Raw_Mode() function.                                        C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
0048fe   d9ff     RCALL     0x4cfe         void Camera_State_Machine(unsigned char byte)                                    C:\2007 final code\camera.c
                                           {                                                                                C:\2007 final code\camera.c
                                           	static unsigned char state = UNSYNCHRONIZED;                                    C:\2007 final code\camera.c
                                           	static unsigned char packet_buffer[34];                                         C:\2007 final code\camera.c
                                           	static unsigned char packet_buffer_index;                                       C:\2007 final code\camera.c
                                           	static unsigned char packet_char_count;                                         C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
004900   0103     MOVLB     0x3            	switch(state)                                                                   C:\2007 final code\camera.c
004902   51ec     MOVF      0xec,0x0,0x1                                                                                    
004904   0a06     XORLW     0x6                                                                                             
004906   e101     BNZ       0x490a                                                                                          
004908   d07f     BRA       0x4a08                                                                                          
00490a   0a03     XORLW     0x3                                                                                             
00490c   e060     BZ        0x49ce                                                                                          
00490e   0a06     XORLW     0x6                                                                                             
004910   e02e     BZ        0x496e                                                                                          
004912   0a01     XORLW     0x1                                                                                             
004914   e023     BZ        0x495c                                                                                          
004916   0a03     XORLW     0x3                                                                                             
004918   e001     BZ        0x491c                                                                                          
00491a   d096     BRA       0x4a48                                                                                          
                                           	{                                                                               C:\2007 final code\camera.c
                                           		case UNSYNCHRONIZED:                                                           C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
00491c   0efe     MOVLW     0xfe           			if(byte == 255) // start of a new data packet?                                C:\2007 final code\camera.c
00491e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004920   6e2b     MOVWF     0x2b,0x0                                                                                        
004922   6a2c     CLRF      0x2c,0x0                                                                                        
004924   0eff     MOVLW     0xff                                                                                            
004926   182b     XORWF     0x2b,0x0,0x0                                                                                    
004928   e104     BNZ       0x4932                                                                                          
00492a   502c     MOVF      0x2c,0x0,0x0                                                                                    
00492c   e102     BNZ       0x4932                                                                                          
                                           			{                                                                             C:\2007 final code\camera.c
00492e   0e02     MOVLW     0x2            				state = DETERMINING_PACKET_TYPE;                                             C:\2007 final code\camera.c
                                           			}                                                                             C:\2007 final code\camera.c
004930   d08a     BRA       0x4a46         			else if(byte == 'A') // start of an ACK?                                      C:\2007 final code\camera.c
004932   0efe     MOVLW     0xfe                                                                                            
004934   50db     MOVF      0xdb,0x0,0x0                                                                                    
004936   0841     SUBLW     0x41                                                                                            
004938   e106     BNZ       0x4946                                                                                          
                                           			{                                                                             C:\2007 final code\camera.c
00493a   0103     MOVLB     0x3            				packet_char_count = 2;                                                       C:\2007 final code\camera.c
00493c   0e02     MOVLW     0x2                                                                                             
00493e   6f2b     MOVWF     0x2b,0x1                                                                                        
004940   0103     MOVLB     0x3            				state = RECEIVING_ACK;                                                       C:\2007 final code\camera.c
004942   0e05     MOVLW     0x5                                                                                             
                                           			}                                                                             C:\2007 final code\camera.c
004944   d080     BRA       0x4a46         			else if(byte == 'N') // start of a NCK?                                       C:\2007 final code\camera.c
004946   0efe     MOVLW     0xfe                                                                                            
004948   50db     MOVF      0xdb,0x0,0x0                                                                                    
00494a   084e     SUBLW     0x4e                                                                                            
00494c   e001     BZ        0x4950                                                                                          
00494e   d07c     BRA       0x4a48                                                                                          
                                           			{                                                                             C:\2007 final code\camera.c
004950   0103     MOVLB     0x3            				packet_char_count = 2;                                                       C:\2007 final code\camera.c
004952   0e02     MOVLW     0x2                                                                                             
004954   6f2b     MOVWF     0x2b,0x1                                                                                        
004956   0103     MOVLB     0x3            				state = RECEIVING_NCK;                                                       C:\2007 final code\camera.c
004958   0e06     MOVLW     0x6                                                                                             
                                           			}                                                                             C:\2007 final code\camera.c
00495a   d075     BRA       0x4a46         			break;                                                                        C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           		case DETERMINING_PACKET_TYPE:                                                  C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
00495c   0efe     MOVLW     0xfe           			if(byte == 'T') // are we receiving a "t packet"?                             C:\2007 final code\camera.c
00495e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004960   0854     SUBLW     0x54                                                                                            
004962   e170     BNZ       0x4a44                                                                                          
                                           			{                                                                             C:\2007 final code\camera.c
004964   0103     MOVLB     0x3            				packet_buffer_index = 0;                                                     C:\2007 final code\camera.c
004966   6b2a     CLRF      0x2a,0x1                                                                                        
004968   0103     MOVLB     0x3            				state = RECEIVING_T_PACKET;                                                  C:\2007 final code\camera.c
00496a   0e03     MOVLW     0x3                                                                                             
                                           			}                                                                             C:\2007 final code\camera.c
00496c   d06c     BRA       0x4a46         			else // unknown packet type; go back to the unsynchronized state              C:\2007 final code\camera.c
                                           			{                                                                             C:\2007 final code\camera.c
                                           				state = UNSYNCHRONIZED;                                                      C:\2007 final code\camera.c
                                           			}                                                                             C:\2007 final code\camera.c
                                           			break;                                                                        C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           		case RECEIVING_T_PACKET:                                                       C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
00496e   0103     MOVLB     0x3            			if(packet_buffer_index < sizeof(T_Packet_Data_Type)) // still building the packet? C:\2007 final code\camera.c
004970   512a     MOVF      0x2a,0x0,0x1                                                                                    
004972   6e2b     MOVWF     0x2b,0x0                                                                                        
004974   6a2c     CLRF      0x2c,0x0                                                                                        
004976   0e08     MOVLW     0x8                                                                                             
004978   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
00497a   0e00     MOVLW     0x0                                                                                             
00497c   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
00497e   e20a     BC        0x4994                                                                                          
                                           			{                                                                             C:\2007 final code\camera.c
                                           				// move packet character to our buffer                                       C:\2007 final code\camera.c
004980   512a     MOVF      0x2a,0x0,0x1   				packet_buffer[packet_buffer_index] = byte;                                   C:\2007 final code\camera.c
004982   6aea     CLRF      0xea,0x0                                                                                        
004984   0f08     ADDLW     0x8                                                                                             
004986   6ee9     MOVWF     0xe9,0x0                                                                                        
004988   0e03     MOVLW     0x3                                                                                             
00498a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00498c   0efe     MOVLW     0xfe                                                                                            
00498e   cfdb     MOVFF     0xfdb,0xfef                                                                                     
004990   ffef                                                                                                               
004992   2b2a     INCF      0x2a,0x1,0x1   				packet_buffer_index++;                                                       C:\2007 final code\camera.c
                                           			}                                                                             C:\2007 final code\camera.c
                                           			                                                                              C:\2007 final code\camera.c
004994   512a     MOVF      0x2a,0x0,0x1   			if(packet_buffer_index == sizeof(T_Packet_Data_Type)) // complete packet?     C:\2007 final code\camera.c
004996   6e2b     MOVWF     0x2b,0x0                                                                                        
004998   6a2c     CLRF      0x2c,0x0                                                                                        
00499a   0e08     MOVLW     0x8                                                                                             
00499c   182b     XORWF     0x2b,0x0,0x0                                                                                    
00499e   e154     BNZ       0x4a48                                                                                          
0049a0   502c     MOVF      0x2c,0x0,0x0                                                                                    
0049a2   e152     BNZ       0x4a48                                                                                          
                                           			{                                                                             C:\2007 final code\camera.c
0049a4   c308     MOVFF     0x308,0x300    				T_Packet_Data.mx = packet_buffer[0];                                         C:\2007 final code\camera.c
0049a6   f300                                                                                                               
0049a8   c309     MOVFF     0x309,0x301    				T_Packet_Data.my = packet_buffer[1];                                         C:\2007 final code\camera.c
0049aa   f301                                                                                                               
0049ac   c30a     MOVFF     0x30a,0x302    				T_Packet_Data.x1 = packet_buffer[2];                                         C:\2007 final code\camera.c
0049ae   f302                                                                                                               
0049b0   c30b     MOVFF     0x30b,0x303    				T_Packet_Data.y1 = packet_buffer[3];                                         C:\2007 final code\camera.c
0049b2   f303                                                                                                               
0049b4   c30c     MOVFF     0x30c,0x304    				T_Packet_Data.x2 = packet_buffer[4];                                         C:\2007 final code\camera.c
0049b6   f304                                                                                                               
0049b8   c30d     MOVFF     0x30d,0x305    				T_Packet_Data.y2 = packet_buffer[5];                                         C:\2007 final code\camera.c
0049ba   f305                                                                                                               
0049bc   c30e     MOVFF     0x30e,0x306    				T_Packet_Data.pixels = packet_buffer[6];                                     C:\2007 final code\camera.c
0049be   f306                                                                                                               
0049c0   c30f     MOVFF     0x30f,0x307    				T_Packet_Data.confidence = packet_buffer[7];                                 C:\2007 final code\camera.c
0049c2   f307                                                                                                               
                                                                                                                            C:\2007 final code\camera.c
0049c4   0103     MOVLB     0x3            				camera_t_packets++;                                                          C:\2007 final code\camera.c
0049c6   2be6     INCF      0xe6,0x1,0x1                                                                                    
0049c8   0e00     MOVLW     0x0                                                                                             
0049ca   23e7     ADDWFC    0xe7,0x1,0x1                                                                                    
                                                                                                                            C:\2007 final code\camera.c
                                           				state = UNSYNCHRONIZED; // we're done; go back to the unsynchronized state   C:\2007 final code\camera.c
                                           			}                                                                             C:\2007 final code\camera.c
0049cc   d03b     BRA       0x4a44         			break;                                                                        C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           		case RECEIVING_ACK:                                                            C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
0049ce   0e02     MOVLW     0x2            			if(packet_char_count == 2 && byte == 'C') // second character a C?            C:\2007 final code\camera.c
0049d0   0103     MOVLB     0x3                                                                                             
0049d2   5d2b     SUBWF     0x2b,0x0,0x1                                                                                    
0049d4   e104     BNZ       0x49de                                                                                          
0049d6   0efe     MOVLW     0xfe                                                                                            
0049d8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0049da   0843     SUBLW     0x43                                                                                            
0049dc   e024     BZ        0x4a26                                                                                          
                                           			{                                                                             C:\2007 final code\camera.c
                                           				packet_char_count++;                                                         C:\2007 final code\camera.c
                                           			}                                                                             C:\2007 final code\camera.c
0049de   0e03     MOVLW     0x3            			else if(packet_char_count == 3 && byte == 'K') // third character a K?        C:\2007 final code\camera.c
0049e0   5d2b     SUBWF     0x2b,0x0,0x1                                                                                    
0049e2   e104     BNZ       0x49ec                                                                                          
0049e4   0efe     MOVLW     0xfe                                                                                            
0049e6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0049e8   084b     SUBLW     0x4b                                                                                            
0049ea   e01d     BZ        0x4a26                                                                                          
                                           			{                                                                             C:\2007 final code\camera.c
                                           				packet_char_count++;                                                         C:\2007 final code\camera.c
                                           			}                                                                             C:\2007 final code\camera.c
0049ec   0e04     MOVLW     0x4            			else if(packet_char_count == 4 && byte == '\r') // fourth character a return? C:\2007 final code\camera.c
0049ee   5d2b     SUBWF     0x2b,0x0,0x1                                                                                    
0049f0   e109     BNZ       0x4a04                                                                                          
0049f2   0efe     MOVLW     0xfe                                                                                            
0049f4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0049f6   080d     SUBLW     0xd                                                                                             
0049f8   e105     BNZ       0x4a04                                                                                          
                                           			{                                                                             C:\2007 final code\camera.c
0049fa   0103     MOVLB     0x3            				camera_acks++;                                                               C:\2007 final code\camera.c
0049fc   2be8     INCF      0xe8,0x1,0x1                                                                                    
0049fe   0e00     MOVLW     0x0                                                                                             
004a00   23e9     ADDWFC    0xe9,0x1,0x1                                                                                    
                                           				state = UNSYNCHRONIZED;                                                      C:\2007 final code\camera.c
                                           			}                                                                             C:\2007 final code\camera.c
004a02   d020     BRA       0x4a44         			else                                                                          C:\2007 final code\camera.c
                                           			{                                                                             C:\2007 final code\camera.c
004a04   0103     MOVLB     0x3            				state = UNSYNCHRONIZED;                                                      C:\2007 final code\camera.c
                                           			}                                                                             C:\2007 final code\camera.c
004a06   d01e     BRA       0x4a44         			break;                                                                        C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           		case RECEIVING_NCK:                                                            C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
004a08   0e02     MOVLW     0x2            			if(packet_char_count == 2 && byte == 'C') // second character a C?            C:\2007 final code\camera.c
004a0a   0103     MOVLB     0x3                                                                                             
004a0c   5d2b     SUBWF     0x2b,0x0,0x1                                                                                    
004a0e   e104     BNZ       0x4a18                                                                                          
004a10   0efe     MOVLW     0xfe                                                                                            
004a12   50db     MOVF      0xdb,0x0,0x0                                                                                    
004a14   0843     SUBLW     0x43                                                                                            
004a16   e007     BZ        0x4a26                                                                                          
                                           			{                                                                             C:\2007 final code\camera.c
                                           				packet_char_count++;                                                         C:\2007 final code\camera.c
                                           			}                                                                             C:\2007 final code\camera.c
004a18   0e03     MOVLW     0x3            			else if(packet_char_count == 3 && byte == 'K') // third character a K?        C:\2007 final code\camera.c
004a1a   5d2b     SUBWF     0x2b,0x0,0x1                                                                                    
004a1c   e106     BNZ       0x4a2a                                                                                          
004a1e   0efe     MOVLW     0xfe                                                                                            
004a20   50db     MOVF      0xdb,0x0,0x0                                                                                    
004a22   084b     SUBLW     0x4b                                                                                            
004a24   e102     BNZ       0x4a2a                                                                                          
                                           			{                                                                             C:\2007 final code\camera.c
004a26   2b2b     INCF      0x2b,0x1,0x1   				packet_char_count++;                                                         C:\2007 final code\camera.c
                                           			}                                                                             C:\2007 final code\camera.c
004a28   d00f     BRA       0x4a48         			else if(packet_char_count == 4 && byte == '\r') // fourth character a return? C:\2007 final code\camera.c
004a2a   0e04     MOVLW     0x4                                                                                             
004a2c   5d2b     SUBWF     0x2b,0x0,0x1                                                                                    
004a2e   e109     BNZ       0x4a42                                                                                          
004a30   0efe     MOVLW     0xfe                                                                                            
004a32   50db     MOVF      0xdb,0x0,0x0                                                                                    
004a34   080d     SUBLW     0xd                                                                                             
004a36   e105     BNZ       0x4a42                                                                                          
                                           			{                                                                             C:\2007 final code\camera.c
004a38   0103     MOVLB     0x3            				camera_ncks++;                                                               C:\2007 final code\camera.c
004a3a   2bea     INCF      0xea,0x1,0x1                                                                                    
004a3c   0e00     MOVLW     0x0                                                                                             
004a3e   23eb     ADDWFC    0xeb,0x1,0x1                                                                                    
                                           				state = UNSYNCHRONIZED;                                                      C:\2007 final code\camera.c
                                           			}                                                                             C:\2007 final code\camera.c
004a40   d001     BRA       0x4a44         			else                                                                          C:\2007 final code\camera.c
                                           			{                                                                             C:\2007 final code\camera.c
004a42   0103     MOVLB     0x3            				state = UNSYNCHRONIZED;                                                      C:\2007 final code\camera.c
004a44   0e01     MOVLW     0x1                                                                                             
004a46   6fec     MOVWF     0xec,0x1                                                                                        
                                           			}                                                                             C:\2007 final code\camera.c
                                           			break;	                                                                       C:\2007 final code\camera.c
                                           	}                                                                               C:\2007 final code\camera.c
004a48   d15f     BRA       0x4d08         }                                                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Initialize_Camera()                                                 C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		This function is responsable for initializing the                    C:\2007 final code\camera.c
                                           *					camera.                                                                    C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:	Camera_Handler(), below.                                          C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		0: Initialization in progress.                                       C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *					1: Initialization has completed.                                           C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *					2-127: Camera returned a NCK and the returned value                        C:\2007 final code\camera.c
                                           *					indicates the state that caused the NCK.                                   C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *					128-255: Camera didn't return a ACK or NCK within                          C:\2007 final code\camera.c
                                           *					the time allowed. The returned value is the value                          C:\2007 final code\camera.c
                                           *					128 added to the state that failed. The amount of                          C:\2007 final code\camera.c
                                           *					time allowed is set by the MAX_ACK_LOOP_COUNT                              C:\2007 final code\camera.c
                                           *					parameter found in camera.h.					                                          C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:		Camera_acks and camera_ncks are incremented by the                  C:\2007 final code\camera.c
                                           *					function Camera_State_Machine() which is called by                         C:\2007 final code\camera.c
                                           *					Process_Camera_Data() to process data sent by the                          C:\2007 final code\camera.c
                                           *					camera.                                                                    C:\2007 final code\camera.c
                                           *					                                                                           C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
004a4a   d959     RCALL     0x4cfe         unsigned char Initialize_Camera(void)                                            C:\2007 final code\camera.c
004a4c   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\camera.c
                                           	static unsigned char boot_initialization_flag = 1;                              C:\2007 final code\camera.c
                                           	static unsigned char initialize_flag = 1;                                       C:\2007 final code\camera.c
                                           	static unsigned char state;                                                     C:\2007 final code\camera.c
                                           	static unsigned char wait_for_ack;                                              C:\2007 final code\camera.c
                                           	static unsigned int loop_count;                                                 C:\2007 final code\camera.c
                                           	static unsigned char return_value;                                              C:\2007 final code\camera.c
                                           	unsigned char returned_value;                                                   C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           	// stuff to do after the camera goes through a power-on reset                   C:\2007 final code\camera.c
004a4e   0103     MOVLB     0x3            	if(boot_initialization_flag == 1)                                               C:\2007 final code\camera.c
004a50   05ed     DECF      0xed,0x0,0x1                                                                                    
004a52   e107     BNZ       0x4a62                                                                                          
                                           	{                                                                               C:\2007 final code\camera.c
                                           		// get the camera's attention                                                  C:\2007 final code\camera.c
004a54   d8fc     RCALL     0x4c4e         		Camera_Idle();                                                                 C:\2007 final code\camera.c
                                           		// set the command & packet transfer mode                                      C:\2007 final code\camera.c
004a56   0e05     MOVLW     0x5            		Raw_Mode(5);                                                                   C:\2007 final code\camera.c
004a58   6ee6     MOVWF     0xe6,0x0                                                                                        
004a5a   d902     RCALL     0x4c60                                                                                          
004a5c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           		// don't execute this code again until the next power on reset                 C:\2007 final code\camera.c
004a5e   0103     MOVLB     0x3            		boot_initialization_flag = 0;                                                  C:\2007 final code\camera.c
004a60   6bed     CLRF      0xed,0x1                                                                                        
                                           	}                                                                               C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           	// do we need to (re)initialize the state machine?                              C:\2007 final code\camera.c
004a62   05ee     DECF      0xee,0x0,0x1   	if(initialize_flag == 1)                                                        C:\2007 final code\camera.c
004a64   e10d     BNZ       0x4a80                                                                                          
                                           	{                                                                               C:\2007 final code\camera.c
004a66   6bee     CLRF      0xee,0x1       		initialize_flag = 0;                                                           C:\2007 final code\camera.c
004a68   0103     MOVLB     0x3            		wait_for_ack = 0;                                                              C:\2007 final code\camera.c
004a6a   6b2d     CLRF      0x2d,0x1                                                                                        
004a6c   0e01     MOVLW     0x1            		state = STATE_ONE;                                                             C:\2007 final code\camera.c
004a6e   6f2c     MOVWF     0x2c,0x1                                                                                        
004a70   6b2e     CLRF      0x2e,0x1       		loop_count = 0;                                                                C:\2007 final code\camera.c
004a72   6b2f     CLRF      0x2f,0x1                                                                                        
004a74   6b30     CLRF      0x30,0x1       		return_value = 0;                                                              C:\2007 final code\camera.c
004a76   0103     MOVLB     0x3            		camera_acks = 0;                                                               C:\2007 final code\camera.c
004a78   6be8     CLRF      0xe8,0x1                                                                                        
004a7a   6be9     CLRF      0xe9,0x1                                                                                        
004a7c   6bea     CLRF      0xea,0x1       		camera_ncks = 0;                                                               C:\2007 final code\camera.c
004a7e   6beb     CLRF      0xeb,0x1                                                                                        
                                           	}                                                                               C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           	// do we need to wait for an ACK from the camera?                               C:\2007 final code\camera.c
004a80   0103     MOVLB     0x3            	if(wait_for_ack == 1)                                                           C:\2007 final code\camera.c
004a82   052d     DECF      0x2d,0x0,0x1                                                                                    
004a84   e128     BNZ       0x4ad6                                                                                          
                                           	{                                                                               C:\2007 final code\camera.c
004a86   0103     MOVLB     0x3            		if(camera_acks >= 1) // got ACK?                                               C:\2007 final code\camera.c
004a88   0e01     MOVLW     0x1                                                                                             
004a8a   5de8     SUBWF     0xe8,0x0,0x1                                                                                    
004a8c   0e00     MOVLW     0x0                                                                                             
004a8e   59e9     SUBWFB    0xe9,0x0,0x1                                                                                    
004a90   e305     BNC       0x4a9c                                                                                          
                                           		{                                                                              C:\2007 final code\camera.c
                                           			// we're no longer waiting for an ACK                                         C:\2007 final code\camera.c
004a92   0103     MOVLB     0x3            			wait_for_ack = 0;                                                             C:\2007 final code\camera.c
004a94   6b2d     CLRF      0x2d,0x1                                                                                        
                                                                                                                            C:\2007 final code\camera.c
                                           			// reset the loop counter                                                     C:\2007 final code\camera.c
004a96   6b2e     CLRF      0x2e,0x1       			loop_count = 0;                                                               C:\2007 final code\camera.c
004a98   6b2f     CLRF      0x2f,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\camera.c
004a9a   d0c3     BRA       0x4c22         		else if(camera_ncks >= 1) // got NCK?                                          C:\2007 final code\camera.c
004a9c   0e01     MOVLW     0x1                                                                                             
004a9e   5dea     SUBWF     0xea,0x0,0x1                                                                                    
004aa0   0e00     MOVLW     0x0                                                                                             
004aa2   59eb     SUBWFB    0xeb,0x0,0x1                                                                                    
004aa4   e303     BNC       0x4aac                                                                                          
                                           		{                                                                              C:\2007 final code\camera.c
                                           			// return with a value that signals an error happened                         C:\2007 final code\camera.c
004aa6   0103     MOVLB     0x3            			return_value = state - 1;                                                     C:\2007 final code\camera.c
004aa8   052c     DECF      0x2c,0x0,0x1                                                                                    
                                           		}                                                                              C:\2007 final code\camera.c
004aaa   d0ba     BRA       0x4c20         		else if(loop_count >= MAX_ACK_LOOP_COUNT) // have we waited too long?          C:\2007 final code\camera.c
004aac   0103     MOVLB     0x3                                                                                             
004aae   0e0a     MOVLW     0xa                                                                                             
004ab0   5d2e     SUBWF     0x2e,0x0,0x1                                                                                    
004ab2   0e00     MOVLW     0x0                                                                                             
004ab4   592f     SUBWFB    0x2f,0x0,0x1                                                                                    
004ab6   e30b     BNC       0x4ace                                                                                          
                                           		{                                                                              C:\2007 final code\camera.c
                                           			// return with a value that signals an error happened                         C:\2007 final code\camera.c
004ab8   0e80     MOVLW     0x80           			return_value = state + 128 - 1;                                               C:\2007 final code\camera.c
004aba   252c     ADDWF     0x2c,0x0,0x1                                                                                    
004abc   6e2b     MOVWF     0x2b,0x0                                                                                        
004abe   6a2c     CLRF      0x2c,0x0                                                                                        
004ac0   0e00     MOVLW     0x0                                                                                             
004ac2   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
004ac4   062b     DECF      0x2b,0x1,0x0                                                                                    
004ac6   5a2c     SUBWFB    0x2c,0x1,0x0                                                                                    
004ac8   c02b     MOVFF     0x2b,0x330                                                                                      
004aca   f330                                                                                                               
                                           		}                                                                              C:\2007 final code\camera.c
004acc   d0aa     BRA       0x4c22         		else                                                                           C:\2007 final code\camera.c
                                           		{                                                                              C:\2007 final code\camera.c
                                           			// if we fall through to here it means that that we've sent a                 C:\2007 final code\camera.c
                                           			// command to the camera, and we're still waiting to receive                  C:\2007 final code\camera.c
                                           			// an ACK/NCK or time-out, so other than incrementing the loop                C:\2007 final code\camera.c
                                           			// counter, we don't do anything and continue to wait...                      C:\2007 final code\camera.c
004ace   2b2e     INCF      0x2e,0x1,0x1   			loop_count++;                                                                 C:\2007 final code\camera.c
004ad0   0e00     MOVLW     0x0                                                                                             
004ad2   232f     ADDWFC    0x2f,0x1,0x1                                                                                    
                                           		}                                                                              C:\2007 final code\camera.c
                                           	}                                                                               C:\2007 final code\camera.c
004ad4   d0a6     BRA       0x4c22         	else                                                                            C:\2007 final code\camera.c
                                           	{                                                                               C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           		// if debugging mode is on, send camera initialization information             C:\2007 final code\camera.c
                                           		// to the terminal (the DEBUG() macro is defined in camera.h                   C:\2007 final code\camera.c
                                           		DEBUG(("Camera: Initialization state = %u\r\n", (unsigned int)state));         C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           		// reset the ACK/NCK counters                                                  C:\2007 final code\camera.c
004ad6   0103     MOVLB     0x3            		camera_acks = 0;                                                               C:\2007 final code\camera.c
004ad8   6be8     CLRF      0xe8,0x1                                                                                        
004ada   6be9     CLRF      0xe9,0x1                                                                                        
004adc   6bea     CLRF      0xea,0x1       		camera_ncks = 0;                                                               C:\2007 final code\camera.c
004ade   6beb     CLRF      0xeb,0x1                                                                                        
                                                                                                                            C:\2007 final code\camera.c
004ae0   0103     MOVLB     0x3            		switch(state)                                                                  C:\2007 final code\camera.c
004ae2   512c     MOVF      0x2c,0x0,0x1                                                                                    
004ae4   0a12     XORLW     0x12                                                                                            
004ae6   e101     BNZ       0x4aea                                                                                          
004ae8   d09a     BRA       0x4c1e                                                                                          
004aea   0a03     XORLW     0x3                                                                                             
004aec   e101     BNZ       0x4af0                                                                                          
004aee   d080     BRA       0x4bf0                                                                                          
004af0   0a01     XORLW     0x1                                                                                             
004af2   e101     BNZ       0x4af6                                                                                          
004af4   d077     BRA       0x4be4                                                                                          
004af6   0a1f     XORLW     0x1f                                                                                            
004af8   e06f     BZ        0x4bd8                                                                                          
004afa   0a01     XORLW     0x1                                                                                             
004afc   e067     BZ        0x4bcc                                                                                          
004afe   0a03     XORLW     0x3                                                                                             
004b00   e05f     BZ        0x4bc0                                                                                          
004b02   0a01     XORLW     0x1                                                                                             
004b04   e057     BZ        0x4bb4                                                                                          
004b06   0a07     XORLW     0x7                                                                                             
004b08   e04f     BZ        0x4ba8                                                                                          
004b0a   0a01     XORLW     0x1                                                                                             
004b0c   e045     BZ        0x4b98                                                                                          
004b0e   0a03     XORLW     0x3                                                                                             
004b10   e03d     BZ        0x4b8c                                                                                          
004b12   0a01     XORLW     0x1                                                                                             
004b14   e035     BZ        0x4b80                                                                                          
004b16   0a0f     XORLW     0xf                                                                                             
004b18   e02d     BZ        0x4b74                                                                                          
004b1a   0a01     XORLW     0x1                                                                                             
004b1c   e025     BZ        0x4b68                                                                                          
004b1e   0a03     XORLW     0x3                                                                                             
004b20   e01d     BZ        0x4b5c                                                                                          
004b22   0a01     XORLW     0x1                                                                                             
004b24   e015     BZ        0x4b50                                                                                          
004b26   0a07     XORLW     0x7                                                                                             
004b28   e00d     BZ        0x4b44                                                                                          
004b2a   0a01     XORLW     0x1                                                                                             
004b2c   e007     BZ        0x4b3c                                                                                          
004b2e   0a03     XORLW     0x3                                                                                             
004b30   e001     BZ        0x4b34                                                                                          
004b32   d077     BRA       0x4c22                                                                                          
                                           		{                                                                              C:\2007 final code\camera.c
                                           			case STATE_ONE:                                                               C:\2007 final code\camera.c
                                           				// get the camera's attention                                                C:\2007 final code\camera.c
004b34   d88c     RCALL     0x4c4e         				Camera_Idle();                                                               C:\2007 final code\camera.c
                                           				// next state                                                                C:\2007 final code\camera.c
004b36   0103     MOVLB     0x3            				state = STATE_TWO;                                                           C:\2007 final code\camera.c
004b38   0e02     MOVLW     0x2                                                                                             
                                           				// don't wait for an ACK before transitioning to the next state              C:\2007 final code\camera.c
                                           				wait_for_ack = 0;                                                            C:\2007 final code\camera.c
004b3a   d001     BRA       0x4b3e         				break;                                                                       C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           			case STATE_TWO:                                                               C:\2007 final code\camera.c
                                           				// next state                                                                C:\2007 final code\camera.c
004b3c   0e03     MOVLW     0x3            				state = STATE_THREE;                                                         C:\2007 final code\camera.c
004b3e   6f2c     MOVWF     0x2c,0x1                                                                                        
                                           				// don't wait for an ACK before transitioning to the next state              C:\2007 final code\camera.c
004b40   6b2d     CLRF      0x2d,0x1       				wait_for_ack = 0;                                                            C:\2007 final code\camera.c
004b42   d06f     BRA       0x4c22         				break;                                                                       C:\2007 final code\camera.c
                                           	                                                                                C:\2007 final code\camera.c
                                           			case STATE_THREE:                                                             C:\2007 final code\camera.c
                                           				// initialize the Common Control I register                                  C:\2007 final code\camera.c
004b44   0e80     MOVLW     0x80           				Write_Camera_Module_Register(COMI_ADDRESS, COMI_DEFAULT);                    C:\2007 final code\camera.c
004b46   6ee6     MOVWF     0xe6,0x0                                                                                        
004b48   0e29     MOVLW     0x29                                                                                            
004b4a   d8ca     RCALL     0x4ce0                                                                                          
                                           				// next state                                                                C:\2007 final code\camera.c
004b4c   0e04     MOVLW     0x4            				state = STATE_FOUR;                                                          C:\2007 final code\camera.c
                                           				// wait for an ACK before transitioning to the next state                    C:\2007 final code\camera.c
                                           				wait_for_ack = 1;                                                            C:\2007 final code\camera.c
004b4e   d063     BRA       0x4c16         				break;                                                                       C:\2007 final code\camera.c
                                           	                                                                                C:\2007 final code\camera.c
                                           			case STATE_FOUR:                                                              C:\2007 final code\camera.c
                                           				// initialize the Common Control B register                                  C:\2007 final code\camera.c
004b50   0e20     MOVLW     0x20           				Write_Camera_Module_Register(COMB_ADDRESS, COMB_DEFAULT);                    C:\2007 final code\camera.c
004b52   6ee6     MOVWF     0xe6,0x0                                                                                        
004b54   0e13     MOVLW     0x13                                                                                            
004b56   d8c4     RCALL     0x4ce0                                                                                          
                                           				// next state                                                                C:\2007 final code\camera.c
004b58   0e05     MOVLW     0x5            				state = STATE_FIVE;                                                          C:\2007 final code\camera.c
                                           				// wait for an ACK before transitioning to the next state                    C:\2007 final code\camera.c
                                           				wait_for_ack = 1;                                                            C:\2007 final code\camera.c
004b5a   d05d     BRA       0x4c16         				break;                                                                       C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           			case STATE_FIVE:                                                              C:\2007 final code\camera.c
                                           				// initialize the Common Control J register to power-on state                C:\2007 final code\camera.c
                                           				// to disable the banding filter, which must be done before                  C:\2007 final code\camera.c
                                           				// setting the Frame Rate Adjust register 2 (EHSL)                           C:\2007 final code\camera.c
004b5c   0e84     MOVLW     0x84           				Write_Camera_Module_Register(COMJ_ADDRESS, COMJ_DEFAULT);                    C:\2007 final code\camera.c
004b5e   6ee6     MOVWF     0xe6,0x0                                                                                        
004b60   0e2d     MOVLW     0x2d                                                                                            
004b62   d8be     RCALL     0x4ce0                                                                                          
                                           				// next state                                                                C:\2007 final code\camera.c
004b64   0e06     MOVLW     0x6            				state = STATE_SIX;                                                           C:\2007 final code\camera.c
                                           				// wait for an ACK before transitioning to the next state                    C:\2007 final code\camera.c
                                           				wait_for_ack = 1;                                                            C:\2007 final code\camera.c
004b66   d057     BRA       0x4c16         				break;                                                                       C:\2007 final code\camera.c
                                           		                                                                               C:\2007 final code\camera.c
                                           			case STATE_SIX:                                                               C:\2007 final code\camera.c
                                           				// initialize the Frame Rate Adjust register 1                               C:\2007 final code\camera.c
004b68   0e80     MOVLW     0x80           				Write_Camera_Module_Register(EHSH_ADDRESS, EHSH_DEFAULT);                    C:\2007 final code\camera.c
004b6a   6ee6     MOVWF     0xe6,0x0                                                                                        
004b6c   0e2a     MOVLW     0x2a                                                                                            
004b6e   d8b8     RCALL     0x4ce0                                                                                          
                                           				// next state                                                                C:\2007 final code\camera.c
004b70   0e07     MOVLW     0x7            				state = STATE_SEVEN;                                                         C:\2007 final code\camera.c
                                           				// wait for an ACK before transitioning to the next state                    C:\2007 final code\camera.c
                                           				wait_for_ack = 1;                                                            C:\2007 final code\camera.c
004b72   d051     BRA       0x4c16         				break;                                                                       C:\2007 final code\camera.c
                                           		                                                                               C:\2007 final code\camera.c
                                           			case STATE_SEVEN:                                                             C:\2007 final code\camera.c
                                           				// initialize the Frame Rate Adjust register 2                               C:\2007 final code\camera.c
004b74   0e20     MOVLW     0x20           				Write_Camera_Module_Register(EHSL_ADDRESS, EHSL_DEFAULT);                    C:\2007 final code\camera.c
004b76   6ee6     MOVWF     0xe6,0x0                                                                                        
004b78   0e2b     MOVLW     0x2b                                                                                            
004b7a   d8b2     RCALL     0x4ce0                                                                                          
                                           				// next state                                                                C:\2007 final code\camera.c
004b7c   0e08     MOVLW     0x8            				state = STATE_EIGHT;                                                         C:\2007 final code\camera.c
                                           				// wait for an ACK before transitioning to the next state                    C:\2007 final code\camera.c
                                           				wait_for_ack = 1;                                                            C:\2007 final code\camera.c
004b7e   d04b     BRA       0x4c16         				break;                                                                       C:\2007 final code\camera.c
                                           		                                                                               C:\2007 final code\camera.c
                                           			case STATE_EIGHT:                                                             C:\2007 final code\camera.c
                                           				// initialize the Common Control J register                                  C:\2007 final code\camera.c
004b80   0e84     MOVLW     0x84           				Write_Camera_Module_Register(COMJ_ADDRESS, COMJ_DEFAULT);                    C:\2007 final code\camera.c
004b82   6ee6     MOVWF     0xe6,0x0                                                                                        
004b84   0e2d     MOVLW     0x2d                                                                                            
004b86   d8ac     RCALL     0x4ce0                                                                                          
                                           				// next state                                                                C:\2007 final code\camera.c
004b88   0e09     MOVLW     0x9            				state = STATE_NINE;                                                          C:\2007 final code\camera.c
                                           				// wait for an ACK before transitioning to the next state                    C:\2007 final code\camera.c
                                           				wait_for_ack = 1;                                                            C:\2007 final code\camera.c
004b8a   d045     BRA       0x4c16         				break;                                                                       C:\2007 final code\camera.c
                                           		                                                                               C:\2007 final code\camera.c
                                           			case STATE_NINE:                                                              C:\2007 final code\camera.c
                                           				// initialize the Common Control A register                                  C:\2007 final code\camera.c
004b8c   0e20     MOVLW     0x20           				Write_Camera_Module_Register(COMA_ADDRESS, COMA_DEFAULT);                    C:\2007 final code\camera.c
004b8e   6ee6     MOVWF     0xe6,0x0                                                                                        
004b90   0e12     MOVLW     0x12                                                                                            
004b92   d8a6     RCALL     0x4ce0                                                                                          
                                           				// next state                                                                C:\2007 final code\camera.c
004b94   0e0a     MOVLW     0xa            				state = STATE_TEN;                                                           C:\2007 final code\camera.c
                                           				// wait for an ACK before transitioning to the next state                    C:\2007 final code\camera.c
                                           				wait_for_ack = 1;                                                            C:\2007 final code\camera.c
004b96   d03f     BRA       0x4c16         				break;                                                                       C:\2007 final code\camera.c
                                           		                                                                               C:\2007 final code\camera.c
                                           			case STATE_TEN:                                                               C:\2007 final code\camera.c
                                           				// initialize the Automatic Gain Control register                            C:\2007 final code\camera.c
004b98   6ae6     CLRF      0xe6,0x0       				Write_Camera_Module_Register(AGC_ADDRESS, AGC_DEFAULT);                      C:\2007 final code\camera.c
004b9a   6ae6     CLRF      0xe6,0x0                                                                                        
004b9c   d881     RCALL     0x4ca0                                                                                          
004b9e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004ba0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           				// next state                                                                C:\2007 final code\camera.c
004ba2   0103     MOVLB     0x3            				state = STATE_ELEVEN;                                                        C:\2007 final code\camera.c
004ba4   0e0b     MOVLW     0xb                                                                                             
                                           				// wait for an ACK before transitioning to the next state                    C:\2007 final code\camera.c
                                           				wait_for_ack = 1;                                                            C:\2007 final code\camera.c
004ba6   d037     BRA       0x4c16         				break;                                                                       C:\2007 final code\camera.c
                                           		                                                                               C:\2007 final code\camera.c
                                           			case STATE_ELEVEN:                                                            C:\2007 final code\camera.c
                                           				// initialize the Blue Gain Control register                                 C:\2007 final code\camera.c
004ba8   0e80     MOVLW     0x80           				Write_Camera_Module_Register(BLU_ADDRESS, BLU_DEFAULT);                      C:\2007 final code\camera.c
004baa   6ee6     MOVWF     0xe6,0x0                                                                                        
004bac   0e01     MOVLW     0x1                                                                                             
004bae   d898     RCALL     0x4ce0                                                                                          
                                           				// next state                                                                C:\2007 final code\camera.c
004bb0   0e0c     MOVLW     0xc            				state = STATE_TWELVE;                                                        C:\2007 final code\camera.c
                                           				// wait for an ACK before transitioning to the next state                    C:\2007 final code\camera.c
                                           				wait_for_ack = 1;                                                            C:\2007 final code\camera.c
004bb2   d031     BRA       0x4c16         				break;                                                                       C:\2007 final code\camera.c
                                           		                                                                               C:\2007 final code\camera.c
                                           			case STATE_TWELVE:                                                            C:\2007 final code\camera.c
                                           				// initialize the Red Gain Control register                                  C:\2007 final code\camera.c
004bb4   0e80     MOVLW     0x80           				Write_Camera_Module_Register(RED_ADDRESS, RED_DEFAULT);                      C:\2007 final code\camera.c
004bb6   6ee6     MOVWF     0xe6,0x0                                                                                        
004bb8   0e02     MOVLW     0x2                                                                                             
004bba   d892     RCALL     0x4ce0                                                                                          
                                           				// next state                                                                C:\2007 final code\camera.c
004bbc   0e0d     MOVLW     0xd            				state = STATE_THIRTEEN;                                                      C:\2007 final code\camera.c
                                           				// wait for an ACK before transitioning to the next state                    C:\2007 final code\camera.c
                                           				wait_for_ack = 1;                                                            C:\2007 final code\camera.c
004bbe   d02b     BRA       0x4c16         				break;                                                                       C:\2007 final code\camera.c
                                           		                                                                               C:\2007 final code\camera.c
                                           			case STATE_THIRTEEN:                                                          C:\2007 final code\camera.c
                                           				// initialize the Saturation Control register                                C:\2007 final code\camera.c
004bc0   0e80     MOVLW     0x80           				Write_Camera_Module_Register(SAT_ADDRESS, SAT_DEFAULT);                      C:\2007 final code\camera.c
004bc2   6ee6     MOVWF     0xe6,0x0                                                                                        
004bc4   0e03     MOVLW     0x3                                                                                             
004bc6   d88c     RCALL     0x4ce0                                                                                          
                                           				// next state                                                                C:\2007 final code\camera.c
004bc8   0e0e     MOVLW     0xe            				state = STATE_FOURTEEN;                                                      C:\2007 final code\camera.c
                                           				// wait for an ACK before transitioning to the next state                    C:\2007 final code\camera.c
                                           				wait_for_ack = 1;                                                            C:\2007 final code\camera.c
004bca   d025     BRA       0x4c16         				break;                                                                       C:\2007 final code\camera.c
                                           		                                                                               C:\2007 final code\camera.c
                                           			case STATE_FOURTEEN:                                                          C:\2007 final code\camera.c
                                           				// initialize the Brightness Control register                                C:\2007 final code\camera.c
004bcc   0e01     MOVLW     0x1            				Write_Camera_Module_Register(BRT_ADDRESS, BRT_DEFAULT);                      C:\2007 final code\camera.c
004bce   6ee6     MOVWF     0xe6,0x0                                                                                        
004bd0   0e06     MOVLW     0x6                                                                                             
004bd2   d886     RCALL     0x4ce0                                                                                          
                                           				// next state                                                                C:\2007 final code\camera.c
004bd4   0e0f     MOVLW     0xf            				state = STATE_FIFTEEN;                                                       C:\2007 final code\camera.c
                                           				// wait for an ACK before transitioning to the next state                    C:\2007 final code\camera.c
                                           				wait_for_ack = 1;                                                            C:\2007 final code\camera.c
004bd6   d01f     BRA       0x4c16         				break;                                                                       C:\2007 final code\camera.c
                                           		                                                                               C:\2007 final code\camera.c
                                           			case STATE_FIFTEEN:                                                           C:\2007 final code\camera.c
                                           				// initialize the Automatic Exposure Control register                        C:\2007 final code\camera.c
004bd8   0e01     MOVLW     0x1            				Write_Camera_Module_Register(AEC_ADDRESS, AEC_DEFAULT);                      C:\2007 final code\camera.c
004bda   6ee6     MOVWF     0xe6,0x0                                                                                        
004bdc   0e10     MOVLW     0x10                                                                                            
004bde   d880     RCALL     0x4ce0                                                                                          
004ce0   6ee6     MOVWF     0xe6,0x0                                                                                        
004ce2   dfde     RCALL     0x4ca0                                                                                          
004ce4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004ce6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           				// next state                                                                C:\2007 final code\camera.c
004be0   0e10     MOVLW     0x10           				state = STATE_SIXTEEN;                                                       C:\2007 final code\camera.c
004ce8   0103     MOVLB     0x3                                                                                             
004cea   0012     RETURN    0x0                                                                                             
                                           				// wait for an ACK before transitioning to the next state                    C:\2007 final code\camera.c
                                           				wait_for_ack = 1;                                                            C:\2007 final code\camera.c
004be2   d019     BRA       0x4c16         				break;                                                                       C:\2007 final code\camera.c
                                           		                                                                               C:\2007 final code\camera.c
                                           			case STATE_SIXTEEN:                                                           C:\2007 final code\camera.c
                                           				// initialize the Noise Filter value                                         C:\2007 final code\camera.c
004be4   6ae6     CLRF      0xe6,0x0       				Noise_Filter(NF_DEFAULT);                                                    C:\2007 final code\camera.c
004be6   d84a     RCALL     0x4c7c                                                                                          
004be8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           				// next state                                                                C:\2007 final code\camera.c
004bea   0103     MOVLB     0x3            				state = STATE_SEVENTEEN;                                                     C:\2007 final code\camera.c
004bec   0e11     MOVLW     0x11                                                                                            
                                           				// wait for an ACK before transitioning to the next state                    C:\2007 final code\camera.c
                                           				wait_for_ack = 1;                                                            C:\2007 final code\camera.c
004bee   d013     BRA       0x4c16         				break;                                                                       C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           			case STATE_SEVENTEEN:                                                         C:\2007 final code\camera.c
                                           				// send the TC or Track Color command                                        C:\2007 final code\camera.c
004c00   0e73     MOVLW     0x73           				Track_Color(R_MIN_DEFAULT, R_MAX_DEFAULT,                                    C:\2007 final code\camera.c
004c02   6ee6     MOVWF     0xe6,0x0                                                                                        
004c04   0e55     MOVLW     0x55                                                                                            
004c06   6ee6     MOVWF     0xe6,0x0                                                                                        
004bf8   0e11     MOVLW     0x11           							G_MIN_DEFAULT, G_MAX_DEFAULT,                                             C:\2007 final code\camera.c
004bfa   6ee6     MOVWF     0xe6,0x0                                                                                        
004bfc   0e0f     MOVLW     0xf                                                                                             
004bfe   6ee6     MOVWF     0xe6,0x0                                                                                        
004bf0   0e91     MOVLW     0x91           							B_MIN_DEFAULT, B_MAX_DEFAULT);                                            C:\2007 final code\camera.c
004bf2   6ee6     MOVWF     0xe6,0x0                                                                                        
004bf4   0e64     MOVLW     0x64                                                                                            
004bf6   6ee6     MOVWF     0xe6,0x0                                                                                        
004c08   d816     RCALL     0x4c36                                                                                          
004c0a   6ef5     MOVWF     0xf5,0x0                                                                                        
004c0c   0e06     MOVLW     0x6                                                                                             
004c0e   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
004c10   50f5     MOVF      0xf5,0x0,0x0                                                                                    
                                           				// next state                                                                C:\2007 final code\camera.c
004c12   0103     MOVLB     0x3            				state = STATE_EIGHTEEN;                                                      C:\2007 final code\camera.c
004c14   0e12     MOVLW     0x12                                                                                            
004c16   6f2c     MOVWF     0x2c,0x1                                                                                        
                                           				// wait for an ACK before transitioning to the next state                    C:\2007 final code\camera.c
004c18   0e01     MOVLW     0x1            				wait_for_ack = 1;                                                            C:\2007 final code\camera.c
004c1a   6f2d     MOVWF     0x2d,0x1                                                                                        
004c1c   d002     BRA       0x4c22         				break;                                                                       C:\2007 final code\camera.c
                                           	                                                                                C:\2007 final code\camera.c
                                           			case STATE_EIGHTEEN:                                                          C:\2007 final code\camera.c
                                           				// signal that we're done                                                    C:\2007 final code\camera.c
004c1e   0e01     MOVLW     0x1            				return_value = 1;                                                            C:\2007 final code\camera.c
004c20   6f30     MOVWF     0x30,0x1                                                                                        
                                           				break;                                                                       C:\2007 final code\camera.c
                                           		}                                                                              C:\2007 final code\camera.c
                                           	}                                                                               C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           	// If we're returning from this function with a value greater                   C:\2007 final code\camera.c
                                           	// than zero, it means that configuration is complete or we've                  C:\2007 final code\camera.c
                                           	// generated an error. In either case we'll want to re-initialize               C:\2007 final code\camera.c
                                           	// the state machine if this function is called again.                          C:\2007 final code\camera.c
004c22   5130     MOVF      0x30,0x0,0x1   	if(return_value > 0)                                                            C:\2007 final code\camera.c
004c24   0800     SUBLW     0x0                                                                                             
004c26   e203     BC        0x4c2e                                                                                          
                                           	{                                                                               C:\2007 final code\camera.c
004c28   0103     MOVLB     0x3            		initialize_flag = 1;                                                           C:\2007 final code\camera.c
004c2a   0e01     MOVLW     0x1                                                                                             
004c2c   6fee     MOVWF     0xee,0x1                                                                                        
                                           	}                                                                               C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
004c2e   0103     MOVLB     0x3            	return(return_value);	                                                          C:\2007 final code\camera.c
004c30   5130     MOVF      0x30,0x0,0x1                                                                                    
004c32   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\camera.c
004c34   d069     BRA       0x4d08                                                                                          
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Track_Color()                                                       C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		Properly formats and sends a TC (Track Color) command                C:\2007 final code\camera.c
                                           *					to the camera.		                                                           C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:	Initialize_Camera(), above.                                       C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		Minimum and maximum intensity values for the red, green           C:\2007 final code\camera.c
                                           *					and blue (or YCrCb) channels.                                              C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:		Camera must be configured to accept binary commands,                C:\2007 final code\camera.c
                                           *					not ASCII. See Raw_Mode() function.                                        C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *					See CMUCam2_commands.pdf for details.                                      C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
004c36   d863     RCALL     0x4cfe         void Track_Color(unsigned char Rmin, unsigned char Rmax,                         C:\2007 final code\camera.c
                                           				 unsigned char Gmin, unsigned char Gmax,                                     C:\2007 final code\camera.c
                                           				 unsigned char Bmin, unsigned char Bmax)                                     C:\2007 final code\camera.c
                                           {                                                                                C:\2007 final code\camera.c
004c38   0e54     MOVLW     0x54           	Write_Camera_Serial_Port('T');                                                  C:\2007 final code\camera.c
004c3a   d85d     RCALL     0x4cf6                                                                                          
004c3c   0e43     MOVLW     0x43           	Write_Camera_Serial_Port('C');                                                  C:\2007 final code\camera.c
004c3e   d85b     RCALL     0x4cf6                                                                                          
004c40   0e06     MOVLW     0x6            	Write_Camera_Serial_Port(6);                                                    C:\2007 final code\camera.c
004c42   d866     RCALL     0x4d10                                                                                          
004d10   d805     RCALL     0x4d1c                                                                                          
                                           	Write_Camera_Serial_Port(Rmin);                                                 C:\2007 final code\camera.c
                                           	Write_Camera_Serial_Port(Rmax);                                                 C:\2007 final code\camera.c
004d12   0efc     MOVLW     0xfc           	Write_Camera_Serial_Port(Gmin);                                                 C:\2007 final code\camera.c
004d14   dfeb     RCALL     0x4cec                                                                                          
004d16   0efb     MOVLW     0xfb           	Write_Camera_Serial_Port(Gmax);                                                 C:\2007 final code\camera.c
004d18   ef76     GOTO      0x4cec                                                                                          
004d1a   f026                                                                                                               
004c44   0efa     MOVLW     0xfa           	Write_Camera_Serial_Port(Bmin);                                                 C:\2007 final code\camera.c
004c46   d852     RCALL     0x4cec                                                                                          
004c48   0ef9     MOVLW     0xf9           	Write_Camera_Serial_Port(Bmax);                                                 C:\2007 final code\camera.c
004c4a   d850     RCALL     0x4cec                                                                                          
004c4c   d05d     BRA       0x4d08         }                                                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Camera_Idle()                                                       C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		If the camera is currently streaming data, this command              C:\2007 final code\camera.c
                                           *					will stop the streaming and prepare it to receive commands.                C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:	Initialize_Camera(), above.                                       C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:                                                                      C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
                                           void Camera_Idle(void)                                                           C:\2007 final code\camera.c
                                           {                                                                                C:\2007 final code\camera.c
004c4e   0e0d     MOVLW     0xd            	Write_Camera_Serial_Port('\r');                                                 C:\2007 final code\camera.c
004c50   ef7b     GOTO      0x4cf6                                                                                          
004c52   f026                                                                                                               
                                           }                                                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Restart_Camera()                                                    C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		This command will force a camera reinitialization		                  C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		none                                                              C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		nothing                                                              C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:                                                                      C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
                                           void Restart_Camera(void)                                                        C:\2007 final code\camera.c
                                           {                                                                                C:\2007 final code\camera.c
004c54   0103     MOVLB     0x3            	camera_initialized = 0;                                                         C:\2007 final code\camera.c
004c56   6be5     CLRF      0xe5,0x1                                                                                        
004c58   0012     RETURN    0x0            }                                                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Get_Camera_State()                                                  C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		                                                                     C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		none                                                              C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		0: camera is initializing.                                           C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *					1: camera is initialized and sending T (Tracking) packets.                 C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:                                                                      C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
                                           unsigned char Get_Camera_State(void)                                             C:\2007 final code\camera.c
                                           {                                                                                C:\2007 final code\camera.c
004c5a   0103     MOVLB     0x3            	return(camera_initialized);                                                     C:\2007 final code\camera.c
004c5c   51e5     MOVF      0xe5,0x0,0x1                                                                                    
004c5e   0012     RETURN    0x0            }                                                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Raw_Mode()                                                          C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		Properly formats and sends a camera RM (Raw Mode) command            C:\2007 final code\camera.c
                                           *					to the camera. 		                                                          C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:	Initialize_Camera(), above.                                       C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		unsigned char                                                     C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		nothing                                                              C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:		This body of software assumes that raw serial communication         C:\2007 final code\camera.c
                                           *					mode five is invoked, meaning that camera input and output                 C:\2007 final code\camera.c
                                           *					is done in the raw binary format and that ACKs and NCKs                    C:\2007 final code\camera.c
                                           *					are not suppressed.                                                        C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *					See CMUCam2_commands.pdf for details.                                      C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
004c60   d84e     RCALL     0x4cfe         void Raw_Mode(unsigned char mode)                                                C:\2007 final code\camera.c
                                           {                                                                                C:\2007 final code\camera.c
004c62   0e52     MOVLW     0x52           	Write_Camera_Serial_Port('R');                                                  C:\2007 final code\camera.c
004c64   d848     RCALL     0x4cf6                                                                                          
004c66   0e4d     MOVLW     0x4d           	Write_Camera_Serial_Port('M');                                                  C:\2007 final code\camera.c
004c68   d846     RCALL     0x4cf6                                                                                          
004c6a   0e20     MOVLW     0x20           	Write_Camera_Serial_Port(' ');                                                  C:\2007 final code\camera.c
004c6c   d844     RCALL     0x4cf6                                                                                          
004c6e   0efe     MOVLW     0xfe           	Write_Camera_Serial_Port(48 + mode);                                            C:\2007 final code\camera.c
004c70   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c72   0f30     ADDLW     0x30                                                                                            
004c74   d840     RCALL     0x4cf6                                                                                          
004c76   0e0d     MOVLW     0xd            	Write_Camera_Serial_Port('\r');                                                 C:\2007 final code\camera.c
004c78   d83e     RCALL     0x4cf6                                                                                          
004c7a   d046     BRA       0x4d08         }                                                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Noise_Filter()                                                      C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		Properly formats and sends a camera NF (Noise Filter)                C:\2007 final code\camera.c
                                           *					command to the camera.                                                     C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:	Initialize_Camera(), above.                                       C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		Noise filter threshold value.                                     C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:		Camera must be configured to accept binary commands,                C:\2007 final code\camera.c
                                           *					not ASCII. See Raw_Mode() function.                                        C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *					See CMUCam2_commands.pdf for details.                                      C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
004c7c   d840     RCALL     0x4cfe         void Noise_Filter(unsigned char threshold)                                       C:\2007 final code\camera.c
                                           {                                                                                C:\2007 final code\camera.c
004c7e   0e4e     MOVLW     0x4e           	Write_Camera_Serial_Port('N');                                                  C:\2007 final code\camera.c
004c80   d83a     RCALL     0x4cf6                                                                                          
004c82   0e46     MOVLW     0x46           	Write_Camera_Serial_Port('F');                                                  C:\2007 final code\camera.c
004c84   d838     RCALL     0x4cf6                                                                                          
004c86   0e01     MOVLW     0x1            	Write_Camera_Serial_Port(1);                                                    C:\2007 final code\camera.c
004c88   d836     RCALL     0x4cf6                                                                                          
004c8a   0efe     MOVLW     0xfe           	Write_Camera_Serial_Port(threshold);                                            C:\2007 final code\camera.c
004c8c   d82f     RCALL     0x4cec                                                                                          
004c8e   d03c     BRA       0x4d08         }                                                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Virtual_Window()                                                    C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		Properly formats and sends a VW (Virtual Window) command             C:\2007 final code\camera.c
                                           *					to the camera.                                                             C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		Four unsigned chars specifying two corners of the                 C:\2007 final code\camera.c
                                           *					virtual window.                                                            C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:		Camera must be configured to accept binary commands,                C:\2007 final code\camera.c
                                           *					not ASCII. See Raw_Mode() function.                                        C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *					See CMUCam2_commands.pdf for details.                                      C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
004c90   d836     RCALL     0x4cfe         void Virtual_Window(unsigned char x, unsigned char y, unsigned char x2, unsigned char y2) C:\2007 final code\camera.c
                                           {                                                                                C:\2007 final code\camera.c
004c92   0e56     MOVLW     0x56           	Write_Camera_Serial_Port('V');                                                  C:\2007 final code\camera.c
004c94   d830     RCALL     0x4cf6                                                                                          
004c96   0e57     MOVLW     0x57           	Write_Camera_Serial_Port('W');                                                  C:\2007 final code\camera.c
004c98   d82e     RCALL     0x4cf6                                                                                          
004c9a   0e04     MOVLW     0x4            	Write_Camera_Serial_Port(4);                                                    C:\2007 final code\camera.c
004c9c   d839     RCALL     0x4d10                                                                                          
                                           	Write_Camera_Serial_Port(x);                                                    C:\2007 final code\camera.c
                                           	Write_Camera_Serial_Port(y);                                                    C:\2007 final code\camera.c
                                           	Write_Camera_Serial_Port(x2);                                                   C:\2007 final code\camera.c
                                           	Write_Camera_Serial_Port(y2);                                                   C:\2007 final code\camera.c
004c9e   d034     BRA       0x4d08         }                                                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Write_Camera_Module_Register()                                      C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		Properly formats and sends a CR (Camera Register) command            C:\2007 final code\camera.c
                                           *					to the camera.                                                             C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:	Initialize_Camera(), above.                                       C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		Camera register number and new register value.                    C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:		Camera must be configured to accept binary commands,                C:\2007 final code\camera.c
                                           *					not ASCII. See Raw_Mode() function.                                        C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *					See CMUCam2_commands.pdf for details.                                      C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
004ca0   d82e     RCALL     0x4cfe         void Write_Camera_Module_Register(unsigned char reg, unsigned char value)        C:\2007 final code\camera.c
                                           {                                                                                C:\2007 final code\camera.c
004ca2   0e43     MOVLW     0x43           	Write_Camera_Serial_Port('C');                                                  C:\2007 final code\camera.c
004ca4   d828     RCALL     0x4cf6                                                                                          
004ca6   0e52     MOVLW     0x52           	Write_Camera_Serial_Port('R');                                                  C:\2007 final code\camera.c
004ca8   d826     RCALL     0x4cf6                                                                                          
004caa   0e02     MOVLW     0x2            	Write_Camera_Serial_Port(2);                                                    C:\2007 final code\camera.c
004cac   d837     RCALL     0x4d1c                                                                                          
004cf6   6ee6     MOVWF     0xe6,0x0                                                                                        
004cf8   dfdf     RCALL     0x4cb8                                                                                          
004cfa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004cfc   0012     RETURN    0x0                                                                                             
004d1c   dfec     RCALL     0x4cf6                                                                                          
004cec   cfdb     MOVFF     0xfdb,0xfe6    	Write_Camera_Serial_Port(reg);                                                  C:\2007 final code\camera.c
004cee   ffe6                                                                                                               
004cf0   dfe3     RCALL     0x4cb8                                                                                          
004cf2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004cf4   0012     RETURN    0x0                                                                                             
004d1e   0efe     MOVLW     0xfe                                                                                            
004d20   dfe5     RCALL     0x4cec                                                                                          
004d22   0efd     MOVLW     0xfd           	Write_Camera_Serial_Port(value);                                                C:\2007 final code\camera.c
004d24   ef76     GOTO      0x4cec                                                                                          
004d26   f026                                                                                                               
004cae   d02c     BRA       0x4d08         }                                                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Camera_Serial_Port_Byte_Count()                                     C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		Returns the number of bytes in the camera serial port's              C:\2007 final code\camera.c
                                           *					received data queue.		                                                     C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		Number of bytes in the queue.                                        C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:		This code assumes that the camera serial port has been              C:\2007 final code\camera.c
                                           *					properly set in camera.h.		                                                C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
                                           unsigned char Camera_Serial_Port_Byte_Count(void)                                C:\2007 final code\camera.c
                                           {                                                                                C:\2007 final code\camera.c
                                           #ifdef CAMERA_SERIAL_PORT_1                                                      C:\2007 final code\camera.c
                                           	return(Serial_Port_One_Byte_Count());                                           C:\2007 final code\camera.c
                                           #else                                                                            C:\2007 final code\camera.c
004cb0   efb6     GOTO      0x636c         	return(Serial_Port_Two_Byte_Count());                                           C:\2007 final code\camera.c
004cb2   f031                                                                                                               
                                           #endif                                                                           C:\2007 final code\camera.c
                                           }                                                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Read_Camera_Serial_Port()                                           C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		Reads a byte of data from the camera serial port.		                  C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		If data is present in the camera serial port's received              C:\2007 final code\camera.c
                                           *					data queue, the next byte in the queue is returned. If                     C:\2007 final code\camera.c
                                           *					data is not present in the camera serial port's received                   C:\2007 final code\camera.c
                                           *					data queue, zero is returned.                                              C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:		Camera_Serial_Port_Byte_Count() should be called before             C:\2007 final code\camera.c
                                           *					calling this function to make sure data is present.                        C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *					This code assumes that the camera serial port has been                     C:\2007 final code\camera.c
                                           *					properly set in camera.h.                                                  C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
                                           unsigned char Read_Camera_Serial_Port(void)                                      C:\2007 final code\camera.c
                                           {                                                                                C:\2007 final code\camera.c
                                           #ifdef CAMERA_SERIAL_PORT_1                                                      C:\2007 final code\camera.c
                                           	return(Read_Serial_Port_One());                                                 C:\2007 final code\camera.c
                                           #else                                                                            C:\2007 final code\camera.c
004cb4   efdd     GOTO      0x63ba         	return(Read_Serial_Port_Two());                                                 C:\2007 final code\camera.c
004cb6   f031                                                                                                               
                                           #endif                                                                           C:\2007 final code\camera.c
                                           }                                                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Write_Camera_Serial_Port()                                          C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		Sends a byte of data to the camera serial port.                      C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		Byte of data to send to the camera serial port.                   C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		nothing                                                              C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:		This code assumes that the camera serial port has been              C:\2007 final code\camera.c
                                           *					properly set in camera.h.                                                  C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
004cb8   d822     RCALL     0x4cfe         void Write_Camera_Serial_Port(unsigned char value)                               C:\2007 final code\camera.c
                                           {                                                                                C:\2007 final code\camera.c
                                           #ifdef CAMERA_SERIAL_PORT_1                                                      C:\2007 final code\camera.c
                                           	Write_Serial_Port_One(value);                                                   C:\2007 final code\camera.c
                                           #else                                                                            C:\2007 final code\camera.c
004cba   0efe     MOVLW     0xfe           	Write_Serial_Port_Two(value);                                                   C:\2007 final code\camera.c
004cbc   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
004cbe   ffe6                                                                                                               
004cc0   ec15     CALL      0x642a,0x0                                                                                      
004cc2   f032                                                                                                               
004cc4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           #endif                                                                           C:\2007 final code\camera.c
004cc6   d020     BRA       0x4d08         }                                                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Terminal_Serial_Port_Byte_Count()                                   C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		Returns the number of bytes in the terminal serial port's            C:\2007 final code\camera.c
                                           *					received data queue.                                                       C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		Number of bytes in the queue.                                        C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:		This code assumes that the camera serial port has been              C:\2007 final code\camera.c
                                           *					properly set in camera.h.                                                  C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
                                           unsigned char Terminal_Serial_Port_Byte_Count(void)                              C:\2007 final code\camera.c
                                           {                                                                                C:\2007 final code\camera.c
                                           #ifdef TERMINAL_SERIAL_PORT_1                                                    C:\2007 final code\camera.c
004cc8   efad     GOTO      0x635a         	return(Serial_Port_One_Byte_Count());                                           C:\2007 final code\camera.c
004cca   f031                                                                                                               
                                           #else                                                                            C:\2007 final code\camera.c
                                           	return(Serial_Port_Two_Byte_Count());                                           C:\2007 final code\camera.c
                                           #endif                                                                           C:\2007 final code\camera.c
                                           }                                                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Read_Terminal_Serial_Port()                                         C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		Reads a byte of data from the terminal serial port.                  C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		none                                                              C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		If data is present in the terminal serial port's received            C:\2007 final code\camera.c
                                           *					data queue, the next byte in the queue is returned. If                     C:\2007 final code\camera.c
                                           *					data is not present in the terminal serial port's received                 C:\2007 final code\camera.c
                                           *					data queue, zero is returned.                                              C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:		Terminal_Serial_Port_Byte_Count() should be called before           C:\2007 final code\camera.c
                                           *					calling this function to make sure data is present.                        C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *					This code assumes that the camera serial port has been                     C:\2007 final code\camera.c
                                           *					properly set in camera.h.                                                  C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
                                           unsigned char Read_Terminal_Serial_Port(void)                                    C:\2007 final code\camera.c
                                           {                                                                                C:\2007 final code\camera.c
                                           #ifdef TERMINAL_SERIAL_PORT_1                                                    C:\2007 final code\camera.c
004ccc   efbf     GOTO      0x637e         	return(Read_Serial_Port_One());                                                 C:\2007 final code\camera.c
004cce   f031                                                                                                               
                                           #else                                                                            C:\2007 final code\camera.c
                                           	return(Read_Serial_Port_Two());                                                 C:\2007 final code\camera.c
                                           #endif                                                                           C:\2007 final code\camera.c
                                           }                                                                                C:\2007 final code\camera.c
                                                                                                                            C:\2007 final code\camera.c
                                           /******************************************************************************* C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	FUNCTION:		Write_Terminal_Serial_Port()                                        C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PURPOSE:		Sends a byte of data to the terminal serial port.		                  C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	PARAMETERS:		Byte of data to send to the terminal serial port.                 C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *	COMMENTS:		This code assumes that the camera serial port has been              C:\2007 final code\camera.c
                                           *					properly set in camera.h.                                                  C:\2007 final code\camera.c
                                           *                                                                                C:\2007 final code\camera.c
                                           *******************************************************************************/ C:\2007 final code\camera.c
004cd0   d816     RCALL     0x4cfe         void Write_Terminal_Serial_Port(unsigned char value)                             C:\2007 final code\camera.c
004cfe   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
004d00   ffe6                                                                                                               
004d02   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
004d04   ffd9                                                                                                               
004d06   0012     RETURN    0x0                                                                                             
                                           {                                                                                C:\2007 final code\camera.c
                                           #ifdef TERMINAL_SERIAL_PORT_1                                                    C:\2007 final code\camera.c
004cd2   0efe     MOVLW     0xfe           	Write_Serial_Port_One(value);                                                   C:\2007 final code\camera.c
004cd4   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
004cd6   ffe6                                                                                                               
004cd8   ecfb     CALL      0x63f6,0x0                                                                                      
004cda   f031                                                                                                               
004cdc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           #else                                                                            C:\2007 final code\camera.c
                                           	Write_Serial_Port_Two(value);                                                   C:\2007 final code\camera.c
                                           #endif                                                                           C:\2007 final code\camera.c
004cde   d014     BRA       0x4d08         }                                                                                C:\2007 final code\camera.c
004d08   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004d0a   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
004d0c   ffd9                                                                                                               
004d0e   0012     RETURN    0x0                                                                                             
                                           /******************************************************************************* C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	TITLE:		serial_ports.c                                                         C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	VERSION:	0.4 (Beta)                                                            C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	DATE:		10-Jan-2006                                                             C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	AUTHOR:		R. Kevin Watson                                                       C:\2007 final code\serial_ports.c
                                           *				kevinw@jpl.nasa.gov                                                         C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	COMMENTS:	The source code in this file implements a fully buffered,            C:\2007 final code\serial_ports.c
                                           *				interrupt-driven serial port driver that can be used with                   C:\2007 final code\serial_ports.c
                                           *				either or both on-board serial ports.                                       C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				This source code will work with the Robovation (A/K/A EDU-RC)               C:\2007 final code\serial_ports.c
                                           *				robot controller and the FIRST Robotics robot controller.                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				By default, serial port one will operate at 115200 baud, which              C:\2007 final code\serial_ports.c
                                           *				is compatible with InnovationFIRST's terminal program, and                  C:\2007 final code\serial_ports.c
                                           *				serial port two will operate at 9600 baud. These values can be              C:\2007 final code\serial_ports.c
                                           *				easily changed by modifying the	serial port initialization                  C:\2007 final code\serial_ports.c
                                           *				functions mentioned below.                                                  C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *               This file is best viewed with tabs set to four characters.       C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				Nine things must be done before this software will work                     C:\2007 final code\serial_ports.c
                                           *				correctly:                                                                  C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  1a) FRC-RC: As this software is intended to replace IFI's                 C:\2007 final code\serial_ports.c
                                           *				  serial port driver, the call to Serial_Driver_Initialize()                C:\2007 final code\serial_ports.c
                                           *				  in user_routines.c / User_Initialization() should be                      C:\2007 final code\serial_ports.c
                                           *				  removed or commented out.	In addition, all references to                  C:\2007 final code\serial_ports.c
                                           *				  "user_Serialdrv.c" and "user_Serialdrv.h" must be removed                 C:\2007 final code\serial_ports.c
                                           *				  from the project and all project source files.                            C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  1b) EDU-RC: As this software is intended to replace IFI's                 C:\2007 final code\serial_ports.c
                                           *				  serial port driver, the call to Initialize_Serial_Comms()                 C:\2007 final code\serial_ports.c
                                           *				  in user_routines.c / User_Initialization() should be                      C:\2007 final code\serial_ports.c
                                           *				  removed or commented out.	In addition, all references to                  C:\2007 final code\serial_ports.c
                                           *				  "printf_lib.c" and "printf_lib.h" must be removed from                    C:\2007 final code\serial_ports.c
                                           *				  the project and all project source files.                                 C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  2) You must add the serial_ports.c/.h source files to                     C:\2007 final code\serial_ports.c
                                           *				  your MPLAB project.                                                       C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  3) A #include statement for the serial_ports.h header                     C:\2007 final code\serial_ports.c
                                           *				  file must be included at the beginning of each source                     C:\2007 final code\serial_ports.c
                                           *				  file that uses the serial ports. The statement should                     C:\2007 final code\serial_ports.c
                                           *				  look like this: #include "serial_ports.h".                                C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  4) If you intend to use the C18 output stream functions,                  C:\2007 final code\serial_ports.c
                                           *				  A #include statement for the stdio.h header file must be                  C:\2007 final code\serial_ports.c
                                           *				  included at the beginning of each source file that calls                  C:\2007 final code\serial_ports.c
                                           *				  any of these functions. The statement should look like                    C:\2007 final code\serial_ports.c
                                           *				  this: #include <serial_ports.h>.                                          C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  5) Init_Serial_Port_One() and/or Init_Serial_Port_Two()                   C:\2007 final code\serial_ports.c
                                           *				  must be called from the User_Initialization() function                    C:\2007 final code\serial_ports.c
                                           *				  located in the user_routines.c source file.                               C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  6) The interrupt handler(s) must be installed in the                      C:\2007 final code\serial_ports.c
                                           *				  InterruptHandlerLow() function located in the                             C:\2007 final code\serial_ports.c
                                           *				  user_routines_fast.c source file. See the accompanying                    C:\2007 final code\serial_ports.c
                                           *				  copy of user_routines_fast.c to see how this is done.                     C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  7) Decide what functionality you need and comment out the                 C:\2007 final code\serial_ports.c
                                           *				  #define ENABLE_SERIAL_PORT_xxx_yy entries in serial_ports.h               C:\2007 final code\serial_ports.c
                                           *				  as necessary. As an example, if you only need to send data                C:\2007 final code\serial_ports.c
                                           *				  using serial port one and would like to reclaim the resources             C:\2007 final code\serial_ports.c
                                           *				  used by serial port two and serial port one's receiver                    C:\2007 final code\serial_ports.c
                                           *				  source code, the top of the serial_ports.h file would look                C:\2007 final code\serial_ports.c
                                           *				  like this:                                                                C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  // comment out the next line to disable all serial port one               C:\2007 final code\serial_ports.c
                                           *				  // receive functionality                                                  C:\2007 final code\serial_ports.c
                                           *				  // #define ENABLE_SERIAL_PORT_ONE_RX                                      C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  // comment out the next line to disable all serial port one               C:\2007 final code\serial_ports.c
                                           *				  // transmit functionality                                                 C:\2007 final code\serial_ports.c
                                           *				  #define ENABLE_SERIAL_PORT_ONE_TX                                         C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  // comment out the next line to disable all serial port two               C:\2007 final code\serial_ports.c
                                           *				  // receive functionality                                                  C:\2007 final code\serial_ports.c
                                           *				  // #define ENABLE_SERIAL_PORT_TWO_RX                                      C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  // comment out the next line to disable all serial port two               C:\2007 final code\serial_ports.c
                                           *				  // transmit functionality                                                 C:\2007 final code\serial_ports.c
                                           *				  // #define ENABLE_SERIAL_PORT_TWO_TX                                      C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  By default, both serial ports and their respective receive                C:\2007 final code\serial_ports.c
                                           *				  and transmit sections are enabled.                                        C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  8) As the default output device for C18's output stream                   C:\2007 final code\serial_ports.c
                                           *				  functions is the null device, you'll presumably want to                   C:\2007 final code\serial_ports.c
                                           *				  change the value of stdout_serial_port to "SERIAL_PORT_ONE"               C:\2007 final code\serial_ports.c
                                           *				  or "SERIAL_PORT_TWO" if you want to see printf()'s output.                C:\2007 final code\serial_ports.c
                                           *				  User_Initialization() is a good place to do this.                         C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  9) To support terminal emulation software, \r\n should                    C:\2007 final code\serial_ports.c
                                           *				  be used instead of just \n in the printf() format string.                 C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				This serial port driver can send output stream data to either               C:\2007 final code\serial_ports.c
                                           *				of the serial ports by setting the value of the global variable             C:\2007 final code\serial_ports.c
                                           *				stdout_serial_port before calling output stream	functions like              C:\2007 final code\serial_ports.c
                                           *				printf(). Setting the value	to "SERIAL_PORT_ONE" will send the              C:\2007 final code\serial_ports.c
                                           *				output to serial port one. Likewise, setting the value to                   C:\2007 final code\serial_ports.c
                                           *				"SERIAL_PORT_TWO" will send the output to serial port two.                  C:\2007 final code\serial_ports.c
                                           *				Setting the value to "NUL" will send the output to the null                 C:\2007 final code\serial_ports.c
                                           *				device, meaning that the output is sent	nowhere. These values               C:\2007 final code\serial_ports.c
                                           *				are #define'd in serial_ports.h. As an example,                             C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				  stdout_serial_port = SERIAL_PORT_ONE;                                     C:\2007 final code\serial_ports.c
                                           *				  printf("Kernighan");                                                      C:\2007 final code\serial_ports.c
                                           *				  stdout_serial_port = NUL;                                                 C:\2007 final code\serial_ports.c
                                           *				  printf("and");                                                            C:\2007 final code\serial_ports.c
                                           *				  stdout_serial_port = SERIAL_PORT_TWO;                                     C:\2007 final code\serial_ports.c
                                           *				  printf("Ritchie");                                                        C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				will send the text "Kernighan" to the peripheral device attached            C:\2007 final code\serial_ports.c
                                           *				to serial port one, the text "Ritchie" to the device attached to            C:\2007 final code\serial_ports.c
                                           *				serial port two and the text "and" won't be sent anywhere.                  C:\2007 final code\serial_ports.c
                                           *				By default, output is sent to the null device, which is the only            C:\2007 final code\serial_ports.c
                                           *				output device guaranteed to be present.                                     C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				You are free to use this source code for any non-commercial                 C:\2007 final code\serial_ports.c
                                           *				use. Please do not make copies of this source code, modified                C:\2007 final code\serial_ports.c
                                           *				or un-modified, publicly available on the internet or                       C:\2007 final code\serial_ports.c
                                           *				elsewhere without permission. Thanks.                                       C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *				Copyright 2004-2007 R. Kevin Watson. All rights are reserved.              C:\2007 final code\serial_ports.c
                                           *		                                                                              C:\2007 final code\serial_ports.c
                                           ******************************************************************************** C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	CHANGE LOG:                                                                    C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	DATE         REV  DESCRIPTION                                                  C:\2007 final code\serial_ports.c
                                           *	-----------  ---  ----------------------------------------------------------   C:\2007 final code\serial_ports.c
                                           *	22-Dec-2004  0.1  RKW - Original code.                                         C:\2007 final code\serial_ports.c
                                           *	28-Dec-2004  0.2  RKW - Using preprocessor directives, added the ability       C:\2007 final code\serial_ports.c
                                           *	                  to enable/disable individual serial port receive and         C:\2007 final code\serial_ports.c
                                           *	                  transmit code. Updated documentation.                        C:\2007 final code\serial_ports.c
                                           *	05-Feb-2005  0.3  RKW - Added _user_putc() interface to C18's new output       C:\2007 final code\serial_ports.c
                                           *	                  stream capabilities. Updated documentation.                  C:\2007 final code\serial_ports.c
                                           *	05-Jan-2006  0.4  RKW - Partial port to 18F8722. Updated documentation.        C:\2007 final code\serial_ports.c
                                           *	10-Jan-2006  0.4  RKW - Modified the #pragma interruptlow line to also         C:\2007 final code\serial_ports.c
                                           *	                  save the .tmpdata section.                                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *******************************************************************************/ C:\2007 final code\serial_ports.c
                                           #include <p18f8722.h>                                                            C:\2007 final code\serial_ports.c
                                           #include <stdio.h>                                                               C:\2007 final code\serial_ports.c
                                           #include "serial_ports.h"                                                        C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           // by default stdout stream output is sent to the null device,                   C:\2007 final code\serial_ports.c
                                           // which is the only device guaranteed to be present.                            C:\2007 final code\serial_ports.c
                                           unsigned char stdout_serial_port = NUL;                                          C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           //                                                                               C:\2007 final code\serial_ports.c
                                           // Serial Port 1 Receive Variables:                                              C:\2007 final code\serial_ports.c
                                           //                                                                               C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           #ifdef ENABLE_SERIAL_PORT_ONE_RX                                                 C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Rx_1_Queue[RX_1_QUEUE_SIZE];	// serial port 1's receive circular queue C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Rx_1_Queue_Full = FALSE;		// flag that indicates that serial port 1's C:\2007 final code\serial_ports.c
                                           													// receive circular queue is full and cannot                        C:\2007 final code\serial_ports.c
                                           													// accept any more data                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           unsigned char Rx_1_Queue_Empty = TRUE;				// flag that indicates that there is no more  C:\2007 final code\serial_ports.c
                                           													// data present in serial port 1's receive                          C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           unsigned char Rx_1_Queue_Read_Index = 0;			// read index into serial port 1's receive C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                           	                                                                                C:\2007 final code\serial_ports.c
                                           volatile unsigned char Rx_1_Queue_Write_Index = 0;	// write index into serial port 1's receive C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                           	                                                                                C:\2007 final code\serial_ports.c
                                           volatile unsigned char Rx_1_Queue_Byte_Count = 0;	// number of bytes in serial port 1's receive C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char RX_1_Overrun_Errors = 0;		// number of overrun errors that have occurred C:\2007 final code\serial_ports.c
                                           													// in serial port 1's receive circuitry since                       C:\2007 final code\serial_ports.c
                                           													// the last reset                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char RX_1_Framing_Errors = 0;		// number of framing errors that have occurred C:\2007 final code\serial_ports.c
                                           													// in serial port 1's receive circuitry since                       C:\2007 final code\serial_ports.c
                                           													// the last reset                                                   C:\2007 final code\serial_ports.c
                                           #endif                                                                           C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           //                                                                               C:\2007 final code\serial_ports.c
                                           // Serial Port 1 Transmit Variables:                                             C:\2007 final code\serial_ports.c
                                           //                                                                               C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           #ifdef ENABLE_SERIAL_PORT_ONE_TX                                                 C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Tx_1_Queue[TX_1_QUEUE_SIZE];	// serial port 1's transmit circular queue C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Tx_1_Queue_Full = FALSE;		// flag that indicates that serial port 1's C:\2007 final code\serial_ports.c
                                           													// transmit circular queue is full and cannot                       C:\2007 final code\serial_ports.c
                                           													// accept any more data                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Tx_1_Queue_Empty = TRUE;		// flag that indicates that there is no more  C:\2007 final code\serial_ports.c
                                           													// data to send in serial port 1's transmit                         C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Tx_1_Queue_Read_Index = 0;	// read index into serial port 1's transmit C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           unsigned char Tx_1_Queue_Write_Index = 0;			// write index into serial port 1's transmit C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Tx_1_Queue_Byte_Count = 0;	// number of bytes in serial port 1's transmit C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                           #endif                                                                           C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           //                                                                               C:\2007 final code\serial_ports.c
                                           // Serial Port 2 Receive Variables:                                              C:\2007 final code\serial_ports.c
                                           //                                                                               C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           #ifdef ENABLE_SERIAL_PORT_TWO_RX                                                 C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Rx_2_Queue[RX_2_QUEUE_SIZE];	// serial port 2's receive circular queue C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Rx_2_Queue_Full = FALSE;		// flag that indicates that serial port 2's C:\2007 final code\serial_ports.c
                                           													// receive circular queue is full and cannot                        C:\2007 final code\serial_ports.c
                                           													// accept any more data                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           unsigned char Rx_2_Queue_Empty = TRUE;				// flag that indicates that there is no more  C:\2007 final code\serial_ports.c
                                           													// data present in serial port 2's receive                          C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                           		                                                                               C:\2007 final code\serial_ports.c
                                           unsigned char Rx_2_Queue_Read_Index = 0;			// read index into serial port 2's receive C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Rx_2_Queue_Write_Index = 0;	// write index into serial port 2's receive C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Rx_2_Queue_Byte_Count = 0;	// number of bytes in serial port 2's receive C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char RX_2_Overrun_Errors = 0;		// number of overrun errors that have occurred C:\2007 final code\serial_ports.c
                                           													// in serial port 2's receive circuitry since                       C:\2007 final code\serial_ports.c
                                           													// the last reset                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char RX_2_Framing_Errors = 0;		// number of framing errors that have occurred C:\2007 final code\serial_ports.c
                                           													// in serial port 2's receive circuitry since                       C:\2007 final code\serial_ports.c
                                           													// the last reset                                                   C:\2007 final code\serial_ports.c
                                           #endif                                                                           C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           //                                                                               C:\2007 final code\serial_ports.c
                                           // Serial Port 2 Transmit Variables:                                             C:\2007 final code\serial_ports.c
                                           //                                                                               C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           #ifdef ENABLE_SERIAL_PORT_TWO_TX                                                 C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Tx_2_Queue[TX_2_QUEUE_SIZE];	// serial port 2's transmit circular queue C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Tx_2_Queue_Full = FALSE;		// flag that indicates that serial port 2's C:\2007 final code\serial_ports.c
                                           													// transmit circular queue is full and cannot                       C:\2007 final code\serial_ports.c
                                           													// accept any more data                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Tx_2_Queue_Empty = TRUE;		// flag that indicates that there is no more  C:\2007 final code\serial_ports.c
                                           													// data to send in serial port 2's transmit                         C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Tx_2_Queue_Read_Index = 0;	// read index into serial port 2's transmit C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           unsigned char Tx_2_Queue_Write_Index = 0;			// write index into serial port 2's transmit C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           volatile unsigned char Tx_2_Queue_Byte_Count = 0;	// number of bytes in serial port 2's transmit C:\2007 final code\serial_ports.c
                                           													// circular queue                                                   C:\2007 final code\serial_ports.c
                                           #endif                                                                           C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           /******************************************************************************* C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	FUNCTION:		Init_Serial_Port_One()                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PURPOSE:		Initializes serial port one for asynchronous operation               C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	CALLED FROM:	user_routines.c/User_Initialization()                             C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PARAMETERS:		None                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	COMMENTS:		This function must be called before you try to use serial           C:\2007 final code\serial_ports.c
                                           *					port one.                                                                  C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					By default, this serial port is set to 115200 baud with                    C:\2007 final code\serial_ports.c
                                           *					the transmitter and receiver enabled. This is the rate                     C:\2007 final code\serial_ports.c
                                           *					IFI's terminal program expects.                                            C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					The	serial port's baud rate is programmed by entering                      C:\2007 final code\serial_ports.c
                                           *					a value into the SPBRG1 register and possibly changing                     C:\2007 final code\serial_ports.c
                                           *					the value of the BRGH bit. Several example values are                      C:\2007 final code\serial_ports.c
                                           *					included in the serial_ports.h file.                                       C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					Numbers within brackets refer to the PIC18F8722	data                       C:\2007 final code\serial_ports.c
                                           *					sheet page number where more information can be found.                     C:\2007 final code\serial_ports.c
                                           *					This document can be found at microchip's website at                       C:\2007 final code\serial_ports.c
                                           *					http://www.microchip.com or at the author's website at                     C:\2007 final code\serial_ports.c
                                           *					http://www.kevin.org/frc                                                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					This function will not be included in the build unless                     C:\2007 final code\serial_ports.c
                                           *					ENABLE_SERIAL_PORT_ONE_RX or ENABLE_SERIAL_PORT_ONE_TX                     C:\2007 final code\serial_ports.c
                                           *					is #define'd in serial_ports.h                                             C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *******************************************************************************/ C:\2007 final code\serial_ports.c
                                           void Init_Serial_Port_One(void)                                                  C:\2007 final code\serial_ports.c
                                           {                                                                                C:\2007 final code\serial_ports.c
                                           	// Start by initializing the serial port with code                              C:\2007 final code\serial_ports.c
                                           	// common to receive and transmit functions                                     C:\2007 final code\serial_ports.c
0062f6   0e15     MOVLW     0x15           	SPBRG1 = BAUD_115200;	// baud rate generator register [251]                     C:\2007 final code\serial_ports.c
0062f8   6eaf     MOVWF     0xaf,0x0                                                                                        
                                           							//                                                                        C:\2007 final code\serial_ports.c
0062fa   84ac     BSF       0xac,0x2,0x0   	TXSTA1bits.BRGH = 1;	// high baud rate select bit (asynchronous mode only) [248] C:\2007 final code\serial_ports.c
                                           							//  0: low speed                                                          C:\2007 final code\serial_ports.c
                                           							//  1: high speed                                                         C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
0062fc   9a9d     BCF       0x9d,0x5,0x0   	PIE1bits.RC1IE = 0;		// receive interrupt enable bit [127]                      C:\2007 final code\serial_ports.c
                                           							//  0: disables received data interrupt                                   C:\2007 final code\serial_ports.c
                                           							//  1: enables received data interrupt                                    C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
0062fe   989d     BCF       0x9d,0x4,0x0   	PIE1bits.TX1IE = 0;		// transmit interrupt enable bit [127]                     C:\2007 final code\serial_ports.c
                                           							//  0: disables transmit register empty interrupt                         C:\2007 final code\serial_ports.c
                                           							//  1: enables transmit register empty interrupt                          C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006300   98ac     BCF       0xac,0x4,0x0   	TXSTA1bits.SYNC = 0;	// USART mode select bit [248]                             C:\2007 final code\serial_ports.c
                                           							//  0: asynchronous mode                                                  C:\2007 final code\serial_ports.c
                                           							//  1: synchronous mode                                                   C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006302   9eac     BCF       0xac,0x7,0x0   	TXSTA1bits.CSRC = 0;	// clock source select bit (synchronous mode only) [248]   C:\2007 final code\serial_ports.c
                                           							//  0: Slave mode (clock generated by external source)                    C:\2007 final code\serial_ports.c
                                           							//  1: Master mode (clock generated internally from BRG)                  C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// if receive functionality is to be included in the                            C:\2007 final code\serial_ports.c
                                           	// software build, include code that is specific to                             C:\2007 final code\serial_ports.c
                                           	// initializing the receiver                                                    C:\2007 final code\serial_ports.c
                                           	#ifdef ENABLE_SERIAL_PORT_ONE_RX                                                C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006304   8e94     BSF       0x94,0x7,0x0   	TRISCbits.TRISC7 = 1;	// make sure the RC7/RX1/DT1 pin is configured as an input [140] C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006306   9cab     BCF       0xab,0x6,0x0   	RCSTA1bits.RX9 = 0;		// 9-bit receive enable bit [249]                          C:\2007 final code\serial_ports.c
                                           							//  0: 8-bit reception mode                                               C:\2007 final code\serial_ports.c
                                           							//  1: 9-bit reception mode                                               C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006308   96ab     BCF       0xab,0x3,0x0   	RCSTA1bits.ADDEN = 0;	// address detect enable bit (9-bit asynchronous mode only) [249] C:\2007 final code\serial_ports.c
                                           							//  0: disables address detection                                         C:\2007 final code\serial_ports.c
                                           							//  1: enables address detection                                          C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
00630a   8aab     BSF       0xab,0x5,0x0   	RCSTA1bits.SREN = 1;	// single receive enable bit (master synchronous mode only) [249] C:\2007 final code\serial_ports.c
                                           							//  0: disables single receive mode                                       C:\2007 final code\serial_ports.c
                                           							//  1: enables single receive mode                                        C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
00630c   88ab     BSF       0xab,0x4,0x0   	RCSTA1bits.CREN = 1;	// continuous receive mode enable bit [249]                C:\2007 final code\serial_ports.c
                                           							// asynchronous mode:                                                     C:\2007 final code\serial_ports.c
                                           							//  0: disables receiver                                                  C:\2007 final code\serial_ports.c
                                           							//  1: enable receiver                                                    C:\2007 final code\serial_ports.c
                                           							// synchronous mode:                                                      C:\2007 final code\serial_ports.c
                                           							//  0: disables continuous receive                                        C:\2007 final code\serial_ports.c
                                           							//  1: enables continuous receive until CREN is cleared                   C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
00630e   9a9f     BCF       0x9f,0x5,0x0   	IPR1bits.RC1IP = 0;		// receive interrupt priority bit (must be 0 for IFI controllers) [130] C:\2007 final code\serial_ports.c
                                           							//  0: low-priority                                                       C:\2007 final code\serial_ports.c
                                           							//  1: high-priority                                                      C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006310   8a9d     BSF       0x9d,0x5,0x0   	PIE1bits.RC1IE = 1;		// receive interrupt enable bit [127]                      C:\2007 final code\serial_ports.c
                                           							//  0: disables received data interrupt                                   C:\2007 final code\serial_ports.c
                                           							//  1: enables received data interrupt                                    C:\2007 final code\serial_ports.c
                                           	#endif					//                                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// if transmit functionality is to be included in the                           C:\2007 final code\serial_ports.c
                                           	// software build, include code that is specific to                             C:\2007 final code\serial_ports.c
                                           	// initializing the serial port transmitter                                     C:\2007 final code\serial_ports.c
                                           	#ifdef ENABLE_SERIAL_PORT_ONE_TX                                                C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006312   0102     MOVLB     0x2            	stdout = _H_USER;		// use this driver for output stream functions               C:\2007 final code\serial_ports.c
006314   69fe     SETF      0xfe,0x1                                                                                        
006316   69ff     SETF      0xff,0x1                                                                                        
                                           							//                                                                        C:\2007 final code\serial_ports.c
006318   9c94     BCF       0x94,0x6,0x0   	TRISCbits.TRISC6 = 0;	// make sure the RC6/TX1/CK1 pin is configured as an output [140] C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
00631a   9cac     BCF       0xac,0x6,0x0   	TXSTA1bits.TX9 = 0;		// 9-bit transmit enable bit [248]                         C:\2007 final code\serial_ports.c
                                           							//  0: 8-bit transmission mode                                            C:\2007 final code\serial_ports.c
                                           							//  1: 9-bit transmission mode                                            C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
00631c   96ac     BCF       0xac,0x3,0x0   	TXSTA1bits.SENDB = 0;	// send break character bit [248]                         C:\2007 final code\serial_ports.c
                                           							//  0: Sync Break transmission completed                                  C:\2007 final code\serial_ports.c
                                           							//  1: Send Sync Break on next transmission                               C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
00631e   989f     BCF       0x9f,0x4,0x0   	IPR1bits.TX1IP = 0;		// transmit interrupt priority bit (must be 0 for IFI controllers) [130] C:\2007 final code\serial_ports.c
                                           							//  0: low-priority                                                       C:\2007 final code\serial_ports.c
                                           							//  1: high-priority                                                      C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006320   889d     BSF       0x9d,0x4,0x0   	PIE1bits.TX1IE = 1;		// transmit interrupt enable bit [127]                     C:\2007 final code\serial_ports.c
                                           							//  0: disables transmit register empty interrupt                         C:\2007 final code\serial_ports.c
                                           							//  1: enables transmit register empty interrupt                          C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006322   8aac     BSF       0xac,0x5,0x0   	TXSTA1bits.TXEN = 1;  	// Enable transmitter [248]                              C:\2007 final code\serial_ports.c
                                           							//  0: serial transmitter is disabled                                     C:\2007 final code\serial_ports.c
                                           							//  1: serial transmitter                                                 C:\2007 final code\serial_ports.c
                                           	#endif					//                                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// finally, turn on the serial port                                             C:\2007 final code\serial_ports.c
006324   8eab     BSF       0xab,0x7,0x0   	RCSTA1bits.SPEN = 1;  	// Serial Port Enable [249]                              C:\2007 final code\serial_ports.c
                                           							//  0: serial port is disabled                                            C:\2007 final code\serial_ports.c
                                           							//  1: serial port is enabled                                             C:\2007 final code\serial_ports.c
006326   0012     RETURN    0x0            }                                                                                C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           /******************************************************************************* C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	FUNCTION:		Init_Serial_Port_Two()                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PURPOSE:		Initializes serial port two for asynchronous operation               C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	CALLED FROM:	user_routines.c/User_Initialization()                             C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PARAMETERS:		None                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	COMMENTS:		This function must be called before you try to use serial           C:\2007 final code\serial_ports.c
                                           *					port two.                                                                  C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					By default, this serial port is set to 9600 baud with                      C:\2007 final code\serial_ports.c
                                           *					the transmitter and receiver enabled.                                      C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					The	serial port's baud rate is programmed by entering                      C:\2007 final code\serial_ports.c
                                           *					a value into the SPBRG2 register and possibly changing                     C:\2007 final code\serial_ports.c
                                           *					the value of the BRGH bit. Several example values are                      C:\2007 final code\serial_ports.c
                                           *					included in the serial_ports.h file.                                       C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					Numbers within brackets refer to the PIC18F8722	data                       C:\2007 final code\serial_ports.c
                                           *					sheet page number where more information can be found.                     C:\2007 final code\serial_ports.c
                                           *					This document can be found at microchip's website at                       C:\2007 final code\serial_ports.c
                                           *					http://www.microchip.com or at the author's website at                     C:\2007 final code\serial_ports.c
                                           *					http://www.kevin.org/frc                                                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					This function will not be included in the build unless                     C:\2007 final code\serial_ports.c
                                           *					ENABLE_SERIAL_PORT_TWO_RX or ENABLE_SERIAL_PORT_TWO_TX                     C:\2007 final code\serial_ports.c
                                           *					is #define'd in serial_ports.h                                             C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *******************************************************************************/ C:\2007 final code\serial_ports.c
                                           void Init_Serial_Port_Two(void)                                                  C:\2007 final code\serial_ports.c
                                           {                                                                                C:\2007 final code\serial_ports.c
                                           	// Start by initializing the serial port with code                              C:\2007 final code\serial_ports.c
                                           	// common to receive and transmit functions                                     C:\2007 final code\serial_ports.c
006328   0e15     MOVLW     0x15           	SPBRG2 = BAUD_115200;	// baud rate generator register [251]                     C:\2007 final code\serial_ports.c
00632a   6e6f     MOVWF     0x6f,0x0                                                                                        
                                           							//                                                                        C:\2007 final code\serial_ports.c
00632c   846c     BSF       0x6c,0x2,0x0   	TXSTA2bits.BRGH = 1;	// high baud rate select bit (asynchronous mode only) [248] C:\2007 final code\serial_ports.c
                                           							//  0: low speed                                                          C:\2007 final code\serial_ports.c
                                           							//  1: high speed                                                         C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
00632e   9aa3     BCF       0xa3,0x5,0x0   	PIE3bits.RC2IE = 0;		// receive interrupt enable bit [129]                      C:\2007 final code\serial_ports.c
                                           							//  0: disables received data interrupt                                   C:\2007 final code\serial_ports.c
                                           							//  1: enables received data interrupt                                    C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006330   98a3     BCF       0xa3,0x4,0x0   	PIE3bits.TX2IE = 0;		// transmit interrupt enable bit [129]                     C:\2007 final code\serial_ports.c
                                           							//  0: disables transmit register empty interrupt                         C:\2007 final code\serial_ports.c
                                           							//  1: enables transmit register empty interrupt                          C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006332   986c     BCF       0x6c,0x4,0x0   	TXSTA2bits.SYNC = 0;	// USART mode select bit [248]                             C:\2007 final code\serial_ports.c
                                           							//  0: asynchronous mode                                                  C:\2007 final code\serial_ports.c
                                           							//  1: synchronous mode                                                   C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006334   9e6c     BCF       0x6c,0x7,0x0   	TXSTA2bits.CSRC = 0;	// clock source select bit (synchronous mode only) [248]   C:\2007 final code\serial_ports.c
                                           							//  0: Slave mode (clock generated by external source)                    C:\2007 final code\serial_ports.c
                                           							//  1: Master mode (clock generated internally from BRG)                  C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// if receive functionality is to be included in the                            C:\2007 final code\serial_ports.c
                                           	// software build, include code that is specific to                             C:\2007 final code\serial_ports.c
                                           	// initializing the receiver                                                    C:\2007 final code\serial_ports.c
                                           	#ifdef ENABLE_SERIAL_PORT_TWO_RX                                                C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006336   8498     BSF       0x98,0x2,0x0   	TRISGbits.TRISG2 = 1;	// make sure the RG2/RX2/DT2 pin is configured as an input [151] C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006338   9c6b     BCF       0x6b,0x6,0x0   	RCSTA2bits.RX9 = 0;		// 9-bit receive enable bit [249]                          C:\2007 final code\serial_ports.c
                                           							//  0: 8-bit reception mode                                               C:\2007 final code\serial_ports.c
                                           							//  1: 9-bit reception mode                                               C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
00633a   966b     BCF       0x6b,0x3,0x0   	RCSTA2bits.ADDEN = 0;	// address detect enable bit (9-bit asynchronous mode only) [249] C:\2007 final code\serial_ports.c
                                           							//  0: disables address detection                                         C:\2007 final code\serial_ports.c
                                           							//  1: enables address detection                                          C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
00633c   8a6b     BSF       0x6b,0x5,0x0   	RCSTA2bits.SREN = 1;	// single receive enable bit (master synchronous mode only) [249] C:\2007 final code\serial_ports.c
                                           							//  0: disables single receive mode                                       C:\2007 final code\serial_ports.c
                                           							//  1: enables single receive mode                                        C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
00633e   886b     BSF       0x6b,0x4,0x0   	RCSTA2bits.CREN = 1;	// continuous receive mode enable bit [249]                C:\2007 final code\serial_ports.c
                                           							// asynchronous mode:                                                     C:\2007 final code\serial_ports.c
                                           							//  0: disables receiver                                                  C:\2007 final code\serial_ports.c
                                           							//  1: enable receiver                                                    C:\2007 final code\serial_ports.c
                                           							// synchronous mode:                                                      C:\2007 final code\serial_ports.c
                                           							//  0: disables continuous receive                                        C:\2007 final code\serial_ports.c
                                           							//  1: enables continuous receive until CREN is cleared                   C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006340   9aa5     BCF       0xa5,0x5,0x0   	IPR3bits.RC2IP = 0;		// receive interrupt priority bit (must be 0 for IFI controllers) [132] C:\2007 final code\serial_ports.c
                                           							//  0: low-priority                                                       C:\2007 final code\serial_ports.c
                                           							//  1: high-priority                                                      C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006342   8aa3     BSF       0xa3,0x5,0x0   	PIE3bits.RC2IE = 1;		// receive interrupt enable bit [129]                      C:\2007 final code\serial_ports.c
                                           							//  0: disables received data interrupt                                   C:\2007 final code\serial_ports.c
                                           							//  1: enables received data interrupt                                    C:\2007 final code\serial_ports.c
                                           	#endif					//                                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// if transmit functionality is to be included in the                           C:\2007 final code\serial_ports.c
                                           	// software build, include code that is specific to                             C:\2007 final code\serial_ports.c
                                           	// initializing the serial port transmitter                                     C:\2007 final code\serial_ports.c
                                           	#ifdef ENABLE_SERIAL_PORT_TWO_TX                                                C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006344   0102     MOVLB     0x2            	stdout = _H_USER;		// use this driver for output stream functions               C:\2007 final code\serial_ports.c
006346   69fe     SETF      0xfe,0x1                                                                                        
006348   69ff     SETF      0xff,0x1                                                                                        
                                           							//                                                                        C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
00634a   9298     BCF       0x98,0x1,0x0   	TRISGbits.TRISG1 = 0;	// make sure the RG1/TX2/CK2 pin is configured as an output [151] C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
00634c   9c6c     BCF       0x6c,0x6,0x0   	TXSTA2bits.TX9 = 0;		// 9-bit transmit enable bit [248]                         C:\2007 final code\serial_ports.c
                                           							//  0: 8-bit transmission mode                                            C:\2007 final code\serial_ports.c
                                           							//  1: 9-bit transmission mode                                            C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
00634e   966c     BCF       0x6c,0x3,0x0   	TXSTA2bits.SENDB = 0;	// send break character bit [248]                         C:\2007 final code\serial_ports.c
                                           							//  0: Sync Break transmission completed                                  C:\2007 final code\serial_ports.c
                                           							//  1: Send Sync Break on next transmission                               C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006350   98a5     BCF       0xa5,0x4,0x0   	IPR3bits.TX2IP = 0;		// transmit interrupt priority bit (must be 0 for IFI controllers) [132] C:\2007 final code\serial_ports.c
                                           							//  0: low-priority                                                       C:\2007 final code\serial_ports.c
                                           							//  1: high-priority                                                      C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006352   88a3     BSF       0xa3,0x4,0x0   	PIE3bits.TX2IE = 1;		// transmit interrupt enable bit [129]                     C:\2007 final code\serial_ports.c
                                           							//  0: disables transmit register empty interrupt                         C:\2007 final code\serial_ports.c
                                           							//  1: enables transmit register empty interrupt                          C:\2007 final code\serial_ports.c
                                           							//                                                                        C:\2007 final code\serial_ports.c
006354   8a6c     BSF       0x6c,0x5,0x0   	TXSTA2bits.TXEN = 1;  	// Enable transmitter [248]                              C:\2007 final code\serial_ports.c
                                           							//  0: serial transmitter is disabled                                     C:\2007 final code\serial_ports.c
                                           							//  1: serial transmitter                                                 C:\2007 final code\serial_ports.c
                                           	#endif					//                                                                   C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// finally, turn on the serial port                                             C:\2007 final code\serial_ports.c
006356   8e6b     BSF       0x6b,0x7,0x0   	RCSTA2bits.SPEN = 1;  	// Serial Port Enable [249]                              C:\2007 final code\serial_ports.c
                                           							//  0: serial port is disabled                                            C:\2007 final code\serial_ports.c
                                           							//  1: serial port is enabled                                             C:\2007 final code\serial_ports.c
006358   0012     RETURN    0x0            }                                                                                C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           /******************************************************************************* C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	FUNCTION:		Serial_Port_One_Byte_Count()                                        C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PURPOSE:		Returns the number of bytes in serial port                           C:\2007 final code\serial_ports.c
                                           *					ones's received data queue.		                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PARAMETERS:		none                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	RETURNS:		unsigned char                                                        C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	COMMENTS:		This function must be called to determine how much data,            C:\2007 final code\serial_ports.c
                                           *					if any, is present in serial port one's received data                      C:\2007 final code\serial_ports.c
                                           *					queue. If the returned number is greater than zero, then                   C:\2007 final code\serial_ports.c
                                           *					a call to Read_Serial_Port_One() can be made to retrieve                   C:\2007 final code\serial_ports.c
                                           *					the next byte.                                                             C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					This function will not be included in the build unless                     C:\2007 final code\serial_ports.c
                                           *					ENABLE_SERIAL_PORT_ONE_RX is #define'd in serial_ports.h                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *******************************************************************************/ C:\2007 final code\serial_ports.c
                                           #ifdef ENABLE_SERIAL_PORT_ONE_RX                                                 C:\2007 final code\serial_ports.c
00635a   d907     RCALL     0x656a         unsigned char Serial_Port_One_Byte_Count(void)                                   C:\2007 final code\serial_ports.c
00635c   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\serial_ports.c
                                           	unsigned char temp;                                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// since we're about to use the Rx_1_Queue_Byte_Count variable,                 C:\2007 final code\serial_ports.c
                                           	// which can also be modified in the interrupt service routine,                 C:\2007 final code\serial_ports.c
                                           	// let's briefly disable the serial port interrupt to make sure                 C:\2007 final code\serial_ports.c
                                           	// that Rx_1_Queue_Byte_Count doesn't get altered while we're                   C:\2007 final code\serial_ports.c
                                           	// using it.                                                                    C:\2007 final code\serial_ports.c
00635e   9a9d     BCF       0x9d,0x5,0x0   	PIE1bits.RC1IE = 0;                                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// now we can get a local copy of the byte count without fear                   C:\2007 final code\serial_ports.c
                                           	// that we'll get corrupted data                                                C:\2007 final code\serial_ports.c
006360   c380     MOVFF     0x380,0xfdf    	temp = Rx_1_Queue_Byte_Count;                                                   C:\2007 final code\serial_ports.c
006362   ffdf                                                                                                               
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// okay, we have a local copy of the byte count, so turn the                    C:\2007 final code\serial_ports.c
                                           	// serial port interrupt back on.                                               C:\2007 final code\serial_ports.c
006364   8a9d     BSF       0x9d,0x5,0x0   	PIE1bits.RC1IE = 1;                                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// return the byte count                                                        C:\2007 final code\serial_ports.c
006366   50df     MOVF      0xdf,0x0,0x0   	return(temp);                                                                   C:\2007 final code\serial_ports.c
006368   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\serial_ports.c
00636a   d0fb     BRA       0x6562                                                                                          
                                           #endif                                                                           C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           /******************************************************************************* C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	FUNCTION:		Serial_Port_Two_Byte_Count()                                        C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PURPOSE:		Returns the number of bytes in serial port                           C:\2007 final code\serial_ports.c
                                           *					two's received data queue.		                                               C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PARAMETERS:		none                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	RETURNS:		unsigned char                                                        C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	COMMENTS:		This function must be called to determine how much data,            C:\2007 final code\serial_ports.c
                                           *					if any, is present in serial port two's received data                      C:\2007 final code\serial_ports.c
                                           *					queue. If the returned number is greater than zero, then                   C:\2007 final code\serial_ports.c
                                           *					a call to Read_Serial_Port_Two() can be made to retrieve                   C:\2007 final code\serial_ports.c
                                           *					the next byte.                                                             C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					This function will not be included in the build unless                     C:\2007 final code\serial_ports.c
                                           *					ENABLE_SERIAL_PORT_TWO_RX is #define'd in serial_ports.h                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *******************************************************************************/ C:\2007 final code\serial_ports.c
                                           #ifdef ENABLE_SERIAL_PORT_TWO_RX                                                 C:\2007 final code\serial_ports.c
00636c   d8fe     RCALL     0x656a         unsigned char Serial_Port_Two_Byte_Count(void)                                   C:\2007 final code\serial_ports.c
00636e   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\serial_ports.c
                                           	unsigned char temp;                                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// since we're about to use the Rx_1_Queue_Byte_Count variable,                 C:\2007 final code\serial_ports.c
                                           	// which can also be modified in the interrupt service routine,                 C:\2007 final code\serial_ports.c
                                           	// let's briefly disable the serial port interrupt to make sure                 C:\2007 final code\serial_ports.c
                                           	// that Rx_1_Queue_Byte_Count doesn't get altered while we're                   C:\2007 final code\serial_ports.c
                                           	// using it.                                                                    C:\2007 final code\serial_ports.c
006370   9aa3     BCF       0xa3,0x5,0x0   	PIE3bits.RC2IE = 0;                                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// now we can get a local copy of the byte count without fear                   C:\2007 final code\serial_ports.c
                                           	// that we'll get corrupted data                                                C:\2007 final code\serial_ports.c
006372   c38c     MOVFF     0x38c,0xfdf    	temp = Rx_2_Queue_Byte_Count;                                                   C:\2007 final code\serial_ports.c
006374   ffdf                                                                                                               
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// okay, we have a local copy of the byte count, so turn the                    C:\2007 final code\serial_ports.c
                                           	// serial port interrupt back on.                                               C:\2007 final code\serial_ports.c
006376   8aa3     BSF       0xa3,0x5,0x0   	PIE3bits.RC2IE = 1;                                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// return the byte count                                                        C:\2007 final code\serial_ports.c
006378   50df     MOVF      0xdf,0x0,0x0   	return(temp);                                                                   C:\2007 final code\serial_ports.c
00637a   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\serial_ports.c
00637c   d0f2     BRA       0x6562                                                                                          
                                           #endif                                                                           C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           /******************************************************************************* C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	FUNCTION:		Read_Serial_Port_One()                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PURPOSE:		                                                                     C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PARAMETERS:		none                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	RETURNS:		unsigned char                                                        C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	COMMENTS:		This function will not be included in the build unless              C:\2007 final code\serial_ports.c
                                           *					ENABLE_SERIAL_PORT_ONE_RX is #define'd in serial_ports.h 		                C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *******************************************************************************/ C:\2007 final code\serial_ports.c
                                           #ifdef ENABLE_SERIAL_PORT_ONE_RX                                                 C:\2007 final code\serial_ports.c
00637e   d8f5     RCALL     0x656a         unsigned char Read_Serial_Port_One(void)                                         C:\2007 final code\serial_ports.c
006380   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\serial_ports.c
                                           	unsigned char byte;                                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
006382   0103     MOVLB     0x3            	if(Rx_1_Queue_Empty)                                                            C:\2007 final code\serial_ports.c
006384   517d     MOVF      0x7d,0x0,0x1                                                                                    
006386   e002     BZ        0x638c                                                                                          
                                           	{                                                                               C:\2007 final code\serial_ports.c
                                           		// error: no data to read                                                      C:\2007 final code\serial_ports.c
006388   0e00     MOVLW     0x0            		return(0);                                                                     C:\2007 final code\serial_ports.c
00638a   d015     BRA       0x63b6                                                                                          
                                           	}                                                                               C:\2007 final code\serial_ports.c
                                           	else                                                                            C:\2007 final code\serial_ports.c
                                           	{                                                                               C:\2007 final code\serial_ports.c
                                           		// get a byte from the circular queue and store it temporarily                 C:\2007 final code\serial_ports.c
00638c   517e     MOVF      0x7e,0x0,0x1   		byte = Rx_1_Queue[Rx_1_Queue_Read_Index];                                      C:\2007 final code\serial_ports.c
00638e   6aea     CLRF      0xea,0x0                                                                                        
006390   0f00     ADDLW     0x0                                                                                             
006392   6ee9     MOVWF     0xe9,0x0                                                                                        
006394   0e01     MOVLW     0x1                                                                                             
006396   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006398   cfef     MOVFF     0xfef,0xfdf                                                                                     
00639a   ffdf                                                                                                               
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// decrement the queue byte count                                              C:\2007 final code\serial_ports.c
00639c   0780     DECF      0x80,0x1,0x1   		Rx_1_Queue_Byte_Count--;                                                       C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// increment the read pointer                                                  C:\2007 final code\serial_ports.c
00639e   2b7e     INCF      0x7e,0x1,0x1   		Rx_1_Queue_Read_Index++;                                                       C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// If the index pointer overflowed, cut-off the high-order bit. Doing this     C:\2007 final code\serial_ports.c
                                           		// every time is quicker than checking for overflow every time with an if()    C:\2007 final code\serial_ports.c
                                           		// statement and only then occasionally setting it back to zero. For this      C:\2007 final code\serial_ports.c
                                           		// to work, the queue size must be a power of 2 (e.g., 16,32,64,128...).       C:\2007 final code\serial_ports.c
0063a0   0e1f     MOVLW     0x1f           		Rx_1_Queue_Read_Index &= RX_1_QUEUE_INDEX_MASK;                                C:\2007 final code\serial_ports.c
0063a2   177e     ANDWF     0x7e,0x1,0x1                                                                                    
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// since we're about to use the Rx_1_Queue_Write_Index variable, which can     C:\2007 final code\serial_ports.c
                                           		// also be modified in the interrupt service routine, let's briefly disable    C:\2007 final code\serial_ports.c
                                           		// the serial port interrupt to make sure that Rx_1_Queue_Write_Index doesn't  C:\2007 final code\serial_ports.c
                                           		// get altered while we're using it.                                           C:\2007 final code\serial_ports.c
0063a4   9a9d     BCF       0x9d,0x5,0x0   		PIE1bits.RC1IE = 0;                                                            C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// is the circular queue now empty?                                            C:\2007 final code\serial_ports.c
0063a6   517f     MOVF      0x7f,0x0,0x1   		if(Rx_1_Queue_Read_Index == Rx_1_Queue_Write_Index)                            C:\2007 final code\serial_ports.c
0063a8   5d7e     SUBWF     0x7e,0x0,0x1                                                                                    
0063aa   e102     BNZ       0x63b0                                                                                          
                                           		{                                                                              C:\2007 final code\serial_ports.c
0063ac   0e01     MOVLW     0x1            			Rx_1_Queue_Empty = TRUE;                                                      C:\2007 final code\serial_ports.c
0063ae   6f7d     MOVWF     0x7d,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// okay, we're done using Rx_1_Queue_Write_Index, so turn the serial port      C:\2007 final code\serial_ports.c
                                           		// interrupt back on.                                                          C:\2007 final code\serial_ports.c
0063b0   8a9d     BSF       0x9d,0x5,0x0   		PIE1bits.RC1IE = 1;                                                            C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                            		// Since we've just removed a byte to the queue, it can't possibly be full.   C:\2007 final code\serial_ports.c
                                           		// Again, this is quicker than using an if() statement every time              C:\2007 final code\serial_ports.c
0063b2   6b7c     CLRF      0x7c,0x1       		Rx_1_Queue_Full = FALSE;                                                       C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// return the data                                                             C:\2007 final code\serial_ports.c
0063b4   50df     MOVF      0xdf,0x0,0x0   		return(byte);                                                                  C:\2007 final code\serial_ports.c
                                           	}                                                                               C:\2007 final code\serial_ports.c
0063b6   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\serial_ports.c
0063b8   d0d4     BRA       0x6562                                                                                          
                                           #endif                                                                           C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           /******************************************************************************* C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	FUNCTION:		Read_Serial_Port_Two()                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PURPOSE:		                                                                     C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PARAMETERS:		none                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	RETURNS:		unsigned char                                                        C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	COMMENTS:		This function will not be included in the build unless              C:\2007 final code\serial_ports.c
                                           *					ENABLE_SERIAL_PORT_TWO_RX is #define'd in serial_ports.h 		                C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *******************************************************************************/ C:\2007 final code\serial_ports.c
                                           #ifdef ENABLE_SERIAL_PORT_TWO_RX                                                 C:\2007 final code\serial_ports.c
0063ba   d8d7     RCALL     0x656a         unsigned char Read_Serial_Port_Two(void)                                         C:\2007 final code\serial_ports.c
0063bc   52e6     MOVF      0xe6,0x1,0x0                                                                                    
00656a   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00656c   ffe6                                                                                                               
00656e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
006570   ffd9                                                                                                               
006572   0012     RETURN    0x0                                                                                             
                                           {                                                                                C:\2007 final code\serial_ports.c
                                           	unsigned char byte;                                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
0063be   0103     MOVLB     0x3            	if(Rx_2_Queue_Empty)                                                            C:\2007 final code\serial_ports.c
0063c0   5189     MOVF      0x89,0x0,0x1                                                                                    
0063c2   e002     BZ        0x63c8                                                                                          
                                           	{                                                                               C:\2007 final code\serial_ports.c
                                           		// error: no data to read                                                      C:\2007 final code\serial_ports.c
0063c4   0e00     MOVLW     0x0            		return(0);                                                                     C:\2007 final code\serial_ports.c
0063c6   d015     BRA       0x63f2                                                                                          
                                           	}                                                                               C:\2007 final code\serial_ports.c
                                           	else                                                                            C:\2007 final code\serial_ports.c
                                           	{                                                                               C:\2007 final code\serial_ports.c
                                           		// get a byte from the circular queue and store it temporarily                 C:\2007 final code\serial_ports.c
0063c8   518a     MOVF      0x8a,0x0,0x1   		byte = Rx_2_Queue[Rx_2_Queue_Read_Index];                                      C:\2007 final code\serial_ports.c
0063ca   6aea     CLRF      0xea,0x0                                                                                        
0063cc   0f40     ADDLW     0x40                                                                                            
0063ce   6ee9     MOVWF     0xe9,0x0                                                                                        
0063d0   0e01     MOVLW     0x1                                                                                             
0063d2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0063d4   cfef     MOVFF     0xfef,0xfdf                                                                                     
0063d6   ffdf                                                                                                               
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// decrement the queue byte count                                              C:\2007 final code\serial_ports.c
0063d8   078c     DECF      0x8c,0x1,0x1   		Rx_2_Queue_Byte_Count--;                                                       C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// increment the read pointer                                                  C:\2007 final code\serial_ports.c
0063da   2b8a     INCF      0x8a,0x1,0x1   		Rx_2_Queue_Read_Index++;                                                       C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// If the index pointer overflowed, cut-off the high-order bit. Doing this     C:\2007 final code\serial_ports.c
                                           		// every time is quicker than checking for overflow every time with an if()    C:\2007 final code\serial_ports.c
                                           		// statement and only then occasionally setting it back to zero. For this      C:\2007 final code\serial_ports.c
                                           		// to work, the queue size must be a power of 2 (e.g., 16,32,64,128...).       C:\2007 final code\serial_ports.c
0063dc   0e1f     MOVLW     0x1f           		Rx_2_Queue_Read_Index &= RX_2_QUEUE_INDEX_MASK;                                C:\2007 final code\serial_ports.c
0063de   178a     ANDWF     0x8a,0x1,0x1                                                                                    
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// since we're about to use the Rx_2_Queue_Write_Index variable, which can     C:\2007 final code\serial_ports.c
                                           		// also be modified in the interrupt service routine, let's briefly disable    C:\2007 final code\serial_ports.c
                                           		// the serial port interrupt to make sure that Rx_2_Queue_Write_Index doesn't  C:\2007 final code\serial_ports.c
                                           		// get altered while we're using it.                                           C:\2007 final code\serial_ports.c
0063e0   9aa3     BCF       0xa3,0x5,0x0   		PIE3bits.RC2IE = 0;                                                            C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// is the circular queue now empty?                                            C:\2007 final code\serial_ports.c
0063e2   518b     MOVF      0x8b,0x0,0x1   		if(Rx_2_Queue_Read_Index == Rx_2_Queue_Write_Index)                            C:\2007 final code\serial_ports.c
0063e4   5d8a     SUBWF     0x8a,0x0,0x1                                                                                    
0063e6   e102     BNZ       0x63ec                                                                                          
                                           		{                                                                              C:\2007 final code\serial_ports.c
0063e8   0e01     MOVLW     0x1            			Rx_2_Queue_Empty = TRUE;                                                      C:\2007 final code\serial_ports.c
0063ea   6f89     MOVWF     0x89,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// okay, we're done using Rx_2_Queue_Write_Index, so turn the serial port      C:\2007 final code\serial_ports.c
                                           		// interrupt back on.                                                          C:\2007 final code\serial_ports.c
0063ec   8aa3     BSF       0xa3,0x5,0x0   		PIE3bits.RC2IE = 1;                                                            C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                            		// Since we've just removed a byte to the queue, it can't possibly be full.   C:\2007 final code\serial_ports.c
                                           		// Again, this is quicker than using an if() statement every time              C:\2007 final code\serial_ports.c
0063ee   6b88     CLRF      0x88,0x1       		Rx_2_Queue_Full = FALSE;                                                       C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// return the data                                                             C:\2007 final code\serial_ports.c
0063f0   50df     MOVF      0xdf,0x0,0x0   		return(byte);                                                                  C:\2007 final code\serial_ports.c
                                           	}                                                                               C:\2007 final code\serial_ports.c
0063f2   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\serial_ports.c
0063f4   d0b6     BRA       0x6562                                                                                          
                                           #endif                                                                           C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           /******************************************************************************* C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	FUNCTION:		Write_Serial_Port_One()                                             C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PURPOSE:		Sends a byte of data using serial port one.                          C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PARAMETERS:		unsigned char                                                     C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	RETURNS:		nothing                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	COMMENTS:		If you don't initialize the serial port before calling              C:\2007 final code\serial_ports.c
                                           *					this function, the robot controller will stop functioning                  C:\2007 final code\serial_ports.c
                                           *					and you'll get the much dreaded red-light-of-death. This                   C:\2007 final code\serial_ports.c
                                           *					is because the while() statement below is waiting for the                  C:\2007 final code\serial_ports.c
                                           *					transmit circuitry to send another byte, but if the serial                 C:\2007 final code\serial_ports.c
                                           *					port hasn't been configured, nothing will be transmitted                   C:\2007 final code\serial_ports.c
                                           *					and we'll be stuck in the while() loop.                                    C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					This function will not be included in the build unless                     C:\2007 final code\serial_ports.c
                                           *					ENABLE_SERIAL_PORT_ONE_TX is #define'd in serial_ports.h                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *******************************************************************************/ C:\2007 final code\serial_ports.c
                                           #ifdef ENABLE_SERIAL_PORT_ONE_TX                                                 C:\2007 final code\serial_ports.c
0063f6   d8b9     RCALL     0x656a         void Write_Serial_Port_One(unsigned char byte)                                   C:\2007 final code\serial_ports.c
                                           {                                                                                C:\2007 final code\serial_ports.c
                                           	// if the queue is full, wait here until space is available                     C:\2007 final code\serial_ports.c
0063f8   0103     MOVLB     0x3            	while(Tx_1_Queue_Full);                                                         C:\2007 final code\serial_ports.c
0063fa   5183     MOVF      0x83,0x0,0x1                                                                                    
0063fc   e1fd     BNZ       0x63f8                                                                                          
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// put the byte on the circular queue                                           C:\2007 final code\serial_ports.c
0063fe   5186     MOVF      0x86,0x0,0x1   	Tx_1_Queue[Tx_1_Queue_Write_Index] = byte;                                      C:\2007 final code\serial_ports.c
006400   6aea     CLRF      0xea,0x0                                                                                        
006402   0f20     ADDLW     0x20                                                                                            
006404   6ee9     MOVWF     0xe9,0x0                                                                                        
006406   0e01     MOVLW     0x1                                                                                             
006408   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00640a   0efe     MOVLW     0xfe                                                                                            
00640c   cfdb     MOVFF     0xfdb,0xfef                                                                                     
00640e   ffef                                                                                                               
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// increment the queue byte count                                               C:\2007 final code\serial_ports.c
006410   2b87     INCF      0x87,0x1,0x1   	Tx_1_Queue_Byte_Count++;                                                        C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// increment the write pointer                                                  C:\2007 final code\serial_ports.c
006412   2b86     INCF      0x86,0x1,0x1   	Tx_1_Queue_Write_Index++;                                                       C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// If the index pointer overflowed, cut-off the high-order bit. Doing this      C:\2007 final code\serial_ports.c
                                           	// every time is quicker than checking for overflow every time with an if()     C:\2007 final code\serial_ports.c
                                           	// statement and only then occasionally setting it back to zero. For this       C:\2007 final code\serial_ports.c
                                           	// to work, the queue size must be a power of 2 (e.g., 16,32,64,128...).        C:\2007 final code\serial_ports.c
006414   0e1f     MOVLW     0x1f           	Tx_1_Queue_Write_Index &= TX_1_QUEUE_INDEX_MASK;                                C:\2007 final code\serial_ports.c
006416   1786     ANDWF     0x86,0x1,0x1                                                                                    
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// since we're about to use the Tx_1_Queue_Write_Index variable, which can      C:\2007 final code\serial_ports.c
                                           	// also be modified in the interrupt service routine, let's briefly disable     C:\2007 final code\serial_ports.c
                                           	// the serial port interrupt to make sure that Tx_1_Queue_Write_Index doesn't   C:\2007 final code\serial_ports.c
                                           	// get altered while we're using it.                                            C:\2007 final code\serial_ports.c
006418   989d     BCF       0x9d,0x4,0x0   	PIE1bits.TX1IE = 0;                                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// is the circular queue now full?                                              C:\2007 final code\serial_ports.c
00641a   5186     MOVF      0x86,0x0,0x1   	if(Tx_1_Queue_Read_Index == Tx_1_Queue_Write_Index)                             C:\2007 final code\serial_ports.c
00641c   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00641e   e102     BNZ       0x6424                                                                                          
                                           	{                                                                               C:\2007 final code\serial_ports.c
006420   0e01     MOVLW     0x1            		Tx_1_Queue_Full = TRUE;                                                        C:\2007 final code\serial_ports.c
006422   6f83     MOVWF     0x83,0x1                                                                                        
                                           	}                                                                               C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// okay, we're done using Tx_Queue_Write_Index, so turn the serial port         C:\2007 final code\serial_ports.c
                                           	// interrupt back on.                                                           C:\2007 final code\serial_ports.c
006424   889d     BSF       0x9d,0x4,0x0   	PIE1bits.TX1IE = 1;                                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// Since we've just added a byte to the queue, it can't possibly be empty.      C:\2007 final code\serial_ports.c
                                           	// Again, this is quicker than using an if() statement every time               C:\2007 final code\serial_ports.c
006426   6b84     CLRF      0x84,0x1       	Tx_1_Queue_Empty = FALSE;                                                       C:\2007 final code\serial_ports.c
006428   d09c     BRA       0x6562         }                                                                                C:\2007 final code\serial_ports.c
                                           #endif                                                                           C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           /******************************************************************************* C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	FUNCTION:		Write_Serial_Port_Two()                                             C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PURPOSE:		Sends a byte of data using serial port two.                          C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PARAMETERS:		unsigned char                                                     C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	RETURNS:		nothing                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	COMMENTS:		If you don't initialize the serial port before calling              C:\2007 final code\serial_ports.c
                                           *					this function, the robot controller will stop functioning                  C:\2007 final code\serial_ports.c
                                           *					and you'll get the much dreaded red-light-of-death. This                   C:\2007 final code\serial_ports.c
                                           *					is because the while() statement below is waiting for the                  C:\2007 final code\serial_ports.c
                                           *					transmit circuitry to send another byte, but if the serial                 C:\2007 final code\serial_ports.c
                                           *					port hasn't been configured, nothing will be transmitted                   C:\2007 final code\serial_ports.c
                                           *					and we'll be stuck in the while() loop.                                    C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					This function will not be included in the build unless                     C:\2007 final code\serial_ports.c
                                           *					ENABLE_SERIAL_PORT_TWO_TX is #define'd in serial_ports.h                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *******************************************************************************/ C:\2007 final code\serial_ports.c
                                           #ifdef ENABLE_SERIAL_PORT_TWO_TX                                                 C:\2007 final code\serial_ports.c
00642a   d89f     RCALL     0x656a         void Write_Serial_Port_Two(unsigned char byte)                                   C:\2007 final code\serial_ports.c
                                           {                                                                                C:\2007 final code\serial_ports.c
                                           	// if the queue is full, wait here until space is available                     C:\2007 final code\serial_ports.c
00642c   0103     MOVLB     0x3            	while(Tx_2_Queue_Full);                                                         C:\2007 final code\serial_ports.c
00642e   518f     MOVF      0x8f,0x0,0x1                                                                                    
006430   e1fd     BNZ       0x642c                                                                                          
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// put the byte on the circular queue                                           C:\2007 final code\serial_ports.c
006432   5192     MOVF      0x92,0x0,0x1   	Tx_2_Queue[Tx_2_Queue_Write_Index] = byte;                                      C:\2007 final code\serial_ports.c
006434   6aea     CLRF      0xea,0x0                                                                                        
006436   0f60     ADDLW     0x60                                                                                            
006438   6ee9     MOVWF     0xe9,0x0                                                                                        
00643a   0e01     MOVLW     0x1                                                                                             
00643c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00643e   0efe     MOVLW     0xfe                                                                                            
006440   cfdb     MOVFF     0xfdb,0xfef                                                                                     
006442   ffef                                                                                                               
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// increment the queue byte count                                               C:\2007 final code\serial_ports.c
006444   2b93     INCF      0x93,0x1,0x1   	Tx_2_Queue_Byte_Count++;                                                        C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// increment the write pointer                                                  C:\2007 final code\serial_ports.c
006446   2b92     INCF      0x92,0x1,0x1   	Tx_2_Queue_Write_Index++;                                                       C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// If the index pointer overflowed, cut-off the high-order bit. Doing this      C:\2007 final code\serial_ports.c
                                           	// every time is quicker than checking for overflow every time with an if()     C:\2007 final code\serial_ports.c
                                           	// statement and only then occasionally setting it back to zero. For this       C:\2007 final code\serial_ports.c
                                           	// to work, the queue size must be a power of 2 (e.g., 16,32,64,128...).        C:\2007 final code\serial_ports.c
006448   0e1f     MOVLW     0x1f           	Tx_2_Queue_Write_Index &= TX_2_QUEUE_INDEX_MASK;                                C:\2007 final code\serial_ports.c
00644a   1792     ANDWF     0x92,0x1,0x1                                                                                    
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// since we're about to use the Tx_2_Queue_Write_Index variable, which can      C:\2007 final code\serial_ports.c
                                           	// also be modified in the interrupt service routine, let's briefly disable     C:\2007 final code\serial_ports.c
                                           	// the serial port interrupt to make sure that Tx_2_Queue_Write_Index doesn't   C:\2007 final code\serial_ports.c
                                           	// get altered while we're using it.                                            C:\2007 final code\serial_ports.c
00644c   98a3     BCF       0xa3,0x4,0x0   	PIE3bits.TX2IE = 0;                                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// is the circular queue now full?                                              C:\2007 final code\serial_ports.c
00644e   5192     MOVF      0x92,0x0,0x1   	if(Tx_2_Queue_Read_Index == Tx_2_Queue_Write_Index)                             C:\2007 final code\serial_ports.c
006450   5d91     SUBWF     0x91,0x0,0x1                                                                                    
006452   e102     BNZ       0x6458                                                                                          
                                           	{                                                                               C:\2007 final code\serial_ports.c
006454   0e01     MOVLW     0x1            		Tx_2_Queue_Full = TRUE;                                                        C:\2007 final code\serial_ports.c
006456   6f8f     MOVWF     0x8f,0x1                                                                                        
                                           	}                                                                               C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// okay, we're done using Tx_2_Queue_Write_Index, so turn the serial port       C:\2007 final code\serial_ports.c
                                           	// interrupt back on.                                                           C:\2007 final code\serial_ports.c
006458   88a3     BSF       0xa3,0x4,0x0   	PIE3bits.TX2IE = 1;                                                             C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           	// Since we've just added a byte to the queue, it can't possibly be empty.      C:\2007 final code\serial_ports.c
                                           	// Again, this is quicker than using an if() statement every time               C:\2007 final code\serial_ports.c
00645a   6b90     CLRF      0x90,0x1       	Tx_2_Queue_Empty = FALSE;                                                       C:\2007 final code\serial_ports.c
00645c   d082     BRA       0x6562         }                                                                                C:\2007 final code\serial_ports.c
                                           #endif                                                                           C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           /******************************************************************************* C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	FUNCTION:		Rx_1_Int_Handler()                                                  C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PURPOSE:		Serial port one new data interrupt handler.                          C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	CALLED FROM:	user_routines_fast()                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PARAMETERS:		None                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	COMMENTS:		If the interrupt handler was installed correctly, this              C:\2007 final code\serial_ports.c
                                           *					function will be called every time a new byte of data                      C:\2007 final code\serial_ports.c
                                           *					is received by serial port one.                                            C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					This function will not be included in the build unless                     C:\2007 final code\serial_ports.c
                                           *					ENABLE_SERIAL_PORT_ONE_RX is #define'd in serial_ports.h		                 C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *******************************************************************************/ C:\2007 final code\serial_ports.c
                                           #ifdef ENABLE_SERIAL_PORT_ONE_RX                                                 C:\2007 final code\serial_ports.c
                                           void Rx_1_Int_Handler(void)                                                      C:\2007 final code\serial_ports.c
                                           {                                                                                C:\2007 final code\serial_ports.c
00645e   0103     MOVLB     0x3            	if(Rx_1_Queue_Full)                                                             C:\2007 final code\serial_ports.c
006460   517c     MOVF      0x7c,0x0,0x1                                                                                    
006462   e002     BZ        0x6468                                                                                          
                                           	{                                                                               C:\2007 final code\serial_ports.c
                                           		// just turn off the serial port interrupt if we can't store any more data.    C:\2007 final code\serial_ports.c
                                           		// the interrupt will be re-enabled within the Receive_Byte() function when    C:\2007 final code\serial_ports.c
                                           		// more data is read.                                                          C:\2007 final code\serial_ports.c
006464   9a9d     BCF       0x9d,0x5,0x0   		PIE1bits.RC1IE = 0;                                                            C:\2007 final code\serial_ports.c
                                           	}                                                                               C:\2007 final code\serial_ports.c
006466   0012     RETURN    0x0            	else                                                                            C:\2007 final code\serial_ports.c
                                           	{                                                                               C:\2007 final code\serial_ports.c
                                           		// put the byte on the circular queue                                          C:\2007 final code\serial_ports.c
006468   517f     MOVF      0x7f,0x0,0x1   		Rx_1_Queue[Rx_1_Queue_Write_Index] = RCREG1;                                   C:\2007 final code\serial_ports.c
00646a   6aea     CLRF      0xea,0x0                                                                                        
00646c   0f00     ADDLW     0x0                                                                                             
00646e   6ee9     MOVWF     0xe9,0x0                                                                                        
006470   0e01     MOVLW     0x1                                                                                             
006472   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006474   cfae     MOVFF     0xfae,0xfef                                                                                     
006476   ffef                                                                                                               
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// if the interrupt handler was disabled while data was being received,        C:\2007 final code\serial_ports.c
                                           		// data may have backed-up in the receiver circuitry, causing an overrun       C:\2007 final code\serial_ports.c
                                           		// condition. So let's check the OERR bit to see if this has happened          C:\2007 final code\serial_ports.c
                                           		// and if it has, we'll need to reset the serial port receiver circuitry       C:\2007 final code\serial_ports.c
                                           		// to get data flowing again.                                                  C:\2007 final code\serial_ports.c
006478   a2ab     BTFSS     0xab,0x1,0x0   		if(RCSTA1bits.OERR)                                                            C:\2007 final code\serial_ports.c
00647a   d003     BRA       0x6482                                                                                          
                                           		{                                                                              C:\2007 final code\serial_ports.c
                                           			// reset by turning off the receiver circuitry, then...                       C:\2007 final code\serial_ports.c
00647c   98ab     BCF       0xab,0x4,0x0   			RCSTA1bits.CREN = 0;                                                          C:\2007 final code\serial_ports.c
                                           			                                                                              C:\2007 final code\serial_ports.c
                                           			// ...turn it back on                                                         C:\2007 final code\serial_ports.c
00647e   88ab     BSF       0xab,0x4,0x0   			RCSTA1bits.CREN = 1;                                                          C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           			// indicate that we've had an error                                           C:\2007 final code\serial_ports.c
006480   2b81     INCF      0x81,0x1,0x1   			RX_1_Overrun_Errors++;                                                        C:\2007 final code\serial_ports.c
                                           		}                                                                              C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// if incoming data gets misaligned and the receiver doesn't receive a         C:\2007 final code\serial_ports.c
                                           		// stop bit where it expects to detect it, the receiver circuitry will         C:\2007 final code\serial_ports.c
                                           		// set the FERR bit to indicate that it's received corrupted data. The         C:\2007 final code\serial_ports.c
                                           		// likely reason for this is an incorrectly set baud rate on either the        C:\2007 final code\serial_ports.c
                                           		// receiver or transmitter end.                                                C:\2007 final code\serial_ports.c
006482   b4ab     BTFSC     0xab,0x2,0x0   		if(RCSTA1bits.FERR)                                                            C:\2007 final code\serial_ports.c
                                           		{                                                                              C:\2007 final code\serial_ports.c
006484   2b82     INCF      0x82,0x1,0x1   			RX_1_Framing_Errors++;                                                        C:\2007 final code\serial_ports.c
                                           		}                                                                              C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// increment the queue byte count                                              C:\2007 final code\serial_ports.c
006486   2b80     INCF      0x80,0x1,0x1   		Rx_1_Queue_Byte_Count++;                                                       C:\2007 final code\serial_ports.c
                                           	                                                                                C:\2007 final code\serial_ports.c
                                           		// increment the write pointer                                                 C:\2007 final code\serial_ports.c
006488   2b7f     INCF      0x7f,0x1,0x1   		Rx_1_Queue_Write_Index++;                                                      C:\2007 final code\serial_ports.c
                                           		                                                                               C:\2007 final code\serial_ports.c
                                           		// If the index pointer overflowed, cut-off the high-order bit. Doing this     C:\2007 final code\serial_ports.c
                                           		// every time is quicker than checking for overflow every time with an if()    C:\2007 final code\serial_ports.c
                                           		// statement and only then occasionally setting it back to zero. For this      C:\2007 final code\serial_ports.c
                                           		// to work, the queue size must be a power of 2 (e.g., 16,32,64,128...).       C:\2007 final code\serial_ports.c
00648a   0e1f     MOVLW     0x1f           		Rx_1_Queue_Write_Index &= RX_1_QUEUE_INDEX_MASK;                               C:\2007 final code\serial_ports.c
00648c   177f     ANDWF     0x7f,0x1,0x1                                                                                    
                                           		                                                                               C:\2007 final code\serial_ports.c
                                           		// is the circular queue now full?                                             C:\2007 final code\serial_ports.c
00648e   517f     MOVF      0x7f,0x0,0x1   		if(Rx_1_Queue_Read_Index == Rx_1_Queue_Write_Index)                            C:\2007 final code\serial_ports.c
006490   5d7e     SUBWF     0x7e,0x0,0x1                                                                                    
006492   e102     BNZ       0x6498                                                                                          
                                           		{                                                                              C:\2007 final code\serial_ports.c
006494   0e01     MOVLW     0x1            			Rx_1_Queue_Full = TRUE;                                                       C:\2007 final code\serial_ports.c
006496   6f7c     MOVWF     0x7c,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\serial_ports.c
                                           		                                                                               C:\2007 final code\serial_ports.c
                                           		// Since we've just added a byte to the queue, it can't possibly be empty.     C:\2007 final code\serial_ports.c
                                           		// Again, this is quicker than using an if() statement every time              C:\2007 final code\serial_ports.c
006498   6b7d     CLRF      0x7d,0x1       		Rx_1_Queue_Empty = FALSE;                                                      C:\2007 final code\serial_ports.c
                                           	}                                                                               C:\2007 final code\serial_ports.c
00649a   0012     RETURN    0x0            }                                                                                C:\2007 final code\serial_ports.c
                                           #endif                                                                           C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           /******************************************************************************* C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	FUNCTION:		Rx_2_Int_Handler()                                                  C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PURPOSE:		Serial port two new data interrupt handler.		                        C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	CALLED FROM:	user_routines_fast()                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PARAMETERS:		None                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	COMMENTS:		If the interrupt handler was installed correctly, this              C:\2007 final code\serial_ports.c
                                           *					function will be called every time a new byte of data                      C:\2007 final code\serial_ports.c
                                           *					is received by serial port two.                                            C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					This function will not be included in the build unless                     C:\2007 final code\serial_ports.c
                                           *					ENABLE_SERIAL_PORT_TWO_RX is #define'd in serial_ports.h 		                C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *******************************************************************************/ C:\2007 final code\serial_ports.c
                                           #ifdef ENABLE_SERIAL_PORT_TWO_RX                                                 C:\2007 final code\serial_ports.c
                                           void Rx_2_Int_Handler(void)                                                      C:\2007 final code\serial_ports.c
                                           {                                                                                C:\2007 final code\serial_ports.c
00649c   0103     MOVLB     0x3            	if(Rx_2_Queue_Full)                                                             C:\2007 final code\serial_ports.c
00649e   5188     MOVF      0x88,0x0,0x1                                                                                    
0064a0   e002     BZ        0x64a6                                                                                          
                                           	{                                                                               C:\2007 final code\serial_ports.c
                                           		// just turn off the serial port interrupt if we can't store any more data.    C:\2007 final code\serial_ports.c
                                           		// the interrupt will be re-enabled within the Receive_Byte() function when    C:\2007 final code\serial_ports.c
                                           		// more data is read.                                                          C:\2007 final code\serial_ports.c
0064a2   9aa3     BCF       0xa3,0x5,0x0   		PIE3bits.RC2IE = 0;                                                            C:\2007 final code\serial_ports.c
                                           	}                                                                               C:\2007 final code\serial_ports.c
0064a4   0012     RETURN    0x0            	else                                                                            C:\2007 final code\serial_ports.c
                                           	{                                                                               C:\2007 final code\serial_ports.c
                                           		// put the byte on the circular queue                                          C:\2007 final code\serial_ports.c
0064a6   518b     MOVF      0x8b,0x0,0x1   		Rx_2_Queue[Rx_2_Queue_Write_Index] = RCREG2;                                   C:\2007 final code\serial_ports.c
0064a8   6aea     CLRF      0xea,0x0                                                                                        
0064aa   0f40     ADDLW     0x40                                                                                            
0064ac   6ee9     MOVWF     0xe9,0x0                                                                                        
0064ae   0e01     MOVLW     0x1                                                                                             
0064b0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0064b2   cf6e     MOVFF     0xf6e,0xfef                                                                                     
0064b4   ffef                                                                                                               
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// if the interrupt handler was disabled while data was being received,        C:\2007 final code\serial_ports.c
                                           		// data may have backed-up in the receiver circuitry, causing an overrun       C:\2007 final code\serial_ports.c
                                           		// condition. So let's check the OERR bit to see if this has happened          C:\2007 final code\serial_ports.c
                                           		// and if it has, we'll need to reset the serial port receiver circuitry       C:\2007 final code\serial_ports.c
                                           		// to get data flowing again.                                                  C:\2007 final code\serial_ports.c
0064b6   a26b     BTFSS     0x6b,0x1,0x0   		if(RCSTA2bits.OERR)                                                            C:\2007 final code\serial_ports.c
0064b8   d003     BRA       0x64c0                                                                                          
                                           		{                                                                              C:\2007 final code\serial_ports.c
                                           			// reset by turning off the receiver circuitry, then...                       C:\2007 final code\serial_ports.c
0064ba   986b     BCF       0x6b,0x4,0x0   			RCSTA2bits.CREN = 0;                                                          C:\2007 final code\serial_ports.c
                                           			                                                                              C:\2007 final code\serial_ports.c
                                           			// ...turn it back on                                                         C:\2007 final code\serial_ports.c
0064bc   886b     BSF       0x6b,0x4,0x0   			RCSTA2bits.CREN = 1;                                                          C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           			// indicate that we've had an error                                           C:\2007 final code\serial_ports.c
0064be   2b8d     INCF      0x8d,0x1,0x1   			RX_2_Overrun_Errors++;                                                        C:\2007 final code\serial_ports.c
                                           		}                                                                              C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// if incoming data gets misaligned and the receiver doesn't receive a         C:\2007 final code\serial_ports.c
                                           		// stop bit where it expects to detect it, the receiver circuitry will         C:\2007 final code\serial_ports.c
                                           		// set the FERR bit to indicate that it's received corrupted data. The         C:\2007 final code\serial_ports.c
                                           		// likely reason for this is an incorrectly set baud rate on either the        C:\2007 final code\serial_ports.c
                                           		// receiver or transmitter end.                                                C:\2007 final code\serial_ports.c
0064c0   b46b     BTFSC     0x6b,0x2,0x0   		if(RCSTA2bits.FERR)                                                            C:\2007 final code\serial_ports.c
                                           		{                                                                              C:\2007 final code\serial_ports.c
0064c2   2b8e     INCF      0x8e,0x1,0x1   			RX_2_Framing_Errors++;                                                        C:\2007 final code\serial_ports.c
                                           		}                                                                              C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// increment the queue byte count                                              C:\2007 final code\serial_ports.c
0064c4   2b8c     INCF      0x8c,0x1,0x1   		Rx_2_Queue_Byte_Count++;                                                       C:\2007 final code\serial_ports.c
                                           	                                                                                C:\2007 final code\serial_ports.c
                                           		// increment the write pointer                                                 C:\2007 final code\serial_ports.c
0064c6   2b8b     INCF      0x8b,0x1,0x1   		Rx_2_Queue_Write_Index++;                                                      C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// If the index pointer overflowed, cut-off the high-order bit. Doing this     C:\2007 final code\serial_ports.c
                                           		// every time is quicker than checking for overflow every time with an if()    C:\2007 final code\serial_ports.c
                                           		// statement and only then occasionally setting it back to zero. For this      C:\2007 final code\serial_ports.c
                                           		// to work, the queue size must be a power of 2 (e.g., 16,32,64,128...).       C:\2007 final code\serial_ports.c
0064c8   0e1f     MOVLW     0x1f           		Rx_2_Queue_Write_Index &= RX_2_QUEUE_INDEX_MASK;                               C:\2007 final code\serial_ports.c
0064ca   178b     ANDWF     0x8b,0x1,0x1                                                                                    
                                           		                                                                               C:\2007 final code\serial_ports.c
                                           		// is the circular queue now full?                                             C:\2007 final code\serial_ports.c
0064cc   518b     MOVF      0x8b,0x0,0x1   		if(Rx_2_Queue_Read_Index == Rx_2_Queue_Write_Index)                            C:\2007 final code\serial_ports.c
0064ce   5d8a     SUBWF     0x8a,0x0,0x1                                                                                    
0064d0   e102     BNZ       0x64d6                                                                                          
                                           		{                                                                              C:\2007 final code\serial_ports.c
0064d2   0e01     MOVLW     0x1            			Rx_2_Queue_Full = TRUE;                                                       C:\2007 final code\serial_ports.c
0064d4   6f88     MOVWF     0x88,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\serial_ports.c
                                           		                                                                               C:\2007 final code\serial_ports.c
                                           		// Since we've just added a byte to the queue, it can't possibly be empty.     C:\2007 final code\serial_ports.c
                                           		// Again, this is quicker than using an if() statement every time              C:\2007 final code\serial_ports.c
0064d6   6b89     CLRF      0x89,0x1       		Rx_2_Queue_Empty = FALSE;                                                      C:\2007 final code\serial_ports.c
                                           	}                                                                               C:\2007 final code\serial_ports.c
0064d8   0012     RETURN    0x0            }                                                                                C:\2007 final code\serial_ports.c
                                           #endif                                                                           C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           /******************************************************************************* C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	FUNCTION:		Tx_1_Int_Handler()                                                  C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PURPOSE:		Serial port one empty transmit buffer interrupt handler.             C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	CALLED FROM:	user_routines_fast()                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PARAMETERS:		None                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	COMMENTS:		If the interrupt handler was installed correctly, this              C:\2007 final code\serial_ports.c
                                           *					function will be called every time serial port one is                      C:\2007 final code\serial_ports.c
                                           *					ready to start sending a byte of data.                                     C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					This function will not be included in the build unless                     C:\2007 final code\serial_ports.c
                                           *					ENABLE_SERIAL_PORT_ONE_TX is #define'd in serial_ports.h 		                C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *******************************************************************************/ C:\2007 final code\serial_ports.c
                                           #ifdef ENABLE_SERIAL_PORT_ONE_TX                                                 C:\2007 final code\serial_ports.c
                                           void Tx_1_Int_Handler(void)                                                      C:\2007 final code\serial_ports.c
                                           {                                                                                C:\2007 final code\serial_ports.c
0064da   0103     MOVLB     0x3            	if(Tx_1_Queue_Empty)                                                            C:\2007 final code\serial_ports.c
0064dc   5184     MOVF      0x84,0x0,0x1                                                                                    
0064de   e002     BZ        0x64e4                                                                                          
                                           	{                                                                               C:\2007 final code\serial_ports.c
                                           		// just turn off the serial port interrupt if we don't have data to send.      C:\2007 final code\serial_ports.c
                                           		// the interrupt will be re-enabled within the Send_Byte() function when       C:\2007 final code\serial_ports.c
                                           		// more data is sent.                                                          C:\2007 final code\serial_ports.c
0064e0   989d     BCF       0x9d,0x4,0x0   		PIE1bits.TX1IE = 0;                                                            C:\2007 final code\serial_ports.c
                                           	}                                                                               C:\2007 final code\serial_ports.c
0064e2   0012     RETURN    0x0            	else                                                                            C:\2007 final code\serial_ports.c
                                           	{                                                                               C:\2007 final code\serial_ports.c
                                           		// get a byte from the circular queue and send it to the USART                 C:\2007 final code\serial_ports.c
0064e4   5185     MOVF      0x85,0x0,0x1   		TXREG1 = Tx_1_Queue[Tx_1_Queue_Read_Index];                                    C:\2007 final code\serial_ports.c
0064e6   6aea     CLRF      0xea,0x0                                                                                        
0064e8   0f20     ADDLW     0x20                                                                                            
0064ea   6ee9     MOVWF     0xe9,0x0                                                                                        
0064ec   0e01     MOVLW     0x1                                                                                             
0064ee   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0064f0   50ef     MOVF      0xef,0x0,0x0                                                                                    
0064f2   6ead     MOVWF     0xad,0x0                                                                                        
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// decrement the queue byte count                                              C:\2007 final code\serial_ports.c
0064f4   0787     DECF      0x87,0x1,0x1   		Tx_1_Queue_Byte_Count--;                                                       C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// increment the read pointer                                                  C:\2007 final code\serial_ports.c
0064f6   2b85     INCF      0x85,0x1,0x1   		Tx_1_Queue_Read_Index++;                                                       C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// If the index pointer overflowed, cut-off the high-order bit. Doing this     C:\2007 final code\serial_ports.c
                                           		// every time is quicker than checking for overflow every time with an if()    C:\2007 final code\serial_ports.c
                                           		// statement and only then occasionally setting it back to zero. For this      C:\2007 final code\serial_ports.c
                                           		// to work, the queue size must be a power of 2 (e.g., 16,32,64,128...).       C:\2007 final code\serial_ports.c
0064f8   0e1f     MOVLW     0x1f           		Tx_1_Queue_Read_Index &= TX_1_QUEUE_INDEX_MASK;                                C:\2007 final code\serial_ports.c
0064fa   1785     ANDWF     0x85,0x1,0x1                                                                                    
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// is the circular queue now empty?                                            C:\2007 final code\serial_ports.c
0064fc   5186     MOVF      0x86,0x0,0x1   		if(Tx_1_Queue_Read_Index == Tx_1_Queue_Write_Index)                            C:\2007 final code\serial_ports.c
0064fe   5d85     SUBWF     0x85,0x0,0x1                                                                                    
006500   e102     BNZ       0x6506                                                                                          
                                           		{                                                                              C:\2007 final code\serial_ports.c
006502   0e01     MOVLW     0x1            			Tx_1_Queue_Empty = TRUE;                                                      C:\2007 final code\serial_ports.c
006504   6f84     MOVWF     0x84,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                            		// Since we've just removed a byte from the queue, it can't possibly be full. C:\2007 final code\serial_ports.c
                                           		// Again, this is quicker than using an if() statement every time              C:\2007 final code\serial_ports.c
006506   6b83     CLRF      0x83,0x1       		Tx_1_Queue_Full = FALSE;                                                       C:\2007 final code\serial_ports.c
                                           	}                                                                               C:\2007 final code\serial_ports.c
006508   0012     RETURN    0x0            }                                                                                C:\2007 final code\serial_ports.c
                                           #endif                                                                           C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           /******************************************************************************* C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	FUNCTION:		Tx_2_Int_Handler()                                                  C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PURPOSE:		Serial port two empty transmit buffer interrupt handler.		           C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	CALLED FROM:	user_routines_fast()                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PARAMETERS:		None                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	COMMENTS:		If the interrupt handler was installed correctly, this              C:\2007 final code\serial_ports.c
                                           *					function will be called every time serial port two is                      C:\2007 final code\serial_ports.c
                                           *					ready to start sending a byte of data.                                     C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *					This function will not be included in the build unless                     C:\2007 final code\serial_ports.c
                                           *					ENABLE_SERIAL_PORT_TWO_TX is #define'd in serial_ports.h 			               C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *******************************************************************************/ C:\2007 final code\serial_ports.c
                                           #ifdef ENABLE_SERIAL_PORT_TWO_TX                                                 C:\2007 final code\serial_ports.c
                                           void Tx_2_Int_Handler(void)                                                      C:\2007 final code\serial_ports.c
                                           {                                                                                C:\2007 final code\serial_ports.c
00650a   0103     MOVLB     0x3            	if(Tx_2_Queue_Empty)                                                            C:\2007 final code\serial_ports.c
00650c   5190     MOVF      0x90,0x0,0x1                                                                                    
00650e   e002     BZ        0x6514                                                                                          
                                           	{                                                                               C:\2007 final code\serial_ports.c
                                           		// just turn off the serial port interrupt if we don't have data to send.      C:\2007 final code\serial_ports.c
                                           		// the interrupt will be re-enabled within the Send_Byte() function when       C:\2007 final code\serial_ports.c
                                           		// more data is sent.                                                          C:\2007 final code\serial_ports.c
006510   98a3     BCF       0xa3,0x4,0x0   		PIE3bits.TX2IE = 0;                                                            C:\2007 final code\serial_ports.c
                                           	}                                                                               C:\2007 final code\serial_ports.c
006512   0012     RETURN    0x0            	else                                                                            C:\2007 final code\serial_ports.c
                                           	{                                                                               C:\2007 final code\serial_ports.c
                                           		// get a byte from the circular queue and send it to the USART                 C:\2007 final code\serial_ports.c
006514   5191     MOVF      0x91,0x0,0x1   		TXREG2 = Tx_2_Queue[Tx_2_Queue_Read_Index];                                    C:\2007 final code\serial_ports.c
006516   6aea     CLRF      0xea,0x0                                                                                        
006518   0f60     ADDLW     0x60                                                                                            
00651a   6ee9     MOVWF     0xe9,0x0                                                                                        
00651c   0e01     MOVLW     0x1                                                                                             
00651e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006520   50ef     MOVF      0xef,0x0,0x0                                                                                    
006522   6e6d     MOVWF     0x6d,0x0                                                                                        
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// decrement the queue byte count                                              C:\2007 final code\serial_ports.c
006524   0793     DECF      0x93,0x1,0x1   		Tx_2_Queue_Byte_Count--;                                                       C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// increment the read pointer                                                  C:\2007 final code\serial_ports.c
006526   2b91     INCF      0x91,0x1,0x1   		Tx_2_Queue_Read_Index++;                                                       C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// If the index pointer overflowed, cut-off the high-order bit. Doing this     C:\2007 final code\serial_ports.c
                                           		// every time is quicker than checking for overflow every time with an if()    C:\2007 final code\serial_ports.c
                                           		// statement and only then occasionally setting it back to zero. For this      C:\2007 final code\serial_ports.c
                                           		// to work, the queue size must be a power of 2 (e.g., 16,32,64,128...).       C:\2007 final code\serial_ports.c
006528   0e1f     MOVLW     0x1f           		Tx_2_Queue_Read_Index &= TX_2_QUEUE_INDEX_MASK;                                C:\2007 final code\serial_ports.c
00652a   1791     ANDWF     0x91,0x1,0x1                                                                                    
                                                                                                                            C:\2007 final code\serial_ports.c
                                           		// is the circular queue now empty?                                            C:\2007 final code\serial_ports.c
00652c   5192     MOVF      0x92,0x0,0x1   		if(Tx_2_Queue_Read_Index == Tx_2_Queue_Write_Index)                            C:\2007 final code\serial_ports.c
00652e   5d91     SUBWF     0x91,0x0,0x1                                                                                    
006530   e102     BNZ       0x6536                                                                                          
                                           		{                                                                              C:\2007 final code\serial_ports.c
006532   0e01     MOVLW     0x1            			Tx_2_Queue_Empty = TRUE;                                                      C:\2007 final code\serial_ports.c
006534   6f90     MOVWF     0x90,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                            		// Since we've just removed a byte from the queue, it can't possibly be full. C:\2007 final code\serial_ports.c
                                           		// Again, this is quicker than using an if() statement every time              C:\2007 final code\serial_ports.c
006536   6b8f     CLRF      0x8f,0x1       		Tx_2_Queue_Full = FALSE;                                                       C:\2007 final code\serial_ports.c
                                           	}                                                                               C:\2007 final code\serial_ports.c
006538   0012     RETURN    0x0            }                                                                                C:\2007 final code\serial_ports.c
                                           #endif                                                                           C:\2007 final code\serial_ports.c
                                                                                                                            C:\2007 final code\serial_ports.c
                                           /******************************************************************************* C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	FUNCTION:		_user_putc()                                                        C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PURPOSE:		putc() interface to C18 2.4 output stream functions		                C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	PARAMETERS:		None                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *	COMMENTS:			                                                                   C:\2007 final code\serial_ports.c
                                           *                                                                                C:\2007 final code\serial_ports.c
                                           *******************************************************************************/ C:\2007 final code\serial_ports.c
00653a   d817     RCALL     0x656a         void _user_putc(unsigned char byte)                                              C:\2007 final code\serial_ports.c
                                           {                                                                                C:\2007 final code\serial_ports.c
00653c   0103     MOVLB     0x3            	if(stdout_serial_port == NUL)                                                   C:\2007 final code\serial_ports.c
00653e   517b     MOVF      0x7b,0x0,0x1                                                                                    
006540   e00f     BZ        0x6560                                                                                          
                                           	{                                                                               C:\2007 final code\serial_ports.c
                                           		// send the data to the bit bucket                                             C:\2007 final code\serial_ports.c
                                           	}                                                                               C:\2007 final code\serial_ports.c
                                           	#ifdef ENABLE_SERIAL_PORT_ONE_TX                                                C:\2007 final code\serial_ports.c
006542   057b     DECF      0x7b,0x0,0x1   	else if(stdout_serial_port == SERIAL_PORT_ONE)                                  C:\2007 final code\serial_ports.c
006544   e105     BNZ       0x6550                                                                                          
                                           	{                                                                               C:\2007 final code\serial_ports.c
                                           		// send the data to serial port one                                            C:\2007 final code\serial_ports.c
006546   0efe     MOVLW     0xfe           		Write_Serial_Port_One(byte);                                                   C:\2007 final code\serial_ports.c
006548   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00654a   ffe6                                                                                                               
00654c   df54     RCALL     0x63f6                                                                                          
                                           	}                                                                               C:\2007 final code\serial_ports.c
                                           	#endif                                                                          C:\2007 final code\serial_ports.c
                                           	#ifdef ENABLE_SERIAL_PORT_TWO_TX                                                C:\2007 final code\serial_ports.c
00654e   d007     BRA       0x655e         	else if(stdout_serial_port == SERIAL_PORT_TWO)                                  C:\2007 final code\serial_ports.c
006550   0e02     MOVLW     0x2                                                                                             
006552   5d7b     SUBWF     0x7b,0x0,0x1                                                                                    
006554   e105     BNZ       0x6560                                                                                          
                                           	{                                                                               C:\2007 final code\serial_ports.c
                                           		// send the data to serial port two                                            C:\2007 final code\serial_ports.c
006556   0efe     MOVLW     0xfe           		Write_Serial_Port_Two(byte);                                                   C:\2007 final code\serial_ports.c
006558   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00655a   ffe6                                                                                                               
00655c   df66     RCALL     0x642a                                                                                          
00655e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           	}                                                                               C:\2007 final code\serial_ports.c
                                           	#endif                                                                          C:\2007 final code\serial_ports.c
006560   d000     BRA       0x6562         }                                                                                C:\2007 final code\serial_ports.c
006562   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006564   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
006566   ffd9                                                                                                               
006568   0012     RETURN    0x0                                                                                             
                                           #include <stdio.h>                                                               C:\2007 final code\eeprom.c
                                           #include <math.h>                                                                C:\2007 final code\eeprom.c
                                           #include <string.h>                                                              C:\2007 final code\eeprom.c
                                           #include "ifi_aliases.h"                                                         C:\2007 final code\eeprom.c
                                           #include "ifi_default.h"                                                         C:\2007 final code\eeprom.c
                                           #include "ifi_utilities.h"                                                       C:\2007 final code\eeprom.c
                                           #include "user_routines.h"                                                       C:\2007 final code\eeprom.c
                                           #include "eeprom.h"                                                              C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
                                           unsigned char eeprom_queue_count = 0;    				//amount of writes that must be done C:\2007 final code\eeprom.c
                                           unsigned char eeprom_queue_full = 0;					//is the eeprom full? 0 is false and 1 is true C:\2007 final code\eeprom.c
                                           unsigned char eeprom_queue_empty = 1;					//is the eeprom empty? 0 is false and 1 is true C:\2007 final code\eeprom.c
                                           unsigned char eeprom_write_slot = 0;						//the slot                             C:\2007 final code\eeprom.c
                                           unsigned char eeprom_prep_slot = 0;						//current position in the circular array in preperation function C:\2007 final code\eeprom.c
                                           unsigned char eeprom_data[EEPROM_QUEUE_SIZE];                                    C:\2007 final code\eeprom.c
                                           unsigned int eeprom_address[EEPROM_QUEUE_SIZE];                                  C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
                                           /***********************************************************************         C:\2007 final code\eeprom.c
                                           Created by: 	Steven Shidlovsky - General coding and debugging                    C:\2007 final code\eeprom.c
                                           				Per - Mentor                                                                 C:\2007 final code\eeprom.c
                                           Date modified:  1-18-06                                                          C:\2007 final code\eeprom.c
                                           Function name:  EEPROM_read                                                      C:\2007 final code\eeprom.c
                                           Parameters:     unsigned int address = slot of EEPROM memory to be read          C:\2007 final code\eeprom.c
                                           Returns: 		EEDATA               = the data stored in that piece of memory        C:\2007 final code\eeprom.c
                                           Purpose: To allows the EEPROM memory to be read.                                 C:\2007 final code\eeprom.c
                                           Notes: Information on EEPROM is on pg 111 of the controller manual and register information  C:\2007 final code\eeprom.c
                                           	   can be found on pg 112 of the manual.                                        C:\2007 final code\eeprom.c
                                           **********************************************************************/          C:\2007 final code\eeprom.c
006b30   d89c     RCALL     0x6c6a         unsigned char EEPROM_read(unsigned int address)                                  C:\2007 final code\eeprom.c
                                           {                                                                                C:\2007 final code\eeprom.c
006b32   9ea6     BCF       0xa6,0x7,0x0       EECON1bits.EEPGD = 0;										//access the data from EEPROM instead of flash										//access the EEPROM, DO NOT try to recalibrate them C:\2007 final code\eeprom.c
                                               		 			                                                                       C:\2007 final code\eeprom.c
006b34   0efe     MOVLW     0xfe           	EEADRH = ((unsigned char)(((unsigned int)(address)>>8)&0xFF));	//sets most significant byte to address C:\2007 final code\eeprom.c
006b36   cfdb     MOVFF     0xfdb,0x2c                                                                                      
006b38   f02c                                                                                                               
006b3a   c02c     MOVFF     0x2c,0x2b                                                                                       
006b3c   f02b                                                                                                               
006b3e   502c     MOVF      0x2c,0x0,0x0                                                                                    
006b40   6eaa     MOVWF     0xaa,0x0                                                                                        
006b42   0efd     MOVLW     0xfd           	EEADR  = ((unsigned char) (address));							//sets least signigicant byte to address C:\2007 final code\eeprom.c
006b44   50db     MOVF      0xdb,0x0,0x0                                                                                    
006b46   6ea9     MOVWF     0xa9,0x0                                                                                        
                                                                                                                            C:\2007 final code\eeprom.c
006b48   80a6     BSF       0xa6,0x0,0x0   	EECON1bits.RD = 1;											//Begin reading at the set address, this will be cleared by hardware C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
006b4a   50a8     MOVF      0xa8,0x0,0x0   	return(EEDATA);												//return the data                                    C:\2007 final code\eeprom.c
006b4c   d093     BRA       0x6c74         }                                                                                C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
                                           /***********************************************************************         C:\2007 final code\eeprom.c
                                           Created by: 	Steven Shidlovsky - General coding and debugging                    C:\2007 final code\eeprom.c
                                           				Per - Mentor                                                                 C:\2007 final code\eeprom.c
                                           Date modified:  1-18-06                                                          C:\2007 final code\eeprom.c
                                           Function name:  EEPROM_prep                                                      C:\2007 final code\eeprom.c
                                           Parameters:     unsigned int address = slot of EEPROM memory to be read          C:\2007 final code\eeprom.c
                                           				unsigned char data   = data to be put into the EEPROM                        C:\2007 final code\eeprom.c
                                           Returns: 		pf                   = has the function passed or failed? 0 is failed 1 is passed C:\2007 final code\eeprom.c
                                           Purpose: To prepare data to be written to EEPROM                                 C:\2007 final code\eeprom.c
                                           Notes: Information on EEPROM is on pg 111 of the controller manual and register information  C:\2007 final code\eeprom.c
                                           	   can be found on pg 112 of the manual.                                        C:\2007 final code\eeprom.c
                                           **********************************************************************/          C:\2007 final code\eeprom.c
006b4e   d88d     RCALL     0x6c6a         unsigned char EEPROM_prep(unsigned int address, unsigned char data)              C:\2007 final code\eeprom.c
006b50   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\eeprom.c
                                           unsigned char pf;												//used to determine if the function has passed or failed C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
006b52   0103     MOVLB     0x3                if(eeprom_queue_full ==  0)									//is the eeprom_queue full?			           C:\2007 final code\eeprom.c
006b54   51fb     MOVF      0xfb,0x0,0x1                                                                                    
006b56   e11e     BNZ       0x6b94                                                                                          
                                               {															//if not full, then beginning preparing the new data         C:\2007 final code\eeprom.c
006b58   51fe     MOVF      0xfe,0x0,0x1           eeprom_data[eeprom_prep_slot] = data;					//move data into the eeprom data array C:\2007 final code\eeprom.c
006b5a   6aea     CLRF      0xea,0x0                                                                                        
006b5c   0f00     ADDLW     0x0                                                                                             
006b5e   6ee9     MOVWF     0xe9,0x0                                                                                        
006b60   0e02     MOVLW     0x2                                                                                             
006b62   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006b64   0efc     MOVLW     0xfc                                                                                            
006b66   cfdb     MOVFF     0xfdb,0xfef                                                                                     
006b68   ffef                                                                                                               
006b6a   51fe     MOVF      0xfe,0x0,0x1   		eeprom_address[eeprom_prep_slot] = address;				//move address into the address slot of the array C:\2007 final code\eeprom.c
006b6c   d86b     RCALL     0x6c44                                                                                          
006b6e   0efd     MOVLW     0xfd                                                                                            
006b70   cfdb     MOVFF     0xfdb,0xfee                                                                                     
006b72   ffee                                                                                                               
006b74   0efe     MOVLW     0xfe                                                                                            
006b76   cfdb     MOVFF     0xfdb,0xfed                                                                                     
006b78   ffed                                                                                                               
                                                                                                                            C:\2007 final code\eeprom.c
006b7a   2bfa     INCF      0xfa,0x1,0x1   		eeprom_queue_count++;									//the number of incoming writes in the queue has increased C:\2007 final code\eeprom.c
                                           	                                                                                C:\2007 final code\eeprom.c
006b7c   2bfe     INCF      0xfe,0x1,0x1   		eeprom_prep_slot++;										//move foward one prep slot in the array so the next data entered will not overwrite the  C:\2007 final code\eeprom.c
                                           																//the previous data							                                       C:\2007 final code\eeprom.c
                                           	                                                                                C:\2007 final code\eeprom.c
                                           		// If the index pointer overflowed, cut-off the high-order bit. Doing this     C:\2007 final code\eeprom.c
                                           		// every time is quicker than checking for overflow every time with an if()    C:\2007 final code\eeprom.c
                                           		// statement and only then occasionally setting it back to zero. For this      C:\2007 final code\eeprom.c
                                           		// to work, the queue size must be a power of 2 (e.g., 16,32,64,128...).       C:\2007 final code\eeprom.c
006b7e   0e1f     MOVLW     0x1f           		eeprom_prep_slot &= EEPROM_QUEUE_INDEX_MASK;			//see documentation for full details C:\2007 final code\eeprom.c
006b80   17fe     ANDWF     0xfe,0x1,0x1                                                                                    
                                           	                                                                                C:\2007 final code\eeprom.c
                                           		// is the circular queue now full?                                             C:\2007 final code\eeprom.c
006b82   51fe     MOVF      0xfe,0x0,0x1   		if(eeprom_write_slot == eeprom_prep_slot)	//is the number of read slots the same as the number of write spots? C:\2007 final code\eeprom.c
006b84   5dfd     SUBWF     0xfd,0x0,0x1                                                                                    
006b86   e102     BNZ       0x6b8c                                                                                          
                                           		{                                                                              C:\2007 final code\eeprom.c
006b88   0e01     MOVLW     0x1            				eeprom_queue_full = 1;							//then the queue is full                        C:\2007 final code\eeprom.c
006b8a   6ffb     MOVWF     0xfb,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\eeprom.c
                                           	                                                                                C:\2007 final code\eeprom.c
006b8c   6bfc     CLRF      0xfc,0x1       		eeprom_queue_empty = 0;									//it can't be empty now that we added something C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
006b8e   0e01     MOVLW     0x1            	    pf = 1;													//the function has passed                               C:\2007 final code\eeprom.c
006b90   6edf     MOVWF     0xdf,0x0                                                                                        
                                               }                                                                            C:\2007 final code\eeprom.c
006b92   d001     BRA       0x6b96             else														//if the queue was full and had no room for more data      C:\2007 final code\eeprom.c
                                               {                                                                            C:\2007 final code\eeprom.c
006b94   6adf     CLRF      0xdf,0x0       	    pf = 0;													//the function has failed                               C:\2007 final code\eeprom.c
                                           	}                                                                               C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
006b96   50df     MOVF      0xdf,0x0,0x0      return pf;													//return to caller the result of this function         C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
006b98   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\eeprom.c
006b9a   d06c     BRA       0x6c74                                                                                          
                                                                                                                            C:\2007 final code\eeprom.c
                                           /***********************************************************************         C:\2007 final code\eeprom.c
                                           Created by: 	Robert Harris - Debugging                                           C:\2007 final code\eeprom.c
                                           				Sarah Judd - Debugging                                                       C:\2007 final code\eeprom.c
                                           				Steven Shidlovsky - General coding and debugging                             C:\2007 final code\eeprom.c
                                           				Per - Mentor                                                                 C:\2007 final code\eeprom.c
                                           Date modified:  1-18-06                                                          C:\2007 final code\eeprom.c
                                           Function name:  EEPROM_write                                                     C:\2007 final code\eeprom.c
                                           Parameters:     none                                                             C:\2007 final code\eeprom.c
                                           Returns: 	    none                                                               C:\2007 final code\eeprom.c
                                           Purpose: To write data to EEPROM                                                 C:\2007 final code\eeprom.c
                                           Notes: Information on EEPROM is on pg 111 of the controller manual and register information  C:\2007 final code\eeprom.c
                                           	   can be found on pg 112 of the manual.                                        C:\2007 final code\eeprom.c
                                           **********************************************************************/          C:\2007 final code\eeprom.c
006b9c   d866     RCALL     0x6c6a         void EEPROM_write(void)                                                          C:\2007 final code\eeprom.c
006b9e   0e02     MOVLW     0x2                                                                                             
006ba0   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
006c6a   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
006c6c   ffe6                                                                                                               
006c6e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
006c70   ffd9                                                                                                               
006c72   0012     RETURN    0x0                                                                                             
                                           {                                                                                C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
                                               unsigned char temp_GIEH;									//holds state of global interrupt activation C:\2007 final code\eeprom.c
                                           	unsigned char temp_GIEL;									//holds state of interrupt actition            C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
006ba2   0103     MOVLB     0x3            	if(eeprom_queue_empty == 0)									//is the queue empty? if not, time to write C:\2007 final code\eeprom.c
006ba4   51fc     MOVF      0xfc,0x0,0x1                                                                                    
006ba6   e14b     BNZ       0x6c3e                                                                                          
                                           	{                                                                               C:\2007 final code\eeprom.c
006ba8   50f2     MOVF      0xf2,0x0,0x0   	    temp_GIEH = INTCONbits.GIEH;							//save the current status of the global interrupt status C:\2007 final code\eeprom.c
006baa   0b80     ANDLW     0x80                                                                                            
006bac   e001     BZ        0x6bb0                                                                                          
006bae   0e01     MOVLW     0x1                                                                                             
006bb0   6edf     MOVWF     0xdf,0x0                                                                                        
006bb2   50f2     MOVF      0xf2,0x0,0x0   		temp_GIEL = INTCONbits.GIEL;							//sace the current status of the interrupt status C:\2007 final code\eeprom.c
006bb4   0b40     ANDLW     0x40                                                                                            
006bb6   e001     BZ        0x6bba                                                                                          
006bb8   0e01     MOVLW     0x1                                                                                             
006bba   6ee7     MOVWF     0xe7,0x0                                                                                        
006bbc   0e01     MOVLW     0x1                                                                                             
006bbe   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
006bc0   ffdb                                                                                                               
                                           	                                                                                C:\2007 final code\eeprom.c
006bc2   9ea6     BCF       0xa6,0x7,0x0   		EECON1bits.EEPGD = 0;									//Access EEPROM data memory instead of FLASH     C:\2007 final code\eeprom.c
                                           		                                                                               C:\2007 final code\eeprom.c
006bc4   98a6     BCF       0xa6,0x4,0x0   		EECON1bits.FREE = 0;									//perform a write only                            C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
006bc6   98a1     BCF       0xa1,0x4,0x0   		PIR2bits.EEIF = 0;										//clear the write completion flag                  C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
006bc8   51fd     MOVF      0xfd,0x0,0x1   		EEADR = ((unsigned char)(eeprom_address[eeprom_write_slot]));  //Sarah: placing the address in the place in EEPROM that will hold it C:\2007 final code\eeprom.c
006bca   d83c     RCALL     0x6c44                                                                                          
006bcc   50ef     MOVF      0xef,0x0,0x0                                                                                    
006bce   6ea9     MOVWF     0xa9,0x0                                                                                        
006bd0   51fd     MOVF      0xfd,0x0,0x1   		EEADRH = ((unsigned char)(((unsigned int)(eeprom_address[eeprom_write_slot])>>8)&0xFF)); //Sarah: Places the address in the place in EEPROM to hold it                                                                                   //first must be moved back eight places C:\2007 final code\eeprom.c
006bd2   d838     RCALL     0x6c44                                                                                          
006bd4   cfee     MOVFF     0xfee,0x2b                                                                                      
006bd6   f02b                                                                                                               
006bd8   cfef     MOVFF     0xfef,0x2c                                                                                      
006bda   f02c                                                                                                               
006bdc   c02c     MOVFF     0x2c,0x2b                                                                                       
006bde   f02b                                                                                                               
006be0   6a2c     CLRF      0x2c,0x0                                                                                        
006be2   502b     MOVF      0x2b,0x0,0x0                                                                                    
006be4   6eaa     MOVWF     0xaa,0x0                                                                                        
006c44   6ee9     MOVWF     0xe9,0x0                                                                                        
006c46   6aea     CLRF      0xea,0x0                                                                                        
006c48   90d8     BCF       0xd8,0x0,0x0                                                                                    
006c4a   36e9     RLCF      0xe9,0x1,0x0                                                                                    
006c4c   36ea     RLCF      0xea,0x1,0x0                                                                                    
006c4e   0e20     MOVLW     0x20                                                                                            
006c50   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006c52   0e02     MOVLW     0x2                                                                                             
006c54   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006c56   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\eeprom.c
006be6   51fd     MOVF      0xfd,0x0,0x1   		EEDATA = eeprom_data[eeprom_write_slot]; 				//Move data to loading platform for EEPROM C:\2007 final code\eeprom.c
006be8   6aea     CLRF      0xea,0x0                                                                                        
006bea   0f00     ADDLW     0x0                                                                                             
006bec   6ee9     MOVWF     0xe9,0x0                                                                                        
006bee   0e02     MOVLW     0x2                                                                                             
006bf0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006bf2   50ef     MOVF      0xef,0x0,0x0                                                                                    
006bf4   6ea8     MOVWF     0xa8,0x0                                                                                        
                                                                                                                            C:\2007 final code\eeprom.c
006bf6   84a6     BSF       0xa6,0x2,0x0   		EECON1bits.WREN = 1;									//Allow a write. ONLY keep on during writethis write! IMPORTATNT  C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
006bf8   9ef2     BCF       0xf2,0x7,0x0   		INTCONbits.GIEH = 0;									//turn off interrupts		                           C:\2007 final code\eeprom.c
006bfa   9cf2     BCF       0xf2,0x6,0x0   		INTCONbits.GIEL = 0;									//turn off interrupt                              C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
                                           		/*The next three lines of code MUST be completed exactly in this order. This is why the interrupts are disabled for this section, C:\2007 final code\eeprom.c
                                           		  to ensure that nothing blocks these lines. */                                C:\2007 final code\eeprom.c
006bfc   0e55     MOVLW     0x55           		EECON2 = 0x55;											//pre-write sequence                                  C:\2007 final code\eeprom.c
006bfe   6ea7     MOVWF     0xa7,0x0                                                                                        
006c00   0eaa     MOVLW     0xaa           		EECON2 = 0xAA;											//pre-write sequence                                  C:\2007 final code\eeprom.c
006c02   6ea7     MOVWF     0xa7,0x0                                                                                        
006c04   82a6     BSF       0xa6,0x1,0x0   		EECON1bits.WR  = 1; 									//begin writing to the eeprom, will be cleared in hardware C:\2007 final code\eeprom.c
                                           	                                                                                C:\2007 final code\eeprom.c
006c06   50df     MOVF      0xdf,0x0,0x0   		INTCONbits.GIEH = temp_GIEH;							//restore global interrupts to their correct states C:\2007 final code\eeprom.c
006c08   d827     RCALL     0x6c58                                                                                          
006c0a   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
006c0c   0e7f     MOVLW     0x7f                                                                                            
006c0e   14f2     ANDWF     0xf2,0x0,0x0                                                                                    
006c10   10f3     IORWF     0xf3,0x0,0x0                                                                                    
006c12   6ef2     MOVWF     0xf2,0x0                                                                                        
006c58   0b01     ANDLW     0x1                                                                                             
006c5a   6ef3     MOVWF     0xf3,0x0                                                                                        
006c5c   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
006c5e   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
006c60   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
006c62   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
006c64   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
006c66   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
006c68   0012     RETURN    0x0                                                                                             
006c14   0e01     MOVLW     0x1            		INTCONbits.GIEL = temp_GIEL;							//restore interrupts to their correct states C:\2007 final code\eeprom.c
006c16   50db     MOVF      0xdb,0x0,0x0                                                                                    
006c18   d81f     RCALL     0x6c58                                                                                          
006c1a   0ebf     MOVLW     0xbf                                                                                            
006c1c   14f2     ANDWF     0xf2,0x0,0x0                                                                                    
006c1e   10f3     IORWF     0xf3,0x0,0x0                                                                                    
006c20   6ef2     MOVWF     0xf2,0x0                                                                                        
                                                                                                                            C:\2007 final code\eeprom.c
006c22   07fa     DECF      0xfa,0x1,0x1   		eeprom_queue_count--;									//the number of items to write is now 1 less     C:\2007 final code\eeprom.c
006c24   2bfd     INCF      0xfd,0x1,0x1   		eeprom_write_slot++;									//move to the next write slot                     C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
006c26   0e1f     MOVLW     0x1f           		eeprom_write_slot &= EEPROM_QUEUE_INDEX_MASK;  //Sarah: (gets this because Per explained it, but can't re-explain it) C:\2007 final code\eeprom.c
006c28   17fd     ANDWF     0xfd,0x1,0x1                                                                                    
                                                                                                                            C:\2007 final code\eeprom.c
006c2a   51fe     MOVF      0xfe,0x0,0x1   	if(eeprom_write_slot == eeprom_prep_slot)  					//if the read slot has caught up with the write slot, stop C:\2007 final code\eeprom.c
006c2c   5dfd     SUBWF     0xfd,0x0,0x1                                                                                    
006c2e   e102     BNZ       0x6c34                                                                                          
                                           		{                                                                              C:\2007 final code\eeprom.c
006c30   0e01     MOVLW     0x1            			eeprom_queue_empty = 1;								//informs computer the queue is now empty      C:\2007 final code\eeprom.c
006c32   6ffc     MOVWF     0xfc,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
006c34   6bfb     CLRF      0xfb,0x1       	eeprom_queue_full = 0;										//a write has finished so the queue can not be full C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
006c36   a8a1     BTFSS     0xa1,0x4,0x0   	while(PIR2bits.EEIF == 0);									//wait for the write to be complete          C:\2007 final code\eeprom.c
006c38   d7fe     BRA       0x6c36                                                                                          
                                                                                                                            C:\2007 final code\eeprom.c
006c3a   98a1     BCF       0xa1,0x4,0x0   	PIR2bits.EEIF = 0;											//clear the EEPROM complete flag										         C:\2007 final code\eeprom.c
                                                                                                                            C:\2007 final code\eeprom.c
006c3c   94a6     BCF       0xa6,0x2,0x0   	EECON1bits.WREN = 0;										//do not allow writes to EEPROM to continue       C:\2007 final code\eeprom.c
                                           	}                                                                               C:\2007 final code\eeprom.c
006c3e   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\eeprom.c
006c40   ffe1                                                                                                               
006c42   d018     BRA       0x6c74                                                                                          
006c74   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006c76   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
006c78   ffd9                                                                                                               
006c7a   0012     RETURN    0x0                                                                                             
                                           /******************************************************************************* C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *	TITLE:		terminal.c                                                             C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *	VERSION:	0.1 (Beta)                                                            C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *	DATE:		25-Nov-2005                                                             C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *	AUTHOR:		R. Kevin Watson                                                       C:\2007 final code\terminal.c
                                           *				kevinw@jpl.nasa.gov                                                         C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *	COMMENTS:	You are free to use this source code for any non-commercial          C:\2007 final code\terminal.c
                                           *				use. Please do not make copies of this source code, modified                C:\2007 final code\terminal.c
                                           *				or un-modified, publicly available on the internet or elsewhere             C:\2007 final code\terminal.c
                                           *				without permission. Thanks.                                                 C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *				Copyright 2005-2006 R. Kevin Watson. All rights are reserved.              C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           ******************************************************************************** C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *	CHANGE LOG:                                                                    C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *	DATE         REV  DESCRIPTION                                                  C:\2007 final code\terminal.c
                                           *	-----------  ---  ----------------------------------------------------------   C:\2007 final code\terminal.c
                                           *	25-Nov-2005  0.1  RKW - Original code.                                         C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *******************************************************************************/ C:\2007 final code\terminal.c
                                           #include <stdio.h>                                                               C:\2007 final code\terminal.c
                                           #include "ifi_aliases.h"                                                         C:\2007 final code\terminal.c
                                           #include "ifi_default.h"                                                         C:\2007 final code\terminal.c
                                           #include "camera.h"                                                              C:\2007 final code\terminal.c
                                           //#include "tracking.h"                                                          C:\2007 final code\terminal.c
                                                                                                                            C:\2007 final code\terminal.c
                                           /******************************************************************************* C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *	FUNCTION:		Tracking_Info_Terminal()                                            C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *	PURPOSE:		This function is designed to send tracking information               C:\2007 final code\terminal.c
                                           *					to a terminal attached to your robot controller's                          C:\2007 final code\terminal.c
                                           *					programming port.                                                          C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *	CALLED FROM:	user_routines.c/Process_Data_From_Master_uP()                     C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *	PARAMETERS:		none                                                              C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *	RETURNS:		nothing                                                              C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *	COMMENTS:		This code assumes that the terminal serial port is                  C:\2007 final code\terminal.c
                                           *					properly set in camera.h                                                   C:\2007 final code\terminal.c
                                           *                                                                                C:\2007 final code\terminal.c
                                           *******************************************************************************/ C:\2007 final code\terminal.c
                                           void Tracking_Info_Terminal(void)                                                C:\2007 final code\terminal.c
                                           {                                                                                C:\2007 final code\terminal.c
                                           	static unsigned char count = 0;                                                 C:\2007 final code\terminal.c
                                           	static unsigned int old_camera_t_packets = 0;                                   C:\2007 final code\terminal.c
                                                                                                                            C:\2007 final code\terminal.c
                                           	// has a new camera tracking packet arrived since we last checked?              C:\2007 final code\terminal.c
007242   0104     MOVLB     0x4            	if(camera_t_packets != old_camera_t_packets)                                    C:\2007 final code\terminal.c
007244   5113     MOVF      0x13,0x0,0x1                                                                                    
007246   0103     MOVLB     0x3                                                                                             
007248   19e6     XORWF     0xe6,0x0,0x1                                                                                    
00724a   e104     BNZ       0x7254                                                                                          
00724c   0104     MOVLB     0x4                                                                                             
00724e   5114     MOVF      0x14,0x0,0x1                                                                                    
007250   0103     MOVLB     0x3                                                                                             
007252   19e7     XORWF     0xe7,0x0,0x1                                                                                    
007254   e008     BZ        0x7266                                                                                          
                                           	{                                                                               C:\2007 final code\terminal.c
007256   0104     MOVLB     0x4            		count++;                                                                       C:\2007 final code\terminal.c
007258   2b12     INCF      0x12,0x1,0x1                                                                                    
                                                                                                                            C:\2007 final code\terminal.c
                                           		// only show data on every five t-packets                                      C:\2007 final code\terminal.c
00725a   0e05     MOVLW     0x5            		if(count >= 5)                                                                 C:\2007 final code\terminal.c
00725c   5d12     SUBWF     0x12,0x0,0x1                                                                                    
00725e   e303     BNC       0x7266                                                                                          
                                           		{                                                                              C:\2007 final code\terminal.c
                                           			// reset the counter                                                          C:\2007 final code\terminal.c
007260   6b12     CLRF      0x12,0x1       			count = 0;                                                                    C:\2007 final code\terminal.c
                                                                                                                            C:\2007 final code\terminal.c
                                           			// does the camera have a tracking solution?                                  C:\2007 final code\terminal.c
007262   0103     MOVLB     0x3            			if(T_Packet_Data.my == 0)                                                     C:\2007 final code\terminal.c
007264   5101     MOVF      0x1,0x0,0x1                                                                                     
                                           			{                                                                             C:\2007 final code\terminal.c
                                           //				printf("Searching...\r\n");                                                C:\2007 final code\terminal.c
                                           			}                                                                             C:\2007 final code\terminal.c
                                           			else                                                                          C:\2007 final code\terminal.c
                                           			{                                                                             C:\2007 final code\terminal.c
                                           //				printf("\r\n");                                                            C:\2007 final code\terminal.c
                                                                                                                            C:\2007 final code\terminal.c
                                           				// pan angle = ((current pan PWM) - (pan center PWM)) * degrees/pan PWM step C:\2007 final code\terminal.c
                                           //				printf(" Pan Angle (degrees) = %d\r\n", (((int)PAN_SERVO - 124) * 65)/124); C:\2007 final code\terminal.c
                                                                                                                            C:\2007 final code\terminal.c
                                           				// tilt angle = ((current tilt PWM) - (tilt center PWM)) * degrees/tilt PWM step C:\2007 final code\terminal.c
                                           //				printf("Tilt Angle (degrees) = %d\r\n", (((int)TILT_SERVO - 144) * 25)/50); C:\2007 final code\terminal.c
                                                                                                                            C:\2007 final code\terminal.c
                                           //				printf(" Pan Error (Pixels)  = %d\r\n", (int)T_Packet_Data.mx - PAN_TARGET_PIXEL_DEFAULT); C:\2007 final code\terminal.c
                                           //				printf("Tilt Error (Pixels)  = %d\r\n", (int)T_Packet_Data.my - TILT_TARGET_PIXEL_DEFAULT); C:\2007 final code\terminal.c
                                           //				printf(" Blob Size (Pixels)  = %u\r\n", (unsigned int)T_Packet_Data.pixels); C:\2007 final code\terminal.c
                                           //				printf("Confidence (Pixels)  = %u\r\n", (unsigned int)T_Packet_Data.confidence); C:\2007 final code\terminal.c
                                           			}                                                                             C:\2007 final code\terminal.c
                                           		}                                                                              C:\2007 final code\terminal.c
                                           	}                                                                               C:\2007 final code\terminal.c
007266   0012     RETURN    0x0            }                                                                                C:\2007 final code\terminal.c
                                           #include <stdio.h>                                                               C:\2007 final code\calibrate.c
                                           #include "calibrate.h"                                                           C:\2007 final code\calibrate.c
                                           #include "ifi_aliases.h"                                                         C:\2007 final code\calibrate.c
                                           #include "ifi_utilities.h"                                                       C:\2007 final code\calibrate.c
                                           #include "ifi_default.h"                                                         C:\2007 final code\calibrate.c
                                           #include "user_routines.h"                                                       C:\2007 final code\calibrate.c
                                           #include "encoder.h"                                                             C:\2007 final code\calibrate.c
                                           #include "eeprom.h"                                                              C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                           //absolute value for long                                                        C:\2007 final code\calibrate.c
0029be   cfd9     MOVFF     0xfd9,0xfe6    long abslong(long input)                                                         C:\2007 final code\calibrate.c
0029c0   ffe6                                                                                                               
0029c2   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0029c4   ffd9                                                                                                               
                                           {                                                                                C:\2007 final code\calibrate.c
0029c6   50e1     MOVF      0xe1,0x0,0x0   	if(input < 0)                                                                   C:\2007 final code\calibrate.c
0029c8   0ffb     ADDLW     0xfb                                                                                            
0029ca   6ee9     MOVWF     0xe9,0x0                                                                                        
0029cc   0eff     MOVLW     0xff                                                                                            
0029ce   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0029d0   6eea     MOVWF     0xea,0x0                                                                                        
0029d2   0e03     MOVLW     0x3                                                                                             
0029d4   50eb     MOVF      0xeb,0x0,0x0                                                                                    
0029d6   0a00     XORLW     0x0                                                                                             
0029d8   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0029da   d002     BRA       0x29e0                                                                                          
0029dc   90d8     BCF       0xd8,0x0,0x0                                                                                    
0029de   d008     BRA       0x29f0                                                                                          
0029e0   0e00     MOVLW     0x0                                                                                             
0029e2   5cee     SUBWF     0xee,0x0,0x0                                                                                    
0029e4   0e00     MOVLW     0x0                                                                                             
0029e6   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0029e8   0e00     MOVLW     0x0                                                                                             
0029ea   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0029ec   0e00     MOVLW     0x0                                                                                             
0029ee   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0029f0   e20b     BC        0x2a08                                                                                          
                                           	{                                                                               C:\2007 final code\calibrate.c
0029f2   ec06     CALL      0x320c,0x0     		return (input * -1);                                                           C:\2007 final code\calibrate.c
0029f4   f019                                                                                                               
0029f6   0e00     MOVLW     0x0                                                                                             
0029f8   6c2b     NEGF      0x2b,0x0                                                                                        
0029fa   1e2c     COMF      0x2c,0x1,0x0                                                                                    
0029fc   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
0029fe   1e2d     COMF      0x2d,0x1,0x0                                                                                    
002a00   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
002a02   1e2e     COMF      0x2e,0x1,0x0                                                                                    
002a04   222e     ADDWFC    0x2e,0x1,0x0                                                                                    
002a06   d002     BRA       0x2a0c                                                                                          
00320c   0efb     MOVLW     0xfb                                                                                            
00320e   cfdb     MOVFF     0xfdb,0x2b                                                                                      
003210   f02b                                                                                                               
003212   0efc     MOVLW     0xfc                                                                                            
003214   cfdb     MOVFF     0xfdb,0x2c                                                                                      
003216   f02c                                                                                                               
003218   0efd     MOVLW     0xfd                                                                                            
00321a   cfdb     MOVFF     0xfdb,0x2d                                                                                      
00321c   f02d                                                                                                               
00321e   0efe     MOVLW     0xfe                                                                                            
003220   cfdb     MOVFF     0xfdb,0x2e                                                                                      
003222   f02e                                                                                                               
003224   0012     RETURN    0x0                                                                                             
                                           	}                                                                               C:\2007 final code\calibrate.c
002a08   ec06     CALL      0x320c,0x0     	return input;                                                                   C:\2007 final code\calibrate.c
002a0a   f019                                                                                                               
002a0c   c02b     MOVFF     0x2b,0x1b                                                                                       
002a0e   f01b                                                                                                               
002a10   c02c     MOVFF     0x2c,0x1c                                                                                       
002a12   f01c                                                                                                               
002a14   c02d     MOVFF     0x2d,0x1d                                                                                       
002a16   f01d                                                                                                               
002a18   c02e     MOVFF     0x2e,0x1e                                                                                       
002a1a   f01e                                                                                                               
002a1c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\calibrate.c
002a1e   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
002a20   ffd9                                                                                                               
002a22   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
002a24   cfd9     MOVFF     0xfd9,0xfe6    void calibrate_two_at_a_time(void)                                               C:\2007 final code\calibrate.c
002a26   ffe6                                                                                                               
002a28   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
002a2a   ffd9                                                                                                               
002a2c   0e24     MOVLW     0x24                                                                                            
002a2e   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\calibrate.c
                                           	//maximum clicks per given period of time for each motor                        C:\2007 final code\calibrate.c
                                           	//[front-back][left-right][speed]                                               C:\2007 final code\calibrate.c
                                           	static long clicks[2][2][8];                                                    C:\2007 final code\calibrate.c
                                           	                                                                                C:\2007 final code\calibrate.c
                                           	//compensations, we store this in EEPROM                                        C:\2007 final code\calibrate.c
                                           	char offset[2][2][8] = {                                                        C:\2007 final code\calibrate.c
                                           		{                                                                              C:\2007 final code\calibrate.c
002a30   6adf     CLRF      0xdf,0x0       			{0,0,0,0,0,0,0,0}, {0,0,0,0,0,0,0,0}                                          C:\2007 final code\calibrate.c
002a32   0e01     MOVLW     0x1                                                                                             
002a34   6adb     CLRF      0xdb,0x0                                                                                        
002a36   0e02     MOVLW     0x2                                                                                             
002a38   6adb     CLRF      0xdb,0x0                                                                                        
002a3a   0e03     MOVLW     0x3                                                                                             
002a3c   6adb     CLRF      0xdb,0x0                                                                                        
002a3e   0e04     MOVLW     0x4                                                                                             
002a40   6adb     CLRF      0xdb,0x0                                                                                        
002a42   0e05     MOVLW     0x5                                                                                             
002a44   6adb     CLRF      0xdb,0x0                                                                                        
002a46   0e06     MOVLW     0x6                                                                                             
002a48   6adb     CLRF      0xdb,0x0                                                                                        
002a4a   0e07     MOVLW     0x7                                                                                             
002a4c   6adb     CLRF      0xdb,0x0                                                                                        
002a4e   0e08     MOVLW     0x8                                                                                             
002a50   6adb     CLRF      0xdb,0x0                                                                                        
002a52   0e09     MOVLW     0x9                                                                                             
002a54   6adb     CLRF      0xdb,0x0                                                                                        
002a56   0e0a     MOVLW     0xa                                                                                             
002a58   6adb     CLRF      0xdb,0x0                                                                                        
002a5a   0e0b     MOVLW     0xb                                                                                             
002a5c   6adb     CLRF      0xdb,0x0                                                                                        
002a5e   0e0c     MOVLW     0xc                                                                                             
002a60   6adb     CLRF      0xdb,0x0                                                                                        
002a62   0e0d     MOVLW     0xd                                                                                             
002a64   6adb     CLRF      0xdb,0x0                                                                                        
002a66   0e0e     MOVLW     0xe                                                                                             
002a68   6adb     CLRF      0xdb,0x0                                                                                        
002a6a   0e0f     MOVLW     0xf                                                                                             
002a6c   6adb     CLRF      0xdb,0x0                                                                                        
                                           		},                                                                             C:\2007 final code\calibrate.c
                                           		{                                                                              C:\2007 final code\calibrate.c
002a6e   0e10     MOVLW     0x10           			{0,0,0,0,0,0,0,0}, {0,0,0,0,0,0,0,0}                                          C:\2007 final code\calibrate.c
002a70   6adb     CLRF      0xdb,0x0                                                                                        
002a72   0e11     MOVLW     0x11                                                                                            
002a74   6adb     CLRF      0xdb,0x0                                                                                        
002a76   0e12     MOVLW     0x12                                                                                            
002a78   6adb     CLRF      0xdb,0x0                                                                                        
002a7a   0e13     MOVLW     0x13                                                                                            
002a7c   6adb     CLRF      0xdb,0x0                                                                                        
002a7e   0e14     MOVLW     0x14                                                                                            
002a80   6adb     CLRF      0xdb,0x0                                                                                        
002a82   0e15     MOVLW     0x15                                                                                            
002a84   6adb     CLRF      0xdb,0x0                                                                                        
002a86   0e16     MOVLW     0x16                                                                                            
002a88   6adb     CLRF      0xdb,0x0                                                                                        
002a8a   0e17     MOVLW     0x17                                                                                            
002a8c   6adb     CLRF      0xdb,0x0                                                                                        
002a8e   0e18     MOVLW     0x18                                                                                            
002a90   6adb     CLRF      0xdb,0x0                                                                                        
002a92   0e19     MOVLW     0x19                                                                                            
002a94   6adb     CLRF      0xdb,0x0                                                                                        
002a96   0e1a     MOVLW     0x1a                                                                                            
002a98   6adb     CLRF      0xdb,0x0                                                                                        
002a9a   0e1b     MOVLW     0x1b                                                                                            
002a9c   6adb     CLRF      0xdb,0x0                                                                                        
002a9e   0e1c     MOVLW     0x1c                                                                                            
002aa0   6adb     CLRF      0xdb,0x0                                                                                        
002aa2   0e1d     MOVLW     0x1d                                                                                            
002aa4   6adb     CLRF      0xdb,0x0                                                                                        
002aa6   0e1e     MOVLW     0x1e                                                                                            
002aa8   6adb     CLRF      0xdb,0x0                                                                                        
002aaa   0e1f     MOVLW     0x1f                                                                                            
002aac   6adb     CLRF      0xdb,0x0                                                                                        
                                           		} };                                                                           C:\2007 final code\calibrate.c
                                           	                                                                                C:\2007 final code\calibrate.c
                                           	//are calibrations done?                                                        C:\2007 final code\calibrate.c
                                           	static unsigned char done = 0;                                                  C:\2007 final code\calibrate.c
                                           	                                                                                C:\2007 final code\calibrate.c
                                           	//which motors are we doing?                                                    C:\2007 final code\calibrate.c
                                           	static unsigned char motor_state = MOTOR_STATE_FRONT;                           C:\2007 final code\calibrate.c
                                           	                                                                                C:\2007 final code\calibrate.c
                                           	//what stage of calibration are we in?                                          C:\2007 final code\calibrate.c
                                           	static char cal_state = CAL_START;                                              C:\2007 final code\calibrate.c
                                           	                                                                                C:\2007 final code\calibrate.c
                                           	//is MOTOR_SWITCH being held?                                                   C:\2007 final code\calibrate.c
                                           	static unsigned char motor_switch_hold = 0;                                     C:\2007 final code\calibrate.c
                                           	                                                                                C:\2007 final code\calibrate.c
                                           	//left and right motor outputs                                                  C:\2007 final code\calibrate.c
                                           	static unsigned char motor_left = 127, motor_right = 127;                       C:\2007 final code\calibrate.c
                                           	                                                                                C:\2007 final code\calibrate.c
                                           	//do we do anything or wait to be told to do something?                         C:\2007 final code\calibrate.c
                                           	static unsigned char go = 0;                                                    C:\2007 final code\calibrate.c
                                           	                                                                                C:\2007 final code\calibrate.c
                                           	//slowest motor encoder count                                                   C:\2007 final code\calibrate.c
                                           	long lowest_count;                                                              C:\2007 final code\calibrate.c
                                           	                                                                                C:\2007 final code\calibrate.c
                                           	//are we done calculating percentages?                                          C:\2007 final code\calibrate.c
                                           	static unsigned char percentcalculations_done = 0;                              C:\2007 final code\calibrate.c
                                           	                                                                                C:\2007 final code\calibrate.c
                                           	//count the loops                                                               C:\2007 final code\calibrate.c
                                           	static unsigned int loopcount = 0;                                              C:\2007 final code\calibrate.c
                                           	                                                                                C:\2007 final code\calibrate.c
                                           	                                                                                C:\2007 final code\calibrate.c
                                           	//loop counter for debug                                                        C:\2007 final code\calibrate.c
                                           #ifdef CAL_DEBUG                                                                 C:\2007 final code\calibrate.c
                                           	static unsigned int debug_loopcount = 0;                                        C:\2007 final code\calibrate.c
002aae   0103     MOVLB     0x3            	debug_loopcount++;                                                              C:\2007 final code\calibrate.c
002ab0   2bd9     INCF      0xd9,0x1,0x1                                                                                    
002ab2   0e00     MOVLW     0x0                                                                                             
002ab4   23da     ADDWFC    0xda,0x1,0x1                                                                                    
                                           #endif                                                                           C:\2007 final code\calibrate.c
002ab6   2bd7     INCF      0xd7,0x1,0x1   	loopcount++;                                                                    C:\2007 final code\calibrate.c
002ab8   23d8     ADDWFC    0xd8,0x1,0x1                                                                                    
                                                                                                                            C:\2007 final code\calibrate.c
002aba   c3d0     MOVFF     0x3d0,0x2bd    	USER_FEEDBACK_BYTE = motor_state;                                               C:\2007 final code\calibrate.c
002abc   f2bd                                                                                                               
                                                                                                                            C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                           	//If the switch is being pressed, but not held...                               C:\2007 final code\calibrate.c
002abe   0102     MOVLB     0x2            	if((MOTOR_SWITCH) && !(motor_switch_hold))                                      C:\2007 final code\calibrate.c
002ac0   51df     MOVF      0xdf,0x0,0x1                                                                                    
002ac2   0b01     ANDLW     0x1                                                                                             
002ac4   e00b     BZ        0x2adc                                                                                          
002ac6   0103     MOVLB     0x3                                                                                             
002ac8   51d2     MOVF      0xd2,0x0,0x1                                                                                    
002aca   e108     BNZ       0x2adc                                                                                          
                                           	{                                                                               C:\2007 final code\calibrate.c
                                           		//change motor state                                                           C:\2007 final code\calibrate.c
002acc   2bd0     INCF      0xd0,0x1,0x1   		motor_state++;                                                                 C:\2007 final code\calibrate.c
                                           		                                                                               C:\2007 final code\calibrate.c
                                           		//make sure we're not above FINAL                                              C:\2007 final code\calibrate.c
002ace   51d0     MOVF      0xd0,0x0,0x1   		if(motor_state > MOTOR_STATE_FINAL)                                            C:\2007 final code\calibrate.c
002ad0   0802     SUBLW     0x2                                                                                             
002ad2   e201     BC        0x2ad6                                                                                          
                                           		{                                                                              C:\2007 final code\calibrate.c
002ad4   6bd0     CLRF      0xd0,0x1       			motor_state = MOTOR_STATE_FRONT;                                              C:\2007 final code\calibrate.c
                                           		}                                                                              C:\2007 final code\calibrate.c
                                           		//it's being held now.                                                         C:\2007 final code\calibrate.c
002ad6   0e01     MOVLW     0x1            		motor_switch_hold = 1;                                                         C:\2007 final code\calibrate.c
002ad8   6fd2     MOVWF     0xd2,0x1                                                                                        
                                           	}                                                                               C:\2007 final code\calibrate.c
                                           	//If the switch isn't being pressed, but we think it's being held...            C:\2007 final code\calibrate.c
002ada   d008     BRA       0x2aec         	else if(!(MOTOR_SWITCH) && (motor_switch_hold))                                 C:\2007 final code\calibrate.c
002adc   0102     MOVLB     0x2                                                                                             
002ade   51df     MOVF      0xdf,0x0,0x1                                                                                    
002ae0   0b01     ANDLW     0x1                                                                                             
002ae2   e104     BNZ       0x2aec                                                                                          
002ae4   0103     MOVLB     0x3                                                                                             
002ae6   51d2     MOVF      0xd2,0x0,0x1                                                                                    
002ae8   e001     BZ        0x2aec                                                                                          
                                           	{                                                                               C:\2007 final code\calibrate.c
                                           		//it's not being held.                                                         C:\2007 final code\calibrate.c
002aea   6bd2     CLRF      0xd2,0x1       		motor_switch_hold = 0;                                                         C:\2007 final code\calibrate.c
                                           	}                                                                               C:\2007 final code\calibrate.c
                                           	                                                                                C:\2007 final code\calibrate.c
                                           	//if go is 0, and GO_BUTTON is being pressed...                                 C:\2007 final code\calibrate.c
002aec   0103     MOVLB     0x3            	if((go == 0) && (GO_BUTTON))                                                    C:\2007 final code\calibrate.c
002aee   51d5     MOVF      0xd5,0x0,0x1                                                                                    
002af0   e109     BNZ       0x2b04                                                                                          
002af2   0102     MOVLB     0x2                                                                                             
002af4   51df     MOVF      0xdf,0x0,0x1                                                                                    
002af6   0b02     ANDLW     0x2                                                                                             
002af8   e005     BZ        0x2b04                                                                                          
                                           	{                                                                               C:\2007 final code\calibrate.c
                                           		//go!                                                                          C:\2007 final code\calibrate.c
002afa   0103     MOVLB     0x3            		go = 1;                                                                        C:\2007 final code\calibrate.c
002afc   0e01     MOVLW     0x1                                                                                             
002afe   6fd5     MOVWF     0xd5,0x1                                                                                        
                                           		                                                                               C:\2007 final code\calibrate.c
                                           		//reset loop count                                                             C:\2007 final code\calibrate.c
002b00   6bd7     CLRF      0xd7,0x1       		loopcount = 0;                                                                 C:\2007 final code\calibrate.c
002b02   6bd8     CLRF      0xd8,0x1                                                                                        
                                           	}                                                                               C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                           	//if we're not going                                                            C:\2007 final code\calibrate.c
002b04   0103     MOVLB     0x3            	if(!go)                                                                         C:\2007 final code\calibrate.c
002b06   51d5     MOVF      0xd5,0x0,0x1                                                                                    
002b08   e10a     BNZ       0x2b1e                                                                                          
                                           	{                                                                               C:\2007 final code\calibrate.c
                                           		//make sure all motors are netural                                             C:\2007 final code\calibrate.c
002b0a   0102     MOVLB     0x2            		MOTOR_FL = MOTOR_FR = MOTOR_BL = MOTOR_BR = 127;                               C:\2007 final code\calibrate.c
002b0c   0e7f     MOVLW     0x7f                                                                                            
002b0e   6fc4     MOVWF     0xc4,0x1                                                                                        
002b10   6fc3     MOVWF     0xc3,0x1                                                                                        
002b12   6fc2     MOVWF     0xc2,0x1                                                                                        
002b14   6fc1     MOVWF     0xc1,0x1                                                                                        
002b16   0103     MOVLB     0x3            		motor_left = motor_right = 127;                                                C:\2007 final code\calibrate.c
002b18   6fd4     MOVWF     0xd4,0x1                                                                                        
002b1a   6fd3     MOVWF     0xd3,0x1                                                                                        
                                           	}                                                                               C:\2007 final code\calibrate.c
                                           	//if we're going...                                                             C:\2007 final code\calibrate.c
002b1c   d250     BRA       0x2fbe         	else                                                                            C:\2007 final code\calibrate.c
                                           	{                                                                               C:\2007 final code\calibrate.c
                                           		//if we're doing the front motors                                              C:\2007 final code\calibrate.c
002b1e   51d0     MOVF      0xd0,0x0,0x1   		if(motor_state == MOTOR_STATE_FRONT)                                           C:\2007 final code\calibrate.c
002b20   e001     BZ        0x2b24                                                                                          
002b22   d0d0     BRA       0x2cc4                                                                                          
                                           		{                                                                              C:\2007 final code\calibrate.c
002b24   51d1     MOVF      0xd1,0x0,0x1   			switch(cal_state)                                                             C:\2007 final code\calibrate.c
002b26   0a08     XORLW     0x8                                                                                             
002b28   e101     BNZ       0x2b2c                                                                                          
002b2a   d0c0     BRA       0x2cac                                                                                          
002b2c   0a08     XORLW     0x8                                                                                             
002b2e   e012     BZ        0x2b54                                                                                          
002b30   0a01     XORLW     0x1                                                                                             
002b32   e010     BZ        0x2b54                                                                                          
002b34   0a03     XORLW     0x3                                                                                             
002b36   e00e     BZ        0x2b54                                                                                          
002b38   0a01     XORLW     0x1                                                                                             
002b3a   e00c     BZ        0x2b54                                                                                          
002b3c   0a07     XORLW     0x7                                                                                             
002b3e   e00a     BZ        0x2b54                                                                                          
002b40   0a01     XORLW     0x1                                                                                             
002b42   e008     BZ        0x2b54                                                                                          
002b44   0a03     XORLW     0x3                                                                                             
002b46   e006     BZ        0x2b54                                                                                          
002b48   0a01     XORLW     0x1                                                                                             
002b4a   e004     BZ        0x2b54                                                                                          
002b4c   0af8     XORLW     0xf8                                                                                            
002b4e   e001     BZ        0x2b52                                                                                          
002b50   d0b4     BRA       0x2cba                                                                                          
                                           			{                                                                             C:\2007 final code\calibrate.c
                                           				case CAL_START:                                                              C:\2007 final code\calibrate.c
                                           					//go to speedone, fall through                                              C:\2007 final code\calibrate.c
002b52   2bd1     INCF      0xd1,0x1,0x1   					cal_state++;                                                                C:\2007 final code\calibrate.c
                                           			    case CAL_SPEEDONE:                                                        C:\2007 final code\calibrate.c
                                           				case CAL_SPEEDTWO:                                                           C:\2007 final code\calibrate.c
                                           				case CAL_SPEEDTHREE:                                                         C:\2007 final code\calibrate.c
                                           				case CAL_SPEEDFOUR:                                                          C:\2007 final code\calibrate.c
                                           				case CAL_SPEEDFIVE:                                                          C:\2007 final code\calibrate.c
                                           				case CAL_SPEEDSIX:                                                           C:\2007 final code\calibrate.c
                                           				case CAL_SPEEDSEVEN:                                                         C:\2007 final code\calibrate.c
                                           				case CAL_SPEEDEIGHT:                                                         C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                           					//left side is not inverted, we need to accellerate                         C:\2007 final code\calibrate.c
002b54   51d1     MOVF      0xd1,0x0,0x1   					if(cal_state == 0)                                                          C:\2007 final code\calibrate.c
002b56   e113     BNZ       0x2b7e                                                                                          
                                           					{                                                                           C:\2007 final code\calibrate.c
002b58   51d3     MOVF      0xd3,0x0,0x1   						if(motor_left <= 127)                                                      C:\2007 final code\calibrate.c
002b5a   087f     SUBLW     0x7f                                                                                            
002b5c   e306     BNC       0x2b6a                                                                                          
                                           						{                                                                          C:\2007 final code\calibrate.c
                                           							motor_left = 127 +                                                        C:\2007 final code\calibrate.c
                                           								CHANGE_RATE +                                                            C:\2007 final code\calibrate.c
002b5e   ecb4     CALL      0x3368,0x0     								offset[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][cal_state];                    C:\2007 final code\calibrate.c
002b60   f019                                                                                                               
002b62   be2d     BTFSC     0x2d,0x7,0x0                                                                                    
002b64   682e     SETF      0x2e,0x0                                                                                        
002b66   db23     RCALL     0x31ae                                                                                          
002b68   6fd3     MOVWF     0xd3,0x1                                                                                        
                                           						}                                                                          C:\2007 final code\calibrate.c
002b6a   51d4     MOVF      0xd4,0x0,0x1   						if(motor_right <= 127)                                                     C:\2007 final code\calibrate.c
002b6c   087f     SUBLW     0x7f                                                                                            
002b6e   e330     BNC       0x2bd0                                                                                          
                                           						{                                                                          C:\2007 final code\calibrate.c
                                           							motor_right = 127 +                                                       C:\2007 final code\calibrate.c
                                           								CHANGE_RATE +                                                            C:\2007 final code\calibrate.c
002b70   50d9     MOVF      0xd9,0x0,0x0   								offset[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][cal_state];                   C:\2007 final code\calibrate.c
002b72   0f08     ADDLW     0x8                                                                                             
002b74   db94     RCALL     0x329e                                                                                          
002b76   be2d     BTFSC     0x2d,0x7,0x0                                                                                    
002b78   682e     SETF      0x2e,0x0                                                                                        
002b7a   db19     RCALL     0x31ae                                                                                          
002b7c   d09d     BRA       0x2cb8         							break;                                                                    C:\2007 final code\calibrate.c
                                           						}                                                                          C:\2007 final code\calibrate.c
                                           					}                                                                           C:\2007 final code\calibrate.c
                                           					else                                                                        C:\2007 final code\calibrate.c
                                           					{                                                                           C:\2007 final code\calibrate.c
002b7e   cfd9     MOVFF     0xfd9,0x2c     						if(motor_left <= (127 + (((cal_state + 1) * CHANGE_RATE) + (offset[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][cal_state - 1])))) C:\2007 final code\calibrate.c
002b80   f02c                                                                                                               
002b82   daf1     RCALL     0x3166                                                                                          
002b84   be2e     BTFSC     0x2e,0x7,0x0                                                                                    
002b86   682f     SETF      0x2f,0x0                                                                                        
002b88   dbd7     RCALL     0x3338                                                                                          
002b8a   e30d     BNC       0x2ba6                                                                                          
003338   dee9     RCALL     0x310c                                                                                          
00333a   242b     ADDWF     0x2b,0x0,0x0                                                                                    
00333c   0f7f     ADDLW     0x7f                                                                                            
00333e   80d8     BSF       0xd8,0x0,0x0                                                                                    
003340   55d3     SUBFWB    0xd3,0x0,0x1                                                                                    
003342   0012     RETURN    0x0                                                                                             
                                           						{                                                                          C:\2007 final code\calibrate.c
                                           							//accellerate                                                             C:\2007 final code\calibrate.c
                                           						                                                                           C:\2007 final code\calibrate.c
                                           							motor_left = 127 +                                                        C:\2007 final code\calibrate.c
                                           								((cal_state + 1) * CHANGE_RATE) +                                        C:\2007 final code\calibrate.c
002b98   cfd9     MOVFF     0xfd9,0x2c     								(offset[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][cal_state - 1]) +             C:\2007 final code\calibrate.c
002b9a   f02c                                                                                                               
002b9c   dae4     RCALL     0x3166                                                                                          
002b9e   be2e     BTFSC     0x2e,0x7,0x0                                                                                    
002ba0   682f     SETF      0x2f,0x0                                                                                        
002ba2   db71     RCALL     0x3286                                                                                          
002b8c   cfd9     MOVFF     0xfd9,0x31     								(offset[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][cal_state]);                  C:\2007 final code\calibrate.c
002b8e   f031                                                                                                               
002b90   db4a     RCALL     0x3226                                                                                          
002b92   be33     BTFSC     0x33,0x7,0x0                                                                                    
002b94   6834     SETF      0x34,0x0                                                                                        
002b96   db0f     RCALL     0x31b6                                                                                          
002ba4   6fd3     MOVWF     0xd3,0x1                                                                                        
                                           						                                                                           C:\2007 final code\calibrate.c
                                           						}                                                                          C:\2007 final code\calibrate.c
                                           						//same thing, but with right                                               C:\2007 final code\calibrate.c
002ba6   50d9     MOVF      0xd9,0x0,0x0   						if(motor_right <= (127 + ((cal_state * CHANGE_RATE) + (offset[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][cal_state - 1])))) C:\2007 final code\calibrate.c
002ba8   0f08     ADDLW     0x8                                                                                             
002baa   dbc3     RCALL     0x3332                                                                                          
002bac   be2e     BTFSC     0x2e,0x7,0x0                                                                                    
002bae   682f     SETF      0x2f,0x0                                                                                        
002bb0   db1d     RCALL     0x31ec                                                                                          
002bb2   e30e     BNC       0x2bd0                                                                                          
0031ec   d888     RCALL     0x32fe                                                                                          
0031ee   0e10     MOVLW     0x10                                                                                            
0031f0   03d1     MULWF     0xd1,0x1                                                                                        
0031f2   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0031f4   242b     ADDWF     0x2b,0x0,0x0                                                                                    
0031f6   0f7f     ADDLW     0x7f                                                                                            
0031f8   80d8     BSF       0xd8,0x0,0x0                                                                                    
0031fa   55d4     SUBFWB    0xd4,0x0,0x1                                                                                    
0031fc   0012     RETURN    0x0                                                                                             
                                           						{                                                                          C:\2007 final code\calibrate.c
                                           							motor_right = 127 +                                                       C:\2007 final code\calibrate.c
                                           								((cal_state + 1) * CHANGE_RATE) +                                        C:\2007 final code\calibrate.c
002bc2   50d9     MOVF      0xd9,0x0,0x0   								(offset[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][cal_state - 1]) +            C:\2007 final code\calibrate.c
002bc4   0f08     ADDLW     0x8                                                                                             
002bc6   dbb5     RCALL     0x3332                                                                                          
002bc8   be2e     BTFSC     0x2e,0x7,0x0                                                                                    
002bca   682f     SETF      0x2f,0x0                                                                                        
002bcc   db5c     RCALL     0x3286                                                                                          
002bb4   50d9     MOVF      0xd9,0x0,0x0   								(offset[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][cal_state]);                 C:\2007 final code\calibrate.c
002bb6   0f08     ADDLW     0x8                                                                                             
002bb8   6e31     MOVWF     0x31,0x0                                                                                        
002bba   db35     RCALL     0x3226                                                                                          
002bbc   be33     BTFSC     0x33,0x7,0x0                                                                                    
002bbe   6834     SETF      0x34,0x0                                                                                        
002bc0   dafa     RCALL     0x31b6                                                                                          
                                           						                                                                           C:\2007 final code\calibrate.c
                                           							//break now, no point in looking at loopcount                             C:\2007 final code\calibrate.c
002bce   d074     BRA       0x2cb8         							break;                                                                    C:\2007 final code\calibrate.c
                                           						}                                                                          C:\2007 final code\calibrate.c
                                           					}                                                                           C:\2007 final code\calibrate.c
                                           					//now, wait a bit for the clicks to accumulate                              C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                           					//we need to wait more...                                                   C:\2007 final code\calibrate.c
002bd0   0e20     MOVLW     0x20           					if(loopcount < WAIT_TIME)                                                   C:\2007 final code\calibrate.c
002bd2   5dd7     SUBWF     0xd7,0x0,0x1                                                                                    
002bd4   0e00     MOVLW     0x0                                                                                             
002bd6   59d8     SUBWFB    0xd8,0x0,0x1                                                                                    
002bd8   e370     BNC       0x2cba                                                                                          
                                           					{                                                                           C:\2007 final code\calibrate.c
                                           						break;                                                                     C:\2007 final code\calibrate.c
                                           					}                                                                           C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                           					//we've waited long enough                                                  C:\2007 final code\calibrate.c
                                           					//store clicks in array                                                     C:\2007 final code\calibrate.c
002bda   ec1b     CALL      0x6636,0x0     					clicks[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][cal_state] = FL_CLICK_COUNT;      C:\2007 final code\calibrate.c
002bdc   f033                                                                                                               
002bde   dab6     RCALL     0x314c                                                                                          
002be0   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
002be2   68ea     SETF      0xea,0x0                                                                                        
002be4   db38     RCALL     0x3256                                                                                          
002be6   dbae     RCALL     0x3344                                                                                          
003344   df06     RCALL     0x3152                                                                                          
002be8   bee9     BTFSC     0xe9,0x7,0x0   					clicks[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][cal_state] = FR_CLICK_COUNT;     C:\2007 final code\calibrate.c
002bea   68ea     SETF      0xea,0x0                                                                                        
002bec   db39     RCALL     0x3260                                                                                          
002bee   dab1     RCALL     0x3152                                                                                          
003346   ec48     CALL      0x6690,0x0                                                                                      
003348   f033                                                                                                               
00334a   efa6     GOTO      0x314c                                                                                          
00334c   f018                                                                                                               
                                           					                                                                            C:\2007 final code\calibrate.c
                                           					//left is faster than right. speed up right, slow down left                 C:\2007 final code\calibrate.c
002bf0   db46     RCALL     0x327e         					if(clicks[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][cal_state] > clicks[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][cal_state]) C:\2007 final code\calibrate.c
002bf2   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
002bf4   68ea     SETF      0xea,0x0                                                                                        
002bf6   db34     RCALL     0x3260                                                                                          
002bf8   da9e     RCALL     0x3136                                                                                          
002bfa   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
002bfc   68ea     SETF      0xea,0x0                                                                                        
002bfe   db2b     RCALL     0x3256                                                                                          
002c00   dafe     RCALL     0x31fe                                                                                          
002c02   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
002c04   d002     BRA       0x2c0a                                                                                          
002c06   34f3     RLCF      0xf3,0x0,0x0                                                                                    
002c08   d001     BRA       0x2c0c                                                                                          
002c0a   dade     RCALL     0x31c8                                                                                          
002c0c   e21b     BC        0x2c44                                                                                          
                                           					{                                                                           C:\2007 final code\calibrate.c
002c22   dba2     RCALL     0x3368         						offset[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][cal_state] =                     C:\2007 final code\calibrate.c
002c24   be2d     BTFSC     0x2d,0x7,0x0                                                                                    
002c26   682e     SETF      0x2e,0x0                                                                                        
002c28   dba3     RCALL     0x3370                                                                                          
002c18   bee9     BTFSC     0xe9,0x7,0x0   							-(((((clicks[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][cal_state] * 100) /      C:\2007 final code\calibrate.c
002c1a   68ea     SETF      0xea,0x0                                                                                        
002c1c   db21     RCALL     0x3260                                                                                          
002c1e   da1d     RCALL     0x305a                                                                                          
002c0e   db37     RCALL     0x327e         							clicks[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][cal_state]) /                   C:\2007 final code\calibrate.c
002c10   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
002c12   68ea     SETF      0xea,0x0                                                                                        
002c14   db20     RCALL     0x3256                                                                                          
002c16   da5c     RCALL     0x30d0                                                                                          
002c20   da7a     RCALL     0x3116         							2)) % 100);                                                               C:\2007 final code\calibrate.c
                                           						                                                                           C:\2007 final code\calibrate.c
002c3a   0f08     ADDLW     0x8            						offset[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][cal_state] =                    C:\2007 final code\calibrate.c
002c3c   db30     RCALL     0x329e                                                                                          
002c3e   be2d     BTFSC     0x2d,0x7,0x0                                                                                    
002c40   682e     SETF      0x2e,0x0                                                                                        
002c42   da51     RCALL     0x30e6                                                                                          
002c32   bee9     BTFSC     0xe9,0x7,0x0   							((((clicks[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][cal_state] * 100) /        C:\2007 final code\calibrate.c
002c34   68ea     SETF      0xea,0x0                                                                                        
002c36   db14     RCALL     0x3260                                                                                          
002c38   db6b     RCALL     0x3310                                                                                          
002c2a   bee9     BTFSC     0xe9,0x7,0x0   							clicks[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][cal_state]) /                   C:\2007 final code\calibrate.c
002c2c   68ea     SETF      0xea,0x0                                                                                        
002c2e   db13     RCALL     0x3256                                                                                          
002c30   da4f     RCALL     0x30d0                                                                                          
                                           							2) % 100);                                                                C:\2007 final code\calibrate.c
                                           					}                                                                           C:\2007 final code\calibrate.c
                                           					//right is faster than left, speed up left, slow down right                 C:\2007 final code\calibrate.c
002c44   db1c     RCALL     0x327e         					if(clicks[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][cal_state] > clicks[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][cal_state]) C:\2007 final code\calibrate.c
002c46   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
002c48   68ea     SETF      0xea,0x0                                                                                        
002c4a   db0a     RCALL     0x3260                                                                                          
002c4c   da74     RCALL     0x3136                                                                                          
002c4e   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
002c50   68ea     SETF      0xea,0x0                                                                                        
002c52   db01     RCALL     0x3256                                                                                          
002c54   dad4     RCALL     0x31fe                                                                                          
002c56   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
002c58   d002     BRA       0x2c5e                                                                                          
002c5a   34f3     RLCF      0xf3,0x0,0x0                                                                                    
002c5c   d001     BRA       0x2c60                                                                                          
002c5e   dab4     RCALL     0x31c8                                                                                          
002c60   e21c     BC        0x2c9a                                                                                          
                                           					{                                                                           C:\2007 final code\calibrate.c
002c78   db77     RCALL     0x3368         						offset[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][cal_state] =                     C:\2007 final code\calibrate.c
002c7a   be2d     BTFSC     0x2d,0x7,0x0                                                                                    
002c7c   682e     SETF      0x2e,0x0                                                                                        
002c7e   db78     RCALL     0x3370                                                                                          
003368   cfd9     MOVFF     0xfd9,0x2b                                                                                      
00336a   f02b                                                                                                               
00336c   ef95     GOTO      0x312a                                                                                          
00336e   f018                                                                                                               
002c6c   bee9     BTFSC     0xe9,0x7,0x0   							((((clicks[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][cal_state] * 100) /         C:\2007 final code\calibrate.c
002c6e   68ea     SETF      0xea,0x0                                                                                        
002c70   daf2     RCALL     0x3256                                                                                          
002c72   d9f3     RCALL     0x305a                                                                                          
002c62   db0d     RCALL     0x327e         							clicks[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][cal_state]) /                  C:\2007 final code\calibrate.c
002c64   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
002c66   68ea     SETF      0xea,0x0                                                                                        
002c68   dafb     RCALL     0x3260                                                                                          
002c6a   da32     RCALL     0x30d0                                                                                          
002c74   5017     MOVF      0x17,0x0,0x0   							2) % 100);                                                                C:\2007 final code\calibrate.c
002c76   6ee6     MOVWF     0xe6,0x0                                                                                        
                                           						                                                                           C:\2007 final code\calibrate.c
002c90   0f08     ADDLW     0x8            						offset[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][cal_state] =                    C:\2007 final code\calibrate.c
002c92   db05     RCALL     0x329e                                                                                          
002c94   be2d     BTFSC     0x2d,0x7,0x0                                                                                    
002c96   682e     SETF      0x2e,0x0                                                                                        
002c98   da26     RCALL     0x30e6                                                                                          
002c88   bee9     BTFSC     0xe9,0x7,0x0   							-(((((clicks[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][cal_state] * 100) /       C:\2007 final code\calibrate.c
002c8a   68ea     SETF      0xea,0x0                                                                                        
002c8c   dae4     RCALL     0x3256                                                                                          
002c8e   db45     RCALL     0x331a                                                                                          
0030c2   90d8     BCF       0xd8,0x0,0x0                                                                                    
0030c4   36e9     RLCF      0xe9,0x1,0x0                                                                                    
0030c6   36ea     RLCF      0xea,0x1,0x0                                                                                    
0030c8   90d8     BCF       0xd8,0x0,0x0                                                                                    
0030ca   36e9     RLCF      0xe9,0x1,0x0                                                                                    
0030cc   36ea     RLCF      0xea,0x1,0x0                                                                                    
0030ce   0012     RETURN    0x0                                                                                             
003256   df35     RCALL     0x30c2                                                                                          
003258   0e80     MOVLW     0x80                                                                                            
00325a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00325c   0e01     MOVLW     0x1                                                                                             
00325e   0012     RETURN    0x0                                                                                             
002c80   bee9     BTFSC     0xe9,0x7,0x0   							clicks[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][cal_state]) /                  C:\2007 final code\calibrate.c
002c82   68ea     SETF      0xea,0x0                                                                                        
002c84   daed     RCALL     0x3260                                                                                          
002c86   da24     RCALL     0x30d0                                                                                          
003260   df30     RCALL     0x30c2                                                                                          
003262   0ea0     MOVLW     0xa0                                                                                            
003264   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003266   0e01     MOVLW     0x1                                                                                             
003268   0012     RETURN    0x0                                                                                             
                                           							2)) % 100);                                                               C:\2007 final code\calibrate.c
                                           					}                                                                           C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                           					                                                                            C:\2007 final code\calibrate.c
                                           					//rest clicks                                                               C:\2007 final code\calibrate.c
002c9a   ec2a     CALL      0x6654,0x0     					RESET_FL_CLICKS;                                                            C:\2007 final code\calibrate.c
002c9c   f033                                                                                                               
002c9e   ec57     CALL      0x66ae,0x0     					RESET_FR_CLICKS;                                                            C:\2007 final code\calibrate.c
002ca0   f033                                                                                                               
                                                                                                                            C:\2007 final code\calibrate.c
                                           					//rest loops                                                                C:\2007 final code\calibrate.c
002ca2   0103     MOVLB     0x3            					loopcount = 0;                                                              C:\2007 final code\calibrate.c
002ca4   6bd7     CLRF      0xd7,0x1                                                                                        
002ca6   6bd8     CLRF      0xd8,0x1                                                                                        
                                                                                                                            C:\2007 final code\calibrate.c
                                           					//change state, fall through                                                C:\2007 final code\calibrate.c
002ca8   2bd1     INCF      0xd1,0x1,0x1   					cal_state++;                                                                C:\2007 final code\calibrate.c
002caa   d007     BRA       0x2cba         					break;                                                                      C:\2007 final code\calibrate.c
                                           				case CAL_END:                                                                C:\2007 final code\calibrate.c
                                           				//if the front hasn't been done before, say it has been done                 C:\2007 final code\calibrate.c
002cac   a1cf     BTFSS     0xcf,0x0,0x1   					if(!(done & FRONT_BIT))                                                     C:\2007 final code\calibrate.c
                                           					{                                                                           C:\2007 final code\calibrate.c
                                           						//forward is now done                                                      C:\2007 final code\calibrate.c
002cae   2bcf     INCF      0xcf,0x1,0x1   						done += 1;                                                                 C:\2007 final code\calibrate.c
                                           					}                                                                           C:\2007 final code\calibrate.c
                                           					//don't go again                                                            C:\2007 final code\calibrate.c
002cb0   6bd5     CLRF      0xd5,0x1       					go = 0;                                                                     C:\2007 final code\calibrate.c
002cb2   69d1     SETF      0xd1,0x1       					cal_state = CAL_START;                                                      C:\2007 final code\calibrate.c
002cb4   0e7f     MOVLW     0x7f           					motor_left = 127;                                                           C:\2007 final code\calibrate.c
002cb6   6fd3     MOVWF     0xd3,0x1                                                                                        
002cb8   6fd4     MOVWF     0xd4,0x1       					motor_right = 127;                                                          C:\2007 final code\calibrate.c
                                           					break;                                                                      C:\2007 final code\calibrate.c
                                           			}                                                                             C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
002cba   c3d3     MOVFF     0x3d3,0x2c1    		MOTOR_FL = motor_left;                                                         C:\2007 final code\calibrate.c
002cbc   f2c1                                                                                                               
002cbe   c3d4     MOVFF     0x3d4,0x2c2    		MOTOR_FR = motor_right;                                                        C:\2007 final code\calibrate.c
002cc0   f2c2                                                                                                               
                                           		}                                                                              C:\2007 final code\calibrate.c
                                           		//if we're doing the back motors                                               C:\2007 final code\calibrate.c
002cc2   d17d     BRA       0x2fbe         		else if(motor_state == MOTOR_STATE_BACK)                                       C:\2007 final code\calibrate.c
002cc4   05d0     DECF      0xd0,0x0,0x1                                                                                    
002cc6   e001     BZ        0x2cca                                                                                          
002cc8   d0d5     BRA       0x2e74                                                                                          
                                           		{                                                                              C:\2007 final code\calibrate.c
002cca   51d1     MOVF      0xd1,0x0,0x1   			switch(cal_state)                                                             C:\2007 final code\calibrate.c
002ccc   0a08     XORLW     0x8                                                                                             
002cce   e101     BNZ       0x2cd2                                                                                          
002cd0   d0c2     BRA       0x2e56                                                                                          
002cd2   0a08     XORLW     0x8                                                                                             
002cd4   e012     BZ        0x2cfa                                                                                          
002cd6   0a01     XORLW     0x1                                                                                             
002cd8   e010     BZ        0x2cfa                                                                                          
002cda   0a03     XORLW     0x3                                                                                             
002cdc   e00e     BZ        0x2cfa                                                                                          
002cde   0a01     XORLW     0x1                                                                                             
002ce0   e00c     BZ        0x2cfa                                                                                          
002ce2   0a07     XORLW     0x7                                                                                             
002ce4   e00a     BZ        0x2cfa                                                                                          
002ce6   0a01     XORLW     0x1                                                                                             
002ce8   e008     BZ        0x2cfa                                                                                          
002cea   0a03     XORLW     0x3                                                                                             
002cec   e006     BZ        0x2cfa                                                                                          
002cee   0a01     XORLW     0x1                                                                                             
002cf0   e004     BZ        0x2cfa                                                                                          
002cf2   0af8     XORLW     0xf8                                                                                            
002cf4   e001     BZ        0x2cf8                                                                                          
002cf6   d0b9     BRA       0x2e6a                                                                                          
                                           			{                                                                             C:\2007 final code\calibrate.c
                                           				case CAL_START:                                                              C:\2007 final code\calibrate.c
002cf8   2bd1     INCF      0xd1,0x1,0x1   					cal_state++;                                                                C:\2007 final code\calibrate.c
                                           			    case CAL_SPEEDONE:                                                        C:\2007 final code\calibrate.c
                                           				case CAL_SPEEDTWO:                                                           C:\2007 final code\calibrate.c
                                           `				case CAL_SPEEDTHREE:                                                        C:\2007 final code\calibrate.c
                                           				case CAL_SPEEDFOUR:                                                          C:\2007 final code\calibrate.c
                                           				case CAL_SPEEDFIVE:                                                          C:\2007 final code\calibrate.c
                                           				case CAL_SPEEDSIX:                                                           C:\2007 final code\calibrate.c
                                           				case CAL_SPEEDSEVEN:                                                         C:\2007 final code\calibrate.c
                                           				case CAL_SPEEDEIGHT:                                                         C:\2007 final code\calibrate.c
                                           					//left side is not inverted, we need to accellerate                         C:\2007 final code\calibrate.c
002cfa   51d1     MOVF      0xd1,0x0,0x1   					if(cal_state == 0)                                                          C:\2007 final code\calibrate.c
002cfc   e114     BNZ       0x2d26                                                                                          
                                           					{                                                                           C:\2007 final code\calibrate.c
002cfe   51d3     MOVF      0xd3,0x0,0x1   						if(motor_left <= 127)                                                      C:\2007 final code\calibrate.c
002d00   087f     SUBLW     0x7f                                                                                            
002d02   e307     BNC       0x2d12                                                                                          
                                           						{                                                                          C:\2007 final code\calibrate.c
                                           							motor_left = 127 +                                                        C:\2007 final code\calibrate.c
                                           								CHANGE_RATE +                                                            C:\2007 final code\calibrate.c
002d04   50d9     MOVF      0xd9,0x0,0x0   								offset[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][cal_state];                     C:\2007 final code\calibrate.c
002d06   0f10     ADDLW     0x10                                                                                            
002d08   daca     RCALL     0x329e                                                                                          
002d0a   be2d     BTFSC     0x2d,0x7,0x0                                                                                    
002d0c   682e     SETF      0x2e,0x0                                                                                        
002d0e   da4f     RCALL     0x31ae                                                                                          
002d10   6fd3     MOVWF     0xd3,0x1                                                                                        
0031ae   d8d5     RCALL     0x335a                                                                                          
0031b0   50ef     MOVF      0xef,0x0,0x0                                                                                    
0031b2   0f8f     ADDLW     0x8f                                                                                            
0031b4   0012     RETURN    0x0                                                                                             
                                           						}                                                                          C:\2007 final code\calibrate.c
002d12   51d4     MOVF      0xd4,0x0,0x1   						if(motor_right <= 127)                                                     C:\2007 final code\calibrate.c
002d14   087f     SUBLW     0x7f                                                                                            
002d16   e332     BNC       0x2d7c                                                                                          
                                           						{                                                                          C:\2007 final code\calibrate.c
                                           							motor_right = 127 +                                                       C:\2007 final code\calibrate.c
                                           								CHANGE_RATE +                                                            C:\2007 final code\calibrate.c
002d18   50d9     MOVF      0xd9,0x0,0x0   								offset[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][cal_state];                    C:\2007 final code\calibrate.c
002d1a   0f18     ADDLW     0x18                                                                                            
002d1c   dac0     RCALL     0x329e                                                                                          
002d1e   be2d     BTFSC     0x2d,0x7,0x0                                                                                    
002d20   682e     SETF      0x2e,0x0                                                                                        
002d22   da45     RCALL     0x31ae                                                                                          
002d24   d029     BRA       0x2d78         							break;                                                                    C:\2007 final code\calibrate.c
                                           						}                                                                          C:\2007 final code\calibrate.c
                                           					}                                                                           C:\2007 final code\calibrate.c
                                           					else                                                                        C:\2007 final code\calibrate.c
                                           					{                                                                           C:\2007 final code\calibrate.c
002d26   50d9     MOVF      0xd9,0x0,0x0   						if(motor_left <= (127 + (((cal_state + 1) * CHANGE_RATE) + (offset[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][cal_state - 1])))) C:\2007 final code\calibrate.c
002d28   0f10     ADDLW     0x10                                                                                            
002d2a   db03     RCALL     0x3332                                                                                          
002d2c   be2e     BTFSC     0x2e,0x7,0x0                                                                                    
002d2e   682f     SETF      0x2f,0x0                                                                                        
002d30   db03     RCALL     0x3338                                                                                          
002d32   e30e     BNC       0x2d50                                                                                          
00310c   d8f8     RCALL     0x32fe                                                                                          
00310e   29d1     INCF      0xd1,0x0,0x1                                                                                    
003110   0d10     MULLW     0x10                                                                                            
003112   50f3     MOVF      0xf3,0x0,0x0                                                                                    
003114   0012     RETURN    0x0                                                                                             
0032fe   502c     MOVF      0x2c,0x0,0x0                                                                                    
003300   242e     ADDWF     0x2e,0x0,0x0                                                                                    
003302   6ee9     MOVWF     0xe9,0x0                                                                                        
003304   502d     MOVF      0x2d,0x0,0x0                                                                                    
003306   202f     ADDWFC    0x2f,0x0,0x0                                                                                    
003308   6eea     MOVWF     0xea,0x0                                                                                        
00330a   cfef     MOVFF     0xfef,0x2b                                                                                      
00330c   f02b                                                                                                               
00330e   0012     RETURN    0x0                                                                                             
                                           						{                                                                          C:\2007 final code\calibrate.c
                                           							//accellerate                                                             C:\2007 final code\calibrate.c
                                           						                                                                           C:\2007 final code\calibrate.c
                                           							motor_left = 127 +                                                        C:\2007 final code\calibrate.c
003288   0f7f     ADDLW     0x7f           								((cal_state + 1) * CHANGE_RATE) +                                        C:\2007 final code\calibrate.c
002d42   50d9     MOVF      0xd9,0x0,0x0   								(offset[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][cal_state - 1]) +              C:\2007 final code\calibrate.c
002d44   0f10     ADDLW     0x10                                                                                            
002d46   daf5     RCALL     0x3332                                                                                          
002d48   be2e     BTFSC     0x2e,0x7,0x0                                                                                    
002d4a   682f     SETF      0x2f,0x0                                                                                        
002d4c   da9c     RCALL     0x3286                                                                                          
003286   df42     RCALL     0x310c                                                                                          
00328a   242b     ADDWF     0x2b,0x0,0x0                                                                                    
002d34   50d9     MOVF      0xd9,0x0,0x0   								(offset[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][cal_state]);                   C:\2007 final code\calibrate.c
002d36   0f10     ADDLW     0x10                                                                                            
002d38   6e31     MOVWF     0x31,0x0                                                                                        
002d3a   da75     RCALL     0x3226                                                                                          
002d3c   be33     BTFSC     0x33,0x7,0x0                                                                                    
002d3e   6834     SETF      0x34,0x0                                                                                        
002d40   da3a     RCALL     0x31b6                                                                                          
002d4e   6fd3     MOVWF     0xd3,0x1                                                                                        
00328c   2430     ADDWF     0x30,0x0,0x0                                                                                    
00328e   0012     RETURN    0x0                                                                                             
                                           						                                                                           C:\2007 final code\calibrate.c
                                           						}                                                                          C:\2007 final code\calibrate.c
                                           						//same thing, but with right                                               C:\2007 final code\calibrate.c
002d50   50d9     MOVF      0xd9,0x0,0x0   						if(motor_right <= (127 + ((cal_state * CHANGE_RATE) + (offset[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][cal_state - 1])))) C:\2007 final code\calibrate.c
002d52   0f18     ADDLW     0x18                                                                                            
002d54   daee     RCALL     0x3332                                                                                          
002d56   be2e     BTFSC     0x2e,0x7,0x0                                                                                    
002d58   682f     SETF      0x2f,0x0                                                                                        
002d5a   da48     RCALL     0x31ec                                                                                          
002d5c   e30f     BNC       0x2d7c                                                                                          
                                           						{                                                                          C:\2007 final code\calibrate.c
                                           							motor_right = 127 +                                                       C:\2007 final code\calibrate.c
                                           								((cal_state + 1) * CHANGE_RATE) +                                        C:\2007 final code\calibrate.c
002d6c   50d9     MOVF      0xd9,0x0,0x0   								(offset[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][cal_state - 1]) +             C:\2007 final code\calibrate.c
002d6e   0f18     ADDLW     0x18                                                                                            
002d70   dae0     RCALL     0x3332                                                                                          
002d72   be2e     BTFSC     0x2e,0x7,0x0                                                                                    
002d74   682f     SETF      0x2f,0x0                                                                                        
002d76   da87     RCALL     0x3286                                                                                          
003166   cfda     MOVFF     0xfda,0x2d                                                                                      
003168   f02d                                                                                                               
00316a   05d1     DECF      0xd1,0x0,0x1                                                                                    
00316c   6e2e     MOVWF     0x2e,0x0                                                                                        
00316e   6a2f     CLRF      0x2f,0x0                                                                                        
003170   0012     RETURN    0x0                                                                                             
003332   6e2c     MOVWF     0x2c,0x0                                                                                        
003334   efb3     GOTO      0x3166                                                                                          
003336   f018                                                                                                               
002d5e   50d9     MOVF      0xd9,0x0,0x0   								(offset[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][cal_state]);                  C:\2007 final code\calibrate.c
002d60   0f18     ADDLW     0x18                                                                                            
002d62   6e31     MOVWF     0x31,0x0                                                                                        
002d64   da60     RCALL     0x3226                                                                                          
002d66   be33     BTFSC     0x33,0x7,0x0                                                                                    
002d68   6834     SETF      0x34,0x0                                                                                        
002d6a   da25     RCALL     0x31b6                                                                                          
002d78   6fd4     MOVWF     0xd4,0x1                                                                                        
0031b6   5031     MOVF      0x31,0x0,0x0                                                                                    
0031b8   2433     ADDWF     0x33,0x0,0x0                                                                                    
0031ba   6ee9     MOVWF     0xe9,0x0                                                                                        
0031bc   5032     MOVF      0x32,0x0,0x0                                                                                    
0031be   2034     ADDWFC    0x34,0x0,0x0                                                                                    
0031c0   6eea     MOVWF     0xea,0x0                                                                                        
0031c2   cfef     MOVFF     0xfef,0x30                                                                                      
0031c4   f030                                                                                                               
0031c6   0012     RETURN    0x0                                                                                             
003226   cfda     MOVFF     0xfda,0x32                                                                                      
003228   f032                                                                                                               
00322a   c3d1     MOVFF     0x3d1,0x33                                                                                      
00322c   f033                                                                                                               
00322e   6a34     CLRF      0x34,0x0                                                                                        
003230   0012     RETURN    0x0                                                                                             
                                           						                                                                           C:\2007 final code\calibrate.c
                                           							//break now, no point in looking at loopcount                             C:\2007 final code\calibrate.c
002d7a   d077     BRA       0x2e6a         							break;                                                                    C:\2007 final code\calibrate.c
                                           						}                                                                          C:\2007 final code\calibrate.c
                                           					}                                                                           C:\2007 final code\calibrate.c
                                           					//now, wait a bit for the clicks to accumulate                              C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                           					//we need to wait more...                                                   C:\2007 final code\calibrate.c
002d7c   0e20     MOVLW     0x20           					if(loopcount < WAIT_TIME)                                                   C:\2007 final code\calibrate.c
002d7e   5dd7     SUBWF     0xd7,0x0,0x1                                                                                    
002d80   0e00     MOVLW     0x0                                                                                             
002d82   59d8     SUBWFB    0xd8,0x0,0x1                                                                                    
002d84   e372     BNC       0x2e6a                                                                                          
                                           					{                                                                           C:\2007 final code\calibrate.c
                                           						break;                                                                     C:\2007 final code\calibrate.c
                                           					}                                                                           C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                           					//we've waited long enough                                                  C:\2007 final code\calibrate.c
                                           					//store clicks in array                                                     C:\2007 final code\calibrate.c
002d86   ec1b     CALL      0x6636,0x0     					clicks[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][cal_state] = FL_CLICK_COUNT;       C:\2007 final code\calibrate.c
002d88   f033                                                                                                               
002d8a   d9e0     RCALL     0x314c                                                                                          
002d8c   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
002d8e   68ea     SETF      0xea,0x0                                                                                        
002d90   da6c     RCALL     0x326a                                                                                          
002d92   dad8     RCALL     0x3344                                                                                          
003152   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003154   c02b     MOVFF     0x2b,0xfee                                                                                      
003156   ffee                                                                                                               
003158   c02c     MOVFF     0x2c,0xfee                                                                                      
00315a   ffee                                                                                                               
00315c   c02d     MOVFF     0x2d,0xfee                                                                                      
00315e   ffee                                                                                                               
003160   c02e     MOVFF     0x2e,0xfee                                                                                      
003162   ffee                                                                                                               
003164   0012     RETURN    0x0                                                                                             
002d94   bee9     BTFSC     0xe9,0x7,0x0   					clicks[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][cal_state] = FR_CLICK_COUNT;      C:\2007 final code\calibrate.c
002d96   68ea     SETF      0xea,0x0                                                                                        
002d98   da6d     RCALL     0x3274                                                                                          
002d9a   d9db     RCALL     0x3152                                                                                          
00314c   d8c6     RCALL     0x32da                                                                                          
00314e   ef3f     GOTO      0x327e                                                                                          
003150   f019                                                                                                               
00327e   c3d1     MOVFF     0x3d1,0xfe9                                                                                     
003280   ffe9                                                                                                               
003282   6aea     CLRF      0xea,0x0                                                                                        
003284   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\calibrate.c
                                           					//left is faster than right. speed up right, slow down left                 C:\2007 final code\calibrate.c
002d9c   da70     RCALL     0x327e         					if(clicks[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][cal_state] > clicks[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][cal_state]) C:\2007 final code\calibrate.c
002d9e   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
002da0   68ea     SETF      0xea,0x0                                                                                        
002da2   da68     RCALL     0x3274                                                                                          
002da4   d9c8     RCALL     0x3136                                                                                          
002da6   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
002da8   68ea     SETF      0xea,0x0                                                                                        
002daa   da5f     RCALL     0x326a                                                                                          
002dac   da28     RCALL     0x31fe                                                                                          
002dae   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
002db0   d002     BRA       0x2db6                                                                                          
002db2   34f3     RLCF      0xf3,0x0,0x0                                                                                    
002db4   d001     BRA       0x2db8                                                                                          
002db6   da08     RCALL     0x31c8                                                                                          
002db8   e21b     BC        0x2df0                                                                                          
                                           					{                                                                           C:\2007 final code\calibrate.c
002dcc   0f10     ADDLW     0x10           						offset[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][cal_state] =                      C:\2007 final code\calibrate.c
002dce   da67     RCALL     0x329e                                                                                          
002dd0   be2d     BTFSC     0x2d,0x7,0x0                                                                                    
002dd2   682e     SETF      0x2e,0x0                                                                                        
002dd4   dacd     RCALL     0x3370                                                                                          
002dc4   bee9     BTFSC     0xe9,0x7,0x0   							-(((((clicks[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][cal_state] * 100) /       C:\2007 final code\calibrate.c
002dc6   68ea     SETF      0xea,0x0                                                                                        
002dc8   da55     RCALL     0x3274                                                                                          
002dca   daa7     RCALL     0x331a                                                                                          
002dba   da61     RCALL     0x327e         							clicks[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][cal_state]) /                    C:\2007 final code\calibrate.c
002dbc   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
002dbe   68ea     SETF      0xea,0x0                                                                                        
002dc0   da54     RCALL     0x326a                                                                                          
002dc2   d986     RCALL     0x30d0                                                                                          
                                           							2)) % 100);                                                               C:\2007 final code\calibrate.c
                                           						                                                                           C:\2007 final code\calibrate.c
002de6   0f18     ADDLW     0x18           						offset[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][cal_state] =                     C:\2007 final code\calibrate.c
002de8   da5a     RCALL     0x329e                                                                                          
002dea   be2d     BTFSC     0x2d,0x7,0x0                                                                                    
002dec   682e     SETF      0x2e,0x0                                                                                        
002dee   d97b     RCALL     0x30e6                                                                                          
002dde   bee9     BTFSC     0xe9,0x7,0x0   							((((clicks[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][cal_state] * 100) /         C:\2007 final code\calibrate.c
002de0   68ea     SETF      0xea,0x0                                                                                        
002de2   da48     RCALL     0x3274                                                                                          
002de4   da95     RCALL     0x3310                                                                                          
002dd6   bee9     BTFSC     0xe9,0x7,0x0   							clicks[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][cal_state]) /                    C:\2007 final code\calibrate.c
002dd8   68ea     SETF      0xea,0x0                                                                                        
002dda   da47     RCALL     0x326a                                                                                          
002ddc   d979     RCALL     0x30d0                                                                                          
                                           							2) % 100);                                                                C:\2007 final code\calibrate.c
                                           					}                                                                           C:\2007 final code\calibrate.c
                                           					//right is faster than left, speed up left, slow down right                 C:\2007 final code\calibrate.c
002df0   da46     RCALL     0x327e         					if(clicks[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][cal_state] > clicks[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][cal_state]) C:\2007 final code\calibrate.c
002df2   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
002df4   68ea     SETF      0xea,0x0                                                                                        
002df6   da3e     RCALL     0x3274                                                                                          
002df8   d99e     RCALL     0x3136                                                                                          
002dfa   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
002dfc   68ea     SETF      0xea,0x0                                                                                        
002dfe   da35     RCALL     0x326a                                                                                          
002e00   d9fe     RCALL     0x31fe                                                                                          
002e02   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
002e04   d002     BRA       0x2e0a                                                                                          
002e06   34f3     RLCF      0xf3,0x0,0x0                                                                                    
002e08   d001     BRA       0x2e0c                                                                                          
002e0a   d9de     RCALL     0x31c8                                                                                          
002e0c   e21b     BC        0x2e44                                                                                          
003136   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003138   cfee     MOVFF     0xfee,0x2b                                                                                      
00313a   f02b                                                                                                               
00313c   cfee     MOVFF     0xfee,0x2c                                                                                      
00313e   f02c                                                                                                               
003140   cfee     MOVFF     0xfee,0x2d                                                                                      
003142   f02d                                                                                                               
003144   cfef     MOVFF     0xfef,0x2e                                                                                      
003146   f02e                                                                                                               
003148   ef3f     GOTO      0x327e                                                                                          
00314a   f019                                                                                                               
0031c8   50ee     MOVF      0xee,0x0,0x0                                                                                    
0031ca   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
0031cc   50ee     MOVF      0xee,0x0,0x0                                                                                    
0031ce   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
0031d0   50ee     MOVF      0xee,0x0,0x0                                                                                    
0031d2   582d     SUBWFB    0x2d,0x0,0x0                                                                                    
0031d4   50ee     MOVF      0xee,0x0,0x0                                                                                    
0031d6   582e     SUBWFB    0x2e,0x0,0x0                                                                                    
0031d8   0012     RETURN    0x0                                                                                             
0031fe   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003200   0e03     MOVLW     0x3                                                                                             
003202   cfeb     MOVFF     0xfeb,0xff3                                                                                     
003204   fff3                                                                                                               
003206   502e     MOVF      0x2e,0x0,0x0                                                                                    
003208   18f3     XORWF     0xf3,0x0,0x0                                                                                    
00320a   0012     RETURN    0x0                                                                                             
                                           					{                                                                           C:\2007 final code\calibrate.c
002e20   0f10     ADDLW     0x10           						offset[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][cal_state] =                      C:\2007 final code\calibrate.c
002e22   da3d     RCALL     0x329e                                                                                          
002e24   be2d     BTFSC     0x2d,0x7,0x0                                                                                    
002e26   682e     SETF      0x2e,0x0                                                                                        
002e28   daa3     RCALL     0x3370                                                                                          
0030e6   d939     RCALL     0x335a                                                                                          
003316   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003318   0012     RETURN    0x0                                                                                             
00335a   502b     MOVF      0x2b,0x0,0x0                                                                                    
00335c   242d     ADDWF     0x2d,0x0,0x0                                                                                    
00335e   6ee9     MOVWF     0xe9,0x0                                                                                        
003360   502c     MOVF      0x2c,0x0,0x0                                                                                    
003362   202e     ADDWFC    0x2e,0x0,0x0                                                                                    
003364   6eea     MOVWF     0xea,0x0                                                                                        
003366   0012     RETURN    0x0                                                                                             
003370   deba     RCALL     0x30e6                                                                                          
002e18   bee9     BTFSC     0xe9,0x7,0x0   							((((clicks[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][cal_state] * 100) /          C:\2007 final code\calibrate.c
002e1a   68ea     SETF      0xea,0x0                                                                                        
002e1c   da26     RCALL     0x326a                                                                                          
002e1e   da78     RCALL     0x3310                                                                                          
003310   dea4     RCALL     0x305a                                                                                          
002e0e   da37     RCALL     0x327e         							clicks[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][cal_state]) /                   C:\2007 final code\calibrate.c
002e10   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
002e12   68ea     SETF      0xea,0x0                                                                                        
002e14   da2f     RCALL     0x3274                                                                                          
002e16   d95c     RCALL     0x30d0                                                                                          
0030e8   52e5     MOVF      0xe5,0x1,0x0   							2) % 100);                                                                C:\2007 final code\calibrate.c
0030ea   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0030ec   6eef     MOVWF     0xef,0x0                                                                                        
0030ee   0012     RETURN    0x0                                                                                             
003312   5017     MOVF      0x17,0x0,0x0                                                                                    
003314   6ee6     MOVWF     0xe6,0x0                                                                                        
                                           						                                                                           C:\2007 final code\calibrate.c
002e3a   0f18     ADDLW     0x18           						offset[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][cal_state] =                     C:\2007 final code\calibrate.c
002e3c   da30     RCALL     0x329e                                                                                          
002e3e   be2d     BTFSC     0x2d,0x7,0x0                                                                                    
002e40   682e     SETF      0x2e,0x0                                                                                        
002e42   d951     RCALL     0x30e6                                                                                          
00312a   cfda     MOVFF     0xfda,0x2c                                                                                      
00312c   f02c                                                                                                               
00312e   c3d1     MOVFF     0x3d1,0x2d                                                                                      
003130   f02d                                                                                                               
003132   6a2e     CLRF      0x2e,0x0                                                                                        
003134   0012     RETURN    0x0                                                                                             
00329e   6e2b     MOVWF     0x2b,0x0                                                                                        
0032a0   ef95     GOTO      0x312a                                                                                          
0032a2   f018                                                                                                               
00331e   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003320   0012     RETURN    0x0                                                                                             
002e32   bee9     BTFSC     0xe9,0x7,0x0   							-(((((clicks[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][cal_state] * 100) /        C:\2007 final code\calibrate.c
002e34   68ea     SETF      0xea,0x0                                                                                        
002e36   da19     RCALL     0x326a                                                                                          
002e38   da70     RCALL     0x331a                                                                                          
00305a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00305c   cfee     MOVFF     0xfee,0x2f                                                                                      
00305e   f02f                                                                                                               
003060   cfee     MOVFF     0xfee,0x30                                                                                      
003062   f030                                                                                                               
003064   cfee     MOVFF     0xfee,0x31                                                                                      
003066   f031                                                                                                               
003068   cfef     MOVFF     0xfef,0x32                                                                                      
00306a   f032                                                                                                               
00306c   0e64     MOVLW     0x64                                                                                            
00306e   6e20     MOVWF     0x20,0x0                                                                                        
003070   6a21     CLRF      0x21,0x0                                                                                        
003072   6a22     CLRF      0x22,0x0                                                                                        
003074   6a23     CLRF      0x23,0x0                                                                                        
003076   c02f     MOVFF     0x2f,0x1b                                                                                       
003078   f01b                                                                                                               
00307a   c030     MOVFF     0x30,0x1c                                                                                       
00307c   f01c                                                                                                               
00307e   c031     MOVFF     0x31,0x1d                                                                                       
003080   f01d                                                                                                               
003082   c032     MOVFF     0x32,0x1e                                                                                       
003084   f01e                                                                                                               
003086   eca0     CALL      0x6f40,0x0                                                                                      
003088   f037                                                                                                               
00308a   c017     MOVFF     0x17,0x2f                                                                                       
00308c   f02f                                                                                                               
00308e   c018     MOVFF     0x18,0x30                                                                                       
003090   f030                                                                                                               
003092   c019     MOVFF     0x19,0x31                                                                                       
003094   f031                                                                                                               
003096   c01a     MOVFF     0x1a,0x32                                                                                       
003098   f032                                                                                                               
00309a   d928     RCALL     0x32ec                                                                                          
0030e2   ef3f     GOTO      0x327e                                                                                          
0030e4   f019                                                                                                               
00326a   df2b     RCALL     0x30c2                                                                                          
00326c   0ec0     MOVLW     0xc0                                                                                            
00326e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003270   0e01     MOVLW     0x1                                                                                             
003272   0012     RETURN    0x0                                                                                             
0032ec   c017     MOVFF     0x17,0x1b                                                                                       
0032ee   f01b                                                                                                               
0032f0   c018     MOVFF     0x18,0x1c                                                                                       
0032f2   f01c                                                                                                               
0032f4   c019     MOVFF     0x19,0x1d                                                                                       
0032f6   f01d                                                                                                               
0032f8   c01a     MOVFF     0x1a,0x1e                                                                                       
0032fa   f01e                                                                                                               
0032fc   0012     RETURN    0x0                                                                                             
00331a   de9f     RCALL     0x305a                                                                                          
002e2a   bee9     BTFSC     0xe9,0x7,0x0   							clicks[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][cal_state]) /                   C:\2007 final code\calibrate.c
002e2c   68ea     SETF      0xea,0x0                                                                                        
002e2e   da22     RCALL     0x3274                                                                                          
002e30   d94f     RCALL     0x30d0                                                                                          
00309c   c033     MOVFF     0x33,0x20                                                                                       
00309e   f020                                                                                                               
0030a0   c034     MOVFF     0x34,0x21                                                                                       
0030a2   f021                                                                                                               
0030a4   c035     MOVFF     0x35,0x22                                                                                       
0030a6   f022                                                                                                               
0030a8   c036     MOVFF     0x36,0x23                                                                                       
0030aa   f023                                                                                                               
0030ac   ec64     CALL      0x6cc8,0x0                                                                                      
0030ae   f036                                                                                                               
0030d0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0030d2   cfee     MOVFF     0xfee,0x33                                                                                      
0030d4   f033                                                                                                               
0030d6   cfee     MOVFF     0xfee,0x34                                                                                      
0030d8   f034                                                                                                               
0030da   cfee     MOVFF     0xfee,0x35                                                                                      
0030dc   f035                                                                                                               
0030de   cfef     MOVFF     0xfef,0x36                                                                                      
0030e0   f036                                                                                                               
003274   df26     RCALL     0x30c2                                                                                          
003276   0ee0     MOVLW     0xe0                                                                                            
003278   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00327a   0e01     MOVLW     0x1                                                                                             
00327c   0012     RETURN    0x0                                                                                             
003372   ef3f     GOTO      0x327e                                                                                          
003374   f019                                                                                                               
0030b0   0e02     MOVLW     0x2            							2)) % 100);                                                               C:\2007 final code\calibrate.c
0030b2   d94d     RCALL     0x334e                                                                                          
0030b4   0e64     MOVLW     0x64                                                                                            
0030b6   efa7     GOTO      0x334e                                                                                          
0030b8   f019                                                                                                               
003116   d8ea     RCALL     0x32ec                                                                                          
003118   6820     SETF      0x20,0x0                                                                                        
00311a   6821     SETF      0x21,0x0                                                                                        
00311c   6822     SETF      0x22,0x0                                                                                        
00311e   6823     SETF      0x23,0x0                                                                                        
003120   eca0     CALL      0x6f40,0x0                                                                                      
003122   f037                                                                                                               
003124   5017     MOVF      0x17,0x0,0x0                                                                                    
003126   6ee6     MOVWF     0xe6,0x0                                                                                        
003128   0012     RETURN    0x0                                                                                             
00331c   defc     RCALL     0x3116                                                                                          
00334e   6e20     MOVWF     0x20,0x0                                                                                        
003350   6a21     CLRF      0x21,0x0                                                                                        
003352   6a22     CLRF      0x22,0x0                                                                                        
003354   6a23     CLRF      0x23,0x0                                                                                        
003356   ef64     GOTO      0x6cc8                                                                                          
003358   f036                                                                                                               
                                           					}                                                                           C:\2007 final code\calibrate.c
                                           					                                                                            C:\2007 final code\calibrate.c
                                           					                                                                            C:\2007 final code\calibrate.c
                                           					//rest clicks                                                               C:\2007 final code\calibrate.c
002e44   ec84     CALL      0x6708,0x0     					RESET_BL_CLICKS;                                                            C:\2007 final code\calibrate.c
002e46   f033                                                                                                               
002e48   ecb1     CALL      0x6762,0x0     					RESET_BR_CLICKS;                                                            C:\2007 final code\calibrate.c
002e4a   f033                                                                                                               
                                                                                                                            C:\2007 final code\calibrate.c
                                           					//rest loops                                                                C:\2007 final code\calibrate.c
002e4c   0103     MOVLB     0x3            					loopcount = 0;                                                              C:\2007 final code\calibrate.c
002e4e   6bd7     CLRF      0xd7,0x1                                                                                        
002e50   6bd8     CLRF      0xd8,0x1                                                                                        
                                                                                                                            C:\2007 final code\calibrate.c
                                           					//change state, fall through                                                C:\2007 final code\calibrate.c
002e52   2bd1     INCF      0xd1,0x1,0x1   					cal_state++;                                                                C:\2007 final code\calibrate.c
002e54   d00a     BRA       0x2e6a         					break;                                                                      C:\2007 final code\calibrate.c
                                           				case CAL_END:                                                                C:\2007 final code\calibrate.c
                                           				//if the forward hasn't been done before, say it has been done before        C:\2007 final code\calibrate.c
002e56   b3cf     BTFSC     0xcf,0x1,0x1   					if(!(done & BACK_BIT))                                                      C:\2007 final code\calibrate.c
002e58   d002     BRA       0x2e5e                                                                                          
                                           					{                                                                           C:\2007 final code\calibrate.c
                                           						//forward is now done                                                      C:\2007 final code\calibrate.c
002e5a   0e02     MOVLW     0x2            						done += BACK_BIT;                                                          C:\2007 final code\calibrate.c
002e5c   27cf     ADDWF     0xcf,0x1,0x1                                                                                    
                                           					}                                                                           C:\2007 final code\calibrate.c
                                           					//don't go again until user hits button                                     C:\2007 final code\calibrate.c
002e5e   6bd5     CLRF      0xd5,0x1       					go = 0;                                                                     C:\2007 final code\calibrate.c
                                           					//reset cal_state                                                           C:\2007 final code\calibrate.c
002e60   69d1     SETF      0xd1,0x1       					cal_state = CAL_START;                                                      C:\2007 final code\calibrate.c
002e62   ec84     CALL      0x6708,0x0     					RESET_BL_CLICKS;                                                            C:\2007 final code\calibrate.c
002e64   f033                                                                                                               
002e66   ecb1     CALL      0x6762,0x0     					RESET_BR_CLICKS;                                                            C:\2007 final code\calibrate.c
002e68   f033                                                                                                               
                                           					break;                                                                      C:\2007 final code\calibrate.c
                                           			}                                                                             C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
002e6a   c3d3     MOVFF     0x3d3,0x2c3    		MOTOR_BL = motor_left;                                                         C:\2007 final code\calibrate.c
002e6c   f2c3                                                                                                               
002e6e   c3d4     MOVFF     0x3d4,0x2c4    		MOTOR_BR = motor_right;                                                        C:\2007 final code\calibrate.c
002e70   f2c4                                                                                                               
                                           		}                                                                              C:\2007 final code\calibrate.c
                                           		//make sure we've done the other two states, then do calculations              C:\2007 final code\calibrate.c
002e72   d0a5     BRA       0x2fbe         		else if((motor_state == MOTOR_STATE_FINAL) && ((done & (FRONT_BIT | BACK_BIT)) == (FRONT_BIT | BACK_BIT))) C:\2007 final code\calibrate.c
002e74   0e02     MOVLW     0x2                                                                                             
002e76   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
002e78   e001     BZ        0x2e7c                                                                                          
002e7a   d0a1     BRA       0x2fbe                                                                                          
002e7c   0e03     MOVLW     0x3                                                                                             
002e7e   15cf     ANDWF     0xcf,0x0,0x1                                                                                    
002e80   0803     SUBLW     0x3                                                                                             
002e82   e001     BZ        0x2e86                                                                                          
002e84   d09c     BRA       0x2fbe                                                                                          
                                           		{                                                                              C:\2007 final code\calibrate.c
                                           			//find lowest encoder count (at max power)                                    C:\2007 final code\calibrate.c
002e86   c19c     MOVFF     0x19c,0xfe6    			lowest_count = abslong(clicks[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDEIGHT]); C:\2007 final code\calibrate.c
002e88   ffe6                                                                                                               
002e8a   c19d     MOVFF     0x19d,0xfe6                                                                                     
002e8c   ffe6                                                                                                               
002e8e   c19e     MOVFF     0x19e,0xfe6                                                                                     
002e90   ffe6                                                                                                               
002e92   c19f     MOVFF     0x19f,0xfe6                                                                                     
002e94   ffe6                                                                                                               
002e96   d92c     RCALL     0x30f0                                                                                          
002e98   0e20     MOVLW     0x20           			if(abslong(clicks[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDEIGHT] < lowest_count)) C:\2007 final code\calibrate.c
002e9a   cfdb     MOVFF     0xfdb,0x1c                                                                                      
002e9c   f01c                                                                                                               
002e9e   0e21     MOVLW     0x21                                                                                            
002ea0   cfdb     MOVFF     0xfdb,0x1d                                                                                      
002ea2   f01d                                                                                                               
002ea4   0e22     MOVLW     0x22                                                                                            
002ea6   cfdb     MOVFF     0xfdb,0x1e                                                                                      
002ea8   f01e                                                                                                               
002eaa   0e23     MOVLW     0x23                                                                                            
002eac   cfdb     MOVFF     0xfdb,0x1f                                                                                      
002eae   f01f                                                                                                               
002eb0   0101     MOVLB     0x1                                                                                             
002eb2   51bf     MOVF      0xbf,0x0,0x1                                                                                    
002eb4   181f     XORWF     0x1f,0x0,0x0                                                                                    
002eb6   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
002eb8   d002     BRA       0x2ebe                                                                                          
002eba   341f     RLCF      0x1f,0x0,0x0                                                                                    
002ebc   d008     BRA       0x2ece                                                                                          
002ebe   501c     MOVF      0x1c,0x0,0x0                                                                                    
002ec0   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
002ec2   501d     MOVF      0x1d,0x0,0x0                                                                                    
002ec4   59bd     SUBWFB    0xbd,0x0,0x1                                                                                    
002ec6   501e     MOVF      0x1e,0x0,0x0                                                                                    
002ec8   59be     SUBWFB    0xbe,0x0,0x1                                                                                    
002eca   501f     MOVF      0x1f,0x0,0x0                                                                                    
002ecc   59bf     SUBWFB    0xbf,0x0,0x1                                                                                    
002ece   e302     BNC       0x2ed4                                                                                          
002ed0   0e00     MOVLW     0x0                                                                                             
002ed2   d001     BRA       0x2ed6                                                                                          
002ed4   0e01     MOVLW     0x1                                                                                             
002ed6   6e2b     MOVWF     0x2b,0x0                                                                                        
002ed8   6a2c     CLRF      0x2c,0x0                                                                                        
002eda   6a2d     CLRF      0x2d,0x0                                                                                        
002edc   6a2e     CLRF      0x2e,0x0                                                                                        
002ede   ae2b     BTFSS     0x2b,0x7,0x0                                                                                    
002ee0   d003     BRA       0x2ee8                                                                                          
002ee2   682c     SETF      0x2c,0x0                                                                                        
002ee4   682d     SETF      0x2d,0x0                                                                                        
002ee6   682e     SETF      0x2e,0x0                                                                                        
002ee8   d9dd     RCALL     0x32a4                                                                                          
002eea   d9d2     RCALL     0x3290                                                                                          
002eec   501b     MOVF      0x1b,0x0,0x0                                                                                    
002eee   101c     IORWF     0x1c,0x0,0x0                                                                                    
002ef0   101d     IORWF     0x1d,0x0,0x0                                                                                    
002ef2   101e     IORWF     0x1e,0x0,0x0                                                                                    
002ef4   e009     BZ        0x2f08                                                                                          
0032a4   c02b     MOVFF     0x2b,0xfe6                                                                                      
0032a6   ffe6                                                                                                               
0032a8   c02c     MOVFF     0x2c,0xfe6                                                                                      
0032aa   ffe6                                                                                                               
0032ac   c02d     MOVFF     0x2d,0xfe6                                                                                      
0032ae   ffe6                                                                                                               
0032b0   c02e     MOVFF     0x2e,0xfe6                                                                                      
0032b2   ffe6                                                                                                               
0032b4   0012     RETURN    0x0                                                                                             
                                           			{                                                                             C:\2007 final code\calibrate.c
002ef6   c1bc     MOVFF     0x1bc,0xfe6    				lowest_count = abslong(clicks[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDEIGHT]); C:\2007 final code\calibrate.c
002ef8   ffe6                                                                                                               
002efa   c1bd     MOVFF     0x1bd,0xfe6                                                                                     
002efc   ffe6                                                                                                               
002efe   c1be     MOVFF     0x1be,0xfe6                                                                                     
002f00   ffe6                                                                                                               
002f02   c1bf     MOVFF     0x1bf,0xfe6                                                                                     
002f04   ffe6                                                                                                               
002f06   d8f4     RCALL     0x30f0                                                                                          
                                           			}                                                                             C:\2007 final code\calibrate.c
002f08   d934     RCALL     0x3172         			if(abslong(clicks[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDEIGHT]) < lowest_count) C:\2007 final code\calibrate.c
002f0a   d9d5     RCALL     0x32b6                                                                                          
002f0c   d940     RCALL     0x318e                                                                                          
002f0e   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
002f10   d002     BRA       0x2f16                                                                                          
002f12   342e     RLCF      0x2e,0x0,0x0                                                                                    
002f14   d001     BRA       0x2f18                                                                                          
002f16   d98d     RCALL     0x3232                                                                                          
002f18   e202     BC        0x2f1e                                                                                          
003172   0e20     MOVLW     0x20                                                                                            
003174   cfdb     MOVFF     0xfdb,0x2b                                                                                      
003176   f02b                                                                                                               
003178   0e21     MOVLW     0x21                                                                                            
00317a   cfdb     MOVFF     0xfdb,0x2c                                                                                      
00317c   f02c                                                                                                               
00317e   0e22     MOVLW     0x22                                                                                            
003180   cfdb     MOVFF     0xfdb,0x2d                                                                                      
003182   f02d                                                                                                               
003184   0e23     MOVLW     0x23                                                                                            
003186   cfdb     MOVFF     0xfdb,0x2e                                                                                      
003188   f02e                                                                                                               
00318a   ef52     GOTO      0x32a4                                                                                          
00318c   f019                                                                                                               
00318e   d880     RCALL     0x3290                                                                                          
003190   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003192   cfe7     MOVFF     0xfe7,0x2e                                                                                      
003194   f02e                                                                                                               
003196   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003198   cfe7     MOVFF     0xfe7,0x2d                                                                                      
00319a   f02d                                                                                                               
00319c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00319e   cfe7     MOVFF     0xfe7,0x2c                                                                                      
0031a0   f02c                                                                                                               
0031a2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0031a4   cfe7     MOVFF     0xfe7,0x2b                                                                                      
0031a6   f02b                                                                                                               
0031a8   501e     MOVF      0x1e,0x0,0x0                                                                                    
0031aa   182e     XORWF     0x2e,0x0,0x0                                                                                    
0031ac   0012     RETURN    0x0                                                                                             
003232   502b     MOVF      0x2b,0x0,0x0                                                                                    
003234   5c1b     SUBWF     0x1b,0x0,0x0                                                                                    
003236   502c     MOVF      0x2c,0x0,0x0                                                                                    
003238   581c     SUBWFB    0x1c,0x0,0x0                                                                                    
00323a   502d     MOVF      0x2d,0x0,0x0                                                                                    
00323c   581d     SUBWFB    0x1d,0x0,0x0                                                                                    
00323e   502e     MOVF      0x2e,0x0,0x0                                                                                    
003240   581e     SUBWFB    0x1e,0x0,0x0                                                                                    
003242   0012     RETURN    0x0                                                                                             
003290   ecdf     CALL      0x29be,0x0                                                                                      
003292   f014                                                                                                               
003294   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003296   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003298   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00329a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00329c   0012     RETURN    0x0                                                                                             
0032b6   c1dc     MOVFF     0x1dc,0xfe6                                                                                     
0032b8   ffe6                                                                                                               
0032ba   c1dd     MOVFF     0x1dd,0xfe6                                                                                     
0032bc   ffe6                                                                                                               
0032be   c1de     MOVFF     0x1de,0xfe6                                                                                     
0032c0   ffe6                                                                                                               
0032c2   c1df     MOVFF     0x1df,0xfe6                                                                                     
0032c4   ffe6                                                                                                               
0032c6   0012     RETURN    0x0                                                                                             
                                           			{                                                                             C:\2007 final code\calibrate.c
002f1a   d9cd     RCALL     0x32b6         				lowest_count = abslong(clicks[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDEIGHT]); C:\2007 final code\calibrate.c
002f1c   d8e9     RCALL     0x30f0                                                                                          
                                           			}                                                                             C:\2007 final code\calibrate.c
002f1e   d929     RCALL     0x3172         			if(abslong(clicks[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDEIGHT]) < lowest_count) C:\2007 final code\calibrate.c
002f20   d9d3     RCALL     0x32c8                                                                                          
002f22   d935     RCALL     0x318e                                                                                          
002f24   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
002f26   d002     BRA       0x2f2c                                                                                          
002f28   342e     RLCF      0x2e,0x0,0x0                                                                                    
002f2a   d001     BRA       0x2f2e                                                                                          
002f2c   d982     RCALL     0x3232                                                                                          
002f2e   e202     BC        0x2f34                                                                                          
0032c8   c1fc     MOVFF     0x1fc,0xfe6                                                                                     
0032ca   ffe6                                                                                                               
0032cc   c1fd     MOVFF     0x1fd,0xfe6                                                                                     
0032ce   ffe6                                                                                                               
0032d0   c1fe     MOVFF     0x1fe,0xfe6                                                                                     
0032d2   ffe6                                                                                                               
0032d4   c1ff     MOVFF     0x1ff,0xfe6                                                                                     
0032d6   ffe6                                                                                                               
0032d8   0012     RETURN    0x0                                                                                             
                                           			{                                                                             C:\2007 final code\calibrate.c
002f30   d9cb     RCALL     0x32c8         				lowest_count = abslong(clicks[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDEIGHT]); C:\2007 final code\calibrate.c
002f32   d8de     RCALL     0x30f0                                                                                          
0030f0   d8cf     RCALL     0x3290                                                                                          
0030f2   0e20     MOVLW     0x20                                                                                            
0030f4   c01b     MOVFF     0x1b,0xfdb                                                                                      
0030f6   ffdb                                                                                                               
0030f8   0e21     MOVLW     0x21                                                                                            
0030fa   c01c     MOVFF     0x1c,0xfdb                                                                                      
0030fc   ffdb                                                                                                               
0030fe   0e22     MOVLW     0x22                                                                                            
003100   c01d     MOVFF     0x1d,0xfdb                                                                                      
003102   ffdb                                                                                                               
003104   0e23     MOVLW     0x23                                                                                            
003106   c01e     MOVFF     0x1e,0xfdb                                                                                      
003108   ffdb                                                                                                               
00310a   0012     RETURN    0x0                                                                                             
                                           			}                                                                             C:\2007 final code\calibrate.c
                                           			//all percentages have been calculated, now store in EEPROM                   C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                           			//slowest speed                                                               C:\2007 final code\calibrate.c
002f34   cfdf     MOVFF     0xfdf,0xfe6    			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDONE)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDONE]); C:\2007 final code\calibrate.c
002f36   ffe6                                                                                                               
002f38   0e00     MOVLW     0x0                                                                                             
002f3a   d9f3     RCALL     0x3322                                                                                          
003322   6ee6     MOVWF     0xe6,0x0                                                                                        
003324   6ae6     CLRF      0xe6,0x0                                                                                        
003326   eca7     CALL      0x6b4e,0x0                                                                                      
003328   f035                                                                                                               
00332a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00332c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00332e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003330   0012     RETURN    0x0                                                                                             
002f3c   0e08     MOVLW     0x8            			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDONE)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDONE]); C:\2007 final code\calibrate.c
002f3e   d8bd     RCALL     0x30ba                                                                                          
002f40   0e10     MOVLW     0x10           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDONE)), offset[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDONE]); C:\2007 final code\calibrate.c
002f42   d8bb     RCALL     0x30ba                                                                                          
002f44   0e18     MOVLW     0x18           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDONE)), offset[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDONE]); C:\2007 final code\calibrate.c
002f46   d8b9     RCALL     0x30ba                                                                                          
                                           			                                                                              C:\2007 final code\calibrate.c
                                           			//2/8                                                                         C:\2007 final code\calibrate.c
002f48   0e01     MOVLW     0x1            			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDTWO)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDTWO]); C:\2007 final code\calibrate.c
002f4a   d8b7     RCALL     0x30ba                                                                                          
002f4c   0e09     MOVLW     0x9            			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDTWO)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDTWO]); C:\2007 final code\calibrate.c
002f4e   d8b5     RCALL     0x30ba                                                                                          
002f50   0e11     MOVLW     0x11           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDTWO)), offset[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDTWO]); C:\2007 final code\calibrate.c
002f52   d8b3     RCALL     0x30ba                                                                                          
002f54   0e19     MOVLW     0x19           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDTWO)), offset[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDTWO]); C:\2007 final code\calibrate.c
002f56   d8b1     RCALL     0x30ba                                                                                          
                                           			                                                                              C:\2007 final code\calibrate.c
                                           			//3/8                                                                         C:\2007 final code\calibrate.c
002f58   0e02     MOVLW     0x2            			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDTHREE)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDTHREE]); C:\2007 final code\calibrate.c
002f5a   d8af     RCALL     0x30ba                                                                                          
002f5c   0e0a     MOVLW     0xa            			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDTHREE)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDTHREE]); C:\2007 final code\calibrate.c
002f5e   d8ad     RCALL     0x30ba                                                                                          
002f60   0e12     MOVLW     0x12           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDTHREE)), offset[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDTHREE]); C:\2007 final code\calibrate.c
002f62   d8ab     RCALL     0x30ba                                                                                          
002f64   0e1a     MOVLW     0x1a           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDTHREE)), offset[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDTHREE]); C:\2007 final code\calibrate.c
002f66   d8a9     RCALL     0x30ba                                                                                          
                                           			                                                                              C:\2007 final code\calibrate.c
                                           			//4/8                                                                         C:\2007 final code\calibrate.c
002f68   0e03     MOVLW     0x3            			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDFOUR)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDFOUR]); C:\2007 final code\calibrate.c
002f6a   d8a7     RCALL     0x30ba                                                                                          
002f6c   0e0b     MOVLW     0xb            			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDFOUR)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDFOUR]); C:\2007 final code\calibrate.c
002f6e   d8a5     RCALL     0x30ba                                                                                          
002f70   0e13     MOVLW     0x13           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDFOUR)), offset[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDFOUR]); C:\2007 final code\calibrate.c
002f72   d8a3     RCALL     0x30ba                                                                                          
002f74   0e1b     MOVLW     0x1b           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDFOUR)), offset[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDFOUR]); C:\2007 final code\calibrate.c
002f76   d8a1     RCALL     0x30ba                                                                                          
                                           			                                                                              C:\2007 final code\calibrate.c
                                           			//5/8                                                                         C:\2007 final code\calibrate.c
002f78   0e04     MOVLW     0x4            			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDFIVE)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDFIVE]); C:\2007 final code\calibrate.c
002f7a   d89f     RCALL     0x30ba                                                                                          
002f7c   0e0c     MOVLW     0xc            			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDFIVE)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDFIVE]); C:\2007 final code\calibrate.c
002f7e   d89d     RCALL     0x30ba                                                                                          
002f80   0e14     MOVLW     0x14           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDFIVE)), offset[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDFIVE]); C:\2007 final code\calibrate.c
002f82   d89b     RCALL     0x30ba                                                                                          
002f84   0e1c     MOVLW     0x1c           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDFIVE)), offset[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDFIVE]); C:\2007 final code\calibrate.c
002f86   d899     RCALL     0x30ba                                                                                          
                                           			                                                                              C:\2007 final code\calibrate.c
                                           			//6/8                                                                         C:\2007 final code\calibrate.c
002f88   0e05     MOVLW     0x5            			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDSIX)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDSIX]); C:\2007 final code\calibrate.c
002f8a   d897     RCALL     0x30ba                                                                                          
002f8c   0e0d     MOVLW     0xd            			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDSIX)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDSIX]); C:\2007 final code\calibrate.c
002f8e   d895     RCALL     0x30ba                                                                                          
002f90   0e15     MOVLW     0x15           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDSIX)), offset[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDSIX]); C:\2007 final code\calibrate.c
002f92   d893     RCALL     0x30ba                                                                                          
002f94   0e1d     MOVLW     0x1d           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDSIX)), offset[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDSIX]); C:\2007 final code\calibrate.c
002f96   d891     RCALL     0x30ba                                                                                          
                                           			                                                                              C:\2007 final code\calibrate.c
                                           			//7/8                                                                         C:\2007 final code\calibrate.c
002f98   0e06     MOVLW     0x6            			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDSEVEN)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDSEVEN]); C:\2007 final code\calibrate.c
002f9a   d88f     RCALL     0x30ba                                                                                          
002f9c   0e0e     MOVLW     0xe            			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDSEVEN)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDSEVEN]); C:\2007 final code\calibrate.c
002f9e   d88d     RCALL     0x30ba                                                                                          
002fa0   0e16     MOVLW     0x16           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDSEVEN)), offset[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDSEVEN]); C:\2007 final code\calibrate.c
002fa2   d88b     RCALL     0x30ba                                                                                          
002fa4   0e1e     MOVLW     0x1e           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDSEVEN)), offset[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDSEVEN]); C:\2007 final code\calibrate.c
002fa6   d889     RCALL     0x30ba                                                                                          
                                           			                                                                              C:\2007 final code\calibrate.c
                                           			//100%                                                                        C:\2007 final code\calibrate.c
002fa8   0e07     MOVLW     0x7            			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDEIGHT)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDEIGHT]); C:\2007 final code\calibrate.c
002faa   d887     RCALL     0x30ba                                                                                          
002fac   0e0f     MOVLW     0xf            			EEPROM_prep(((ARRAYINDEX_FRONT << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDEIGHT)), offset[ARRAYINDEX_FRONT][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDEIGHT]); C:\2007 final code\calibrate.c
002fae   d885     RCALL     0x30ba                                                                                          
002fb0   0e17     MOVLW     0x17           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_LEFT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDEIGHT)), offset[ARRAYINDEX_BACK][ARRAYINDEX_LEFT][ARRAYINDEX_SPEEDEIGHT]); C:\2007 final code\calibrate.c
002fb2   d883     RCALL     0x30ba                                                                                          
002fb4   0e1f     MOVLW     0x1f           			EEPROM_prep(((ARRAYINDEX_BACK << FB_SHIFTAMOUNT) | (ARRAYINDEX_RIGHT << LR_SHIFTAMOUNT) | (ARRAYINDEX_SPEEDEIGHT)), offset[ARRAYINDEX_BACK][ARRAYINDEX_RIGHT][ARRAYINDEX_SPEEDEIGHT]); C:\2007 final code\calibrate.c
002fb6   d881     RCALL     0x30ba                                                                                          
0030ba   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0030bc   ffe6                                                                                                               
0030be   ef91     GOTO      0x3322                                                                                          
0030c0   f019                                                                                                               
                                           			                                                                              C:\2007 final code\calibrate.c
                                           			//done, don't go anymore                                                      C:\2007 final code\calibrate.c
002fb8   0103     MOVLB     0x3            			go = 0;                                                                       C:\2007 final code\calibrate.c
002fba   6bd5     CLRF      0xd5,0x1                                                                                        
002fbc   d048     BRA       0x304e         			return;                                                                       C:\2007 final code\calibrate.c
                                           	}                                                                               C:\2007 final code\calibrate.c
                                                                                                                            C:\2007 final code\calibrate.c
                                           	}                                                                               C:\2007 final code\calibrate.c
                                           #ifdef CAL_DEBUG                                                                 C:\2007 final code\calibrate.c
002fbe   d942     RCALL     0x3244         	if(!(debug_loopcount % 32))                                                     C:\2007 final code\calibrate.c
002fc0   e113     BNZ       0x2fe8                                                                                          
003244   c3d9     MOVFF     0x3d9,0x2b                                                                                      
003246   f02b                                                                                                               
003248   0100     MOVLB     0x0                                                                                             
00324a   6a2c     CLRF      0x2c,0x0                                                                                        
00324c   0e1f     MOVLW     0x1f                                                                                            
00324e   162b     ANDWF     0x2b,0x1,0x0                                                                                    
003250   502b     MOVF      0x2b,0x0,0x0                                                                                    
003252   102c     IORWF     0x2c,0x0,0x0                                                                                    
003254   0012     RETURN    0x0                                                                                             
                                           	{                                                                               C:\2007 final code\calibrate.c
002fc2   0103     MOVLB     0x3            		printf("motor_left = %d motor_right = %d\r",motor_left,motor_right);           C:\2007 final code\calibrate.c
002fc4   51d4     MOVF      0xd4,0x0,0x1                                                                                    
002fc6   6ee6     MOVWF     0xe6,0x0                                                                                        
002fc8   6ae6     CLRF      0xe6,0x0                                                                                        
002fca   51d3     MOVF      0xd3,0x0,0x1                                                                                    
002fcc   6ee6     MOVWF     0xe6,0x0                                                                                        
002fce   6ae6     CLRF      0xe6,0x0                                                                                        
002fd0   0e12     MOVLW     0x12                                                                                            
002fd2   6ee6     MOVWF     0xe6,0x0                                                                                        
002fd4   0e43     MOVLW     0x43                                                                                            
002fd6   6ee6     MOVWF     0xe6,0x0                                                                                        
002fd8   0e00     MOVLW     0x0                                                                                             
002fda   6ee6     MOVWF     0xe6,0x0                                                                                        
002fdc   ec14     CALL      0x6e28,0x0                                                                                      
002fde   f037                                                                                                               
002fe0   6ef5     MOVWF     0xf5,0x0                                                                                        
002fe2   0e07     MOVLW     0x7                                                                                             
002fe4   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
002fe6   50f5     MOVF      0xf5,0x0,0x0                                                                                    
                                           	}                                                                               C:\2007 final code\calibrate.c
                                           #endif                                                                           C:\2007 final code\calibrate.c
                                           #ifdef CAL_DEBUG                                                                 C:\2007 final code\calibrate.c
002fe8   d92d     RCALL     0x3244         	if(!(debug_loopcount % 32))                                                     C:\2007 final code\calibrate.c
002fea   e131     BNZ       0x304e                                                                                          
                                           	{                                                                               C:\2007 final code\calibrate.c
002fec   eca2     CALL      0x6744,0x0     		printf("clicks_fl = %ld clicks_fr = %ld clicks_bl = %ld clicks_br = %ld\r",FL_CLICK_COUNT, FR_CLICK_COUNT, BL_CLICK_COUNT, BR_CLICK_COUNT); C:\2007 final code\calibrate.c
002fee   f033                                                                                                               
002ff0   d974     RCALL     0x32da                                                                                          
002ff2   d8f3     RCALL     0x31da                                                                                          
002ff4   ec75     CALL      0x66ea,0x0                                                                                      
002ff6   f033                                                                                                               
002ff8   c01b     MOVFF     0x1b,0x2f                                                                                       
002ffa   f02f                                                                                                               
002ffc   c01c     MOVFF     0x1c,0x30                                                                                       
002ffe   f030                                                                                                               
003000   c01d     MOVFF     0x1d,0x31                                                                                       
003002   f031                                                                                                               
003004   c01e     MOVFF     0x1e,0x32                                                                                       
003006   f032                                                                                                               
003008   d8e8     RCALL     0x31da                                                                                          
00300a   ec48     CALL      0x6690,0x0                                                                                      
00300c   f033                                                                                                               
00300e   c01b     MOVFF     0x1b,0x33                                                                                       
003010   f033                                                                                                               
003012   c01c     MOVFF     0x1c,0x34                                                                                       
003014   f034                                                                                                               
003016   c01d     MOVFF     0x1d,0x35                                                                                       
003018   f035                                                                                                               
00301a   c01e     MOVFF     0x1e,0x36                                                                                       
00301c   f036                                                                                                               
00301e   d8dd     RCALL     0x31da                                                                                          
003020   ec1b     CALL      0x6636,0x0                                                                                      
003022   f033                                                                                                               
003024   c01b     MOVFF     0x1b,0x37                                                                                       
003026   f037                                                                                                               
003028   c01c     MOVFF     0x1c,0x38                                                                                       
00302a   f038                                                                                                               
00302c   c01d     MOVFF     0x1d,0x39                                                                                       
00302e   f039                                                                                                               
003030   c01e     MOVFF     0x1e,0x3a                                                                                       
003032   f03a                                                                                                               
003034   d8d2     RCALL     0x31da                                                                                          
003036   0ed1     MOVLW     0xd1                                                                                            
003038   6ee6     MOVWF     0xe6,0x0                                                                                        
00303a   0e42     MOVLW     0x42                                                                                            
00303c   6ee6     MOVWF     0xe6,0x0                                                                                        
00303e   0e00     MOVLW     0x0                                                                                             
003040   6ee6     MOVWF     0xe6,0x0                                                                                        
003042   ec14     CALL      0x6e28,0x0                                                                                      
003044   f037                                                                                                               
003046   6ef5     MOVWF     0xf5,0x0                                                                                        
003048   0e13     MOVLW     0x13                                                                                            
00304a   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
00304c   50f5     MOVF      0xf5,0x0,0x0                                                                                    
0031da   c01b     MOVFF     0x1b,0xfe6                                                                                      
0031dc   ffe6                                                                                                               
0031de   c01c     MOVFF     0x1c,0xfe6                                                                                      
0031e0   ffe6                                                                                                               
0031e2   c01d     MOVFF     0x1d,0xfe6                                                                                      
0031e4   ffe6                                                                                                               
0031e6   c01e     MOVFF     0x1e,0xfe6                                                                                      
0031e8   ffe6                                                                                                               
0031ea   0012     RETURN    0x0                                                                                             
0032da   c01b     MOVFF     0x1b,0x2b                                                                                       
0032dc   f02b                                                                                                               
0032de   c01c     MOVFF     0x1c,0x2c                                                                                       
0032e0   f02c                                                                                                               
0032e2   c01d     MOVFF     0x1d,0x2d                                                                                       
0032e4   f02d                                                                                                               
0032e6   c01e     MOVFF     0x1e,0x2e                                                                                       
0032e8   f02e                                                                                                               
0032ea   0012     RETURN    0x0                                                                                             
                                           	}                                                                               C:\2007 final code\calibrate.c
                                           #endif                                                                           C:\2007 final code\calibrate.c
00304e   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\calibrate.c
003050   ffe1                                                                                                               
003052   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003054   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003056   ffd9                                                                                                               
003058   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\calibrate.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	TITLE:		encoder.c                                                              C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	VERSION:	0.5 (Beta)                                                            C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	DATE:		17-Dec-2005                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	AUTHOR:		R. Kevin Watson                                                       C:\2007 final code\encoder.c
                                           *				kevinw@jpl.nasa.gov                                                         C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:	You are free to use this source code for any non-commercial          C:\2007 final code\encoder.c
                                           *				use. Please do not make copies of this source code, modified                C:\2007 final code\encoder.c
                                           *				or un-modified, publicly available on the internet or                       C:\2007 final code\encoder.c
                                           *				elsewhere without permission. Thanks.                                       C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *				Copyright 2003-2006 R. Kevin Watson. All rights are reserved.              C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           ******************************************************************************** C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CHANGE LOG:                                                                    C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	DATE         REV  DESCRIPTION                                                  C:\2007 final code\encoder.c
                                           *	-----------  ---  ----------------------------------------------------------   C:\2007 final code\encoder.c
                                           *	20-Dec-2003  0.1  RKW - Original code.                                         C:\2007 final code\encoder.c
                                           *	18-Feb-2004  0.2  RKW - Reassigned the encoder digital inputs to run           C:\2007 final code\encoder.c
                                           *	                  on the FRC robot controller too.                             C:\2007 final code\encoder.c
                                           *	01-Jan-2005  0.3  RKW - Get_Left_Encoder_Count(), Get_Right_Encoder_Count(),   C:\2007 final code\encoder.c
                                           *	                  Set_Left_Encoder_Count() and Set_Right_Encoder_Count()       C:\2007 final code\encoder.c
                                           *	                  functions added.                                             C:\2007 final code\encoder.c
                                           *	01-Jan-2005  0.3  RKW - Renamed Int_1_Handler() and Int_2_Handler() to         C:\2007 final code\encoder.c
                                           *	                  Left_Encoder_Int_Handler() and Right_Encoder_Int_Handler     C:\2007 final code\encoder.c
                                           *	                  respectively.                                                C:\2007 final code\encoder.c
                                           *	01-Jan-2005  0.3  RKW - Altered the interrupt service routines to easily       C:\2007 final code\encoder.c
                                           *	                  flip the direction the encoders count by altering the        C:\2007 final code\encoder.c
                                           *	                  RIGHT_ENCODER_TICK_DELTA and LEFT_ENCODER_TICK_DELTA         C:\2007 final code\encoder.c
                                           *	                  #defines found in encoder.h                                  C:\2007 final code\encoder.c
                                           *	06-Jan-2005  0.4  RKW - Rebuilt with C18 version 2.40.                         C:\2007 final code\encoder.c
                                           *	17-Dec-2005  0.5  RKW - Added code to accommodate four more encoders on        C:\2007 final code\encoder.c
                                           *	                  interrupts 3 through 6. These additional encoder inputs      C:\2007 final code\encoder.c
                                           *	                  are optimized for position control.                          C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           #include "ifi_default.h"                                                         C:\2007 final code\encoder.c
                                           #include "ifi_aliases.h"                                                         C:\2007 final code\encoder.c
                                           #include "encoder.h"                                                             C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           extern char direction_base;                                                      C:\2007 final code\encoder.c
                                           extern char direction_elbow;                                                     C:\2007 final code\encoder.c
                                           extern char direction_wrist;                                                     C:\2007 final code\encoder.c
                                           extern char direction_gripper;`                                                  C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           // These variables are used to keep track of the encoder position over time.     C:\2007 final code\encoder.c
                                           // Though these are global variables, they shouldn't be modified directly.       C:\2007 final code\encoder.c
                                           // Functions to modify these variables are included below.                       C:\2007 final code\encoder.c
                                           #ifdef ENABLE_ENCODER_1                                                          C:\2007 final code\encoder.c
                                           volatile long Encoder_1_Count = 0;                                               C:\2007 final code\encoder.c
                                           #endif                                                                           C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           #ifdef ENABLE_ENCODER_2                                                          C:\2007 final code\encoder.c
                                           volatile long Encoder_2_Count = 0;                                               C:\2007 final code\encoder.c
                                           #endif                                                                           C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           #ifdef ENABLE_ENCODER_3                                                          C:\2007 final code\encoder.c
                                           unsigned char Encoder_3_State;                                                   C:\2007 final code\encoder.c
                                           volatile long Encoder_3_Count = 0;                                               C:\2007 final code\encoder.c
                                           #endif                                                                           C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           #ifdef ENABLE_ENCODER_4                                                          C:\2007 final code\encoder.c
                                           unsigned char Encoder_4_State;                                                   C:\2007 final code\encoder.c
                                           volatile long Encoder_4_Count = 0;                                               C:\2007 final code\encoder.c
                                           #endif                                                                           C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           #ifdef ENABLE_ENCODER_5                                                          C:\2007 final code\encoder.c
                                           unsigned char Encoder_5_State;                                                   C:\2007 final code\encoder.c
                                           volatile long Encoder_5_Count = 0;                                               C:\2007 final code\encoder.c
                                           #endif                                                                           C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           #ifdef ENABLE_ENCODER_6                                                          C:\2007 final code\encoder.c
                                           unsigned char Encoder_6_State;                                                   C:\2007 final code\encoder.c
                                           volatile long Encoder_6_Count = 0;                                               C:\2007 final code\encoder.c
                                           #endif                                                                           C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           // So that we'll know which interrupt pin changed state the next time through,   C:\2007 final code\encoder.c
                                           // the state of port b is saved in this variable each time the interrupt         C:\2007 final code\encoder.c
                                           // handler for interrupts 3 through 6 is called. This variable should be         C:\2007 final code\encoder.c
                                           // initialized to the current state of port b just before enabling interrupts    C:\2007 final code\encoder.c
                                           // 3 through 6.                                                                  C:\2007 final code\encoder.c
                                           unsigned char Old_Port_B = 0xFF;                                                 C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Initialize_Encoders()                                               C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		Initializes the encoder software.                                    C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:	user_routines.c/User_Initialization()                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None                                                              C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Nothing                                                              C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
                                           void Initialize_Encoders(void)                                                   C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	// if enabled in encoder.h, configure encoder 1's interrupt input               C:\2007 final code\encoder.c
                                           	#ifdef ENABLE_ENCODER_1                                                         C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// make sure interrupt 1 is configured as an input                              C:\2007 final code\encoder.c
006574   8493     BSF       0x93,0x2,0x0   	TRISBbits.TRISB2 = 1;                                                           C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// interrupt 1 is low priority                                                  C:\2007 final code\encoder.c
006576   9ef0     BCF       0xf0,0x7,0x0   	INTCON3bits.INT2IP = 0;                                                         C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// trigger on rising edge                                                       C:\2007 final code\encoder.c
006578   88f1     BSF       0xf1,0x4,0x0   	INTCON2bits.INTEDG2 = 1;                                                        C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// make sure the interrupt flag is reset before enabling                        C:\2007 final code\encoder.c
00657a   92f0     BCF       0xf0,0x1,0x0   	INTCON3bits.INT2IF = 0;                                                         C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// enable interrupt 1                                                           C:\2007 final code\encoder.c
00657c   88f0     BSF       0xf0,0x4,0x0   	INTCON3bits.INT2IE = 1;                                                         C:\2007 final code\encoder.c
                                           	#endif                                                                          C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// if enabled in encoder.h, configure encoder 2's interrupt input               C:\2007 final code\encoder.c
                                           	#ifdef ENABLE_ENCODER_2                                                         C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// make sure interrupt 2 is configured as an input                              C:\2007 final code\encoder.c
00657e   8693     BSF       0x93,0x3,0x0   	TRISBbits.TRISB3 = 1;                                                           C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// interrupt 2 is low priority                                                  C:\2007 final code\encoder.c
                                           //	INTCON2bits.INT3IP = 0;                                                       C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// trigger on rising edge                                                       C:\2007 final code\encoder.c
006580   86f1     BSF       0xf1,0x3,0x0   	INTCON2bits.INTEDG3 = 1;                                                        C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// make sure the interrupt flag is reset before enabling                        C:\2007 final code\encoder.c
006582   94f0     BCF       0xf0,0x2,0x0   	INTCON3bits.INT3IF = 0;                                                         C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// enable interrupt 2                                                           C:\2007 final code\encoder.c
006584   8af0     BSF       0xf0,0x5,0x0   	INTCON3bits.INT3IE = 1;                                                         C:\2007 final code\encoder.c
                                           	#endif                                                                          C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// if enabled in encoder.h, configure the interrupt input for encoders 3-6      C:\2007 final code\encoder.c
                                           	#ifdef ENABLE_ENCODER_3_6                                                       C:\2007 final code\encoder.c
                                           	// make sure interrupts 3 through 6 are configured as inputs                    C:\2007 final code\encoder.c
006586   8893     BSF       0x93,0x4,0x0   	TRISBbits.TRISB4 = 1;                                                           C:\2007 final code\encoder.c
006588   8a93     BSF       0x93,0x5,0x0   	TRISBbits.TRISB5 = 1;                                                           C:\2007 final code\encoder.c
00658a   8c93     BSF       0x93,0x6,0x0   	TRISBbits.TRISB6 = 1;                                                           C:\2007 final code\encoder.c
00658c   8e93     BSF       0x93,0x7,0x0   	TRISBbits.TRISB7 = 1;                                                           C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// interrupts 3 through 6 are low priority                                      C:\2007 final code\encoder.c
00658e   90f1     BCF       0xf1,0x0,0x0     	INTCON2bits.RBIP = 0;                                                         C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// before enabling interrupts 3 through 6, take a snapshot of port b            C:\2007 final code\encoder.c
006590   cf81     MOVFF     0xf81,0x3ac    	Old_Port_B = PORTB;                                                             C:\2007 final code\encoder.c
006592   f3ac                                                                                                               
                                                                                                                            C:\2007 final code\encoder.c
                                           	// make sure the interrupt flag is reset before enabling                        C:\2007 final code\encoder.c
006594   90f2     BCF       0xf2,0x0,0x0   	INTCONbits.RBIF = 0;                                                            C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// enable interrupts 3 through 6                                                C:\2007 final code\encoder.c
006596   86f2     BSF       0xf2,0x3,0x0   	INTCONbits.RBIE = 1;                                                            C:\2007 final code\encoder.c
                                           	#endif                                                                          C:\2007 final code\encoder.c
006598   0012     RETURN    0x0            }                                                                                C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           #ifdef ENABLE_ENCODER_1                                                          C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Get_Encoder_1_Count()                                               C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		Gets the current number of encoder 1 counts.		                       C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Number of encoder 1 counts since the last reset.                     C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
00659a   d90e     RCALL     0x67b8         long Get_Encoder_1_Count(void)                                                   C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	long count;                                                                     C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Since we're about to access the Encoder_1_Count variable,                    C:\2007 final code\encoder.c
                                           	// which can also be modified in the interrupt service routine,                 C:\2007 final code\encoder.c
                                           	// we'll briefly disable the encoder's interrupt to make sure                   C:\2007 final code\encoder.c
                                           	// that the Encoder_1_Count variable doesn't get altered while                  C:\2007 final code\encoder.c
                                           	// we're using it.                                                              C:\2007 final code\encoder.c
00659c   98f0     BCF       0xf0,0x4,0x0   	INTCON3bits.INT2IE = 0;                                                         C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Now we can get a local copy of the encoder count without fear                C:\2007 final code\encoder.c
                                           	// that we'll get corrupted data.                                               C:\2007 final code\encoder.c
00659e   c394     MOVFF     0x394,0xfdf    	count = Encoder_1_Count;                                                        C:\2007 final code\encoder.c
0065a0   ffdf                                                                                                               
0065a2   0e01     MOVLW     0x1                                                                                             
0065a4   c395     MOVFF     0x395,0xfdb                                                                                     
0065a6   ffdb                                                                                                               
0065a8   0e02     MOVLW     0x2                                                                                             
0065aa   c396     MOVFF     0x396,0xfdb                                                                                     
0065ac   ffdb                                                                                                               
0065ae   0e03     MOVLW     0x3                                                                                             
0065b0   c397     MOVFF     0x397,0xfdb                                                                                     
0065b2   ffdb                                                                                                               
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Okay, we have a local copy of the encoder count, so turn the                 C:\2007 final code\encoder.c
                                           	// encoder's interrupt back on.                                                 C:\2007 final code\encoder.c
0065b4   88f0     BSF       0xf0,0x4,0x0   	INTCON3bits.INT2IE = 1;                                                         C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Return the encoder count to the caller.                                      C:\2007 final code\encoder.c
0065b6   d0f3     BRA       0x679e         	return(count);                                                                  C:\2007 final code\encoder.c
                                           }                                                                                C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Reset_Encoder_1_Count()                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		Resets the encoder 1 count to zero	                                  C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
                                           void Reset_Encoder_1_Count(void)                                                 C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	// Since we're about to access the Encoder_1_Count variable,                    C:\2007 final code\encoder.c
                                           	// which can also be modified in the interrupt service routine,                 C:\2007 final code\encoder.c
                                           	// we'll briefly disable the encoder's interrupt to make sure                   C:\2007 final code\encoder.c
                                           	// that the Encoder_1_Count variable doesn't get altered while                  C:\2007 final code\encoder.c
                                           	// we're using it.                                                              C:\2007 final code\encoder.c
0065b8   98f0     BCF       0xf0,0x4,0x0   	INTCON3bits.INT2IE = 0;                                                         C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Now we can set the value of the encoder count without fear                   C:\2007 final code\encoder.c
                                           	// that we'll write corrupted data.                                             C:\2007 final code\encoder.c
0065ba   0103     MOVLB     0x3            	Encoder_1_Count = 0;                                                            C:\2007 final code\encoder.c
0065bc   6b94     CLRF      0x94,0x1                                                                                        
0065be   6b95     CLRF      0x95,0x1                                                                                        
0065c0   6b96     CLRF      0x96,0x1                                                                                        
0065c2   6b97     CLRF      0x97,0x1                                                                                        
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Okay, we're done updating the encoder count, so turn the                     C:\2007 final code\encoder.c
                                           	// left encoder's interrupt back on.                                            C:\2007 final code\encoder.c
0065c4   88f0     BSF       0xf0,0x4,0x0   	INTCON3bits.INT2IE = 1;                                                         C:\2007 final code\encoder.c
0065c6   0012     RETURN    0x0            }                                                                                C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Encoder_1_Int_Handler()                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		If enabled, the encoder 1 interrupt handler is called when           C:\2007 final code\encoder.c
                                           *					the interrupt 1 pin changes from a logic 0 to a logic 1.                   C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:	user_routines_fast.c/InterruptHandlerLow()                        C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
                                           void Encoder_1_Int_Handler(void)                                                 C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	// Encoder 1's phase a signal just transitioned from zero to one, causing       C:\2007 final code\encoder.c
                                           	// this interrupt service routine to be called. We know that the encoder        C:\2007 final code\encoder.c
                                           	// just rotated one count or "tick" so now check the logical state of the       C:\2007 final code\encoder.c
                                           	// phase b signal to determine which way the the encoder shaft rotated.         C:\2007 final code\encoder.c
0065c8   b288     BTFSC     0x88,0x1,0x0   	if(ENCODER_1_PHASE_B_PIN == 0)                                                  C:\2007 final code\encoder.c
0065ca   d007     BRA       0x65da                                                                                          
                                           	{                                                                               C:\2007 final code\encoder.c
0065cc   0103     MOVLB     0x3            		Encoder_1_Count -= ENCODER_1_TICK_DELTA;                                       C:\2007 final code\encoder.c
0065ce   0794     DECF      0x94,0x1,0x1                                                                                    
0065d0   0e00     MOVLW     0x0                                                                                             
0065d2   5b95     SUBWFB    0x95,0x1,0x1                                                                                    
0065d4   5b96     SUBWFB    0x96,0x1,0x1                                                                                    
0065d6   5b97     SUBWFB    0x97,0x1,0x1                                                                                    
                                           	}                                                                               C:\2007 final code\encoder.c
0065d8   0012     RETURN    0x0            	else                                                                            C:\2007 final code\encoder.c
                                           	{                                                                               C:\2007 final code\encoder.c
0065da   0103     MOVLB     0x3            		Encoder_1_Count += ENCODER_1_TICK_DELTA;                                       C:\2007 final code\encoder.c
0065dc   2b94     INCF      0x94,0x1,0x1                                                                                    
0065de   0e00     MOVLW     0x0                                                                                             
0065e0   2395     ADDWFC    0x95,0x1,0x1                                                                                    
0065e2   2396     ADDWFC    0x96,0x1,0x1                                                                                    
0065e4   2397     ADDWFC    0x97,0x1,0x1                                                                                    
                                           	}                                                                               C:\2007 final code\encoder.c
0065e6   0012     RETURN    0x0            }                                                                                C:\2007 final code\encoder.c
                                           #endif                                                                           C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           #ifdef ENABLE_ENCODER_2                                                          C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Get_Encoder_2_Count()                                               C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		Gets the current number of encoder 2 counts.		                       C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Number of encoder 2 counts since the last reset.                     C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
0065e8   d8e7     RCALL     0x67b8         long Get_Encoder_2_Count(void)                                                   C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	long count;                                                                     C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Since we're about to access the Encoder_2_Count variable,                    C:\2007 final code\encoder.c
                                           	// which can also be modified in the interrupt service routine,                 C:\2007 final code\encoder.c
                                           	// we'll briefly disable the encoder's interrupt to make sure                   C:\2007 final code\encoder.c
                                           	// that the Encoder_2_Count variable doesn't get altered while                  C:\2007 final code\encoder.c
                                           	// we're using it.                                                              C:\2007 final code\encoder.c
0065ea   9af0     BCF       0xf0,0x5,0x0   	INTCON3bits.INT3IE = 0;                                                         C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Now we can get a local copy of the encoder count without fear                C:\2007 final code\encoder.c
                                           	// that we'll get corrupted data.                                               C:\2007 final code\encoder.c
0065ec   c398     MOVFF     0x398,0xfdf    	count = Encoder_2_Count;                                                        C:\2007 final code\encoder.c
0065ee   ffdf                                                                                                               
0065f0   0e01     MOVLW     0x1                                                                                             
0065f2   c399     MOVFF     0x399,0xfdb                                                                                     
0065f4   ffdb                                                                                                               
0065f6   0e02     MOVLW     0x2                                                                                             
0065f8   c39a     MOVFF     0x39a,0xfdb                                                                                     
0065fa   ffdb                                                                                                               
0065fc   0e03     MOVLW     0x3                                                                                             
0065fe   c39b     MOVFF     0x39b,0xfdb                                                                                     
006600   ffdb                                                                                                               
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Okay, we have a local copy of the encoder count, so turn the                 C:\2007 final code\encoder.c
                                           	// encoder's interrupt back on.                                                 C:\2007 final code\encoder.c
006602   8af0     BSF       0xf0,0x5,0x0   	INTCON3bits.INT3IE = 1;                                                         C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Return the encoder count to the caller.                                      C:\2007 final code\encoder.c
006604   d0cc     BRA       0x679e         	return(count);                                                                  C:\2007 final code\encoder.c
                                           }                                                                                C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Reset_Encoder_2_Count()                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		Resets the encoder 2 count to zero	                                  C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
                                           void Reset_Encoder_2_Count(void)                                                 C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	// Since we're about to access the Encoder_2_Count variable,                    C:\2007 final code\encoder.c
                                           	// which can also be modified in the interrupt service routine,                 C:\2007 final code\encoder.c
                                           	// we'll briefly disable the encoder's interrupt to make sure                   C:\2007 final code\encoder.c
                                           	// that the Encoder_2_Count variable doesn't get altered while                  C:\2007 final code\encoder.c
                                           	// we're using it.                                                              C:\2007 final code\encoder.c
006606   9af0     BCF       0xf0,0x5,0x0   	INTCON3bits.INT3IE = 0;                                                         C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Now we can set the value of the encoder count without fear                   C:\2007 final code\encoder.c
                                           	// that we'll write corrupted data.                                             C:\2007 final code\encoder.c
006608   0103     MOVLB     0x3            	Encoder_2_Count = 0;                                                            C:\2007 final code\encoder.c
00660a   6b98     CLRF      0x98,0x1                                                                                        
00660c   6b99     CLRF      0x99,0x1                                                                                        
00660e   6b9a     CLRF      0x9a,0x1                                                                                        
006610   6b9b     CLRF      0x9b,0x1                                                                                        
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Okay, we're done updating the encoder count, so turn the                     C:\2007 final code\encoder.c
                                           	// left encoder's interrupt back on.                                            C:\2007 final code\encoder.c
006612   8af0     BSF       0xf0,0x5,0x0   	INTCON3bits.INT3IE = 1;                                                         C:\2007 final code\encoder.c
006614   0012     RETURN    0x0            }                                                                                C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Encoder_2_Int_Handler()                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		If enabled, the encoder 2 interrupt handler is called when           C:\2007 final code\encoder.c
                                           *					the interrupt 2 pin changes from a logic 0 to a logic 1.                   C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:	user_routines_fast.c/InterruptHandlerLow()                        C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
                                           void Encoder_2_Int_Handler(void)                                                 C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	// Encoder 2's phase a signal just transitioned from zero to one, causing       C:\2007 final code\encoder.c
                                           	// this interrupt service routine to be called. We know that the encoder        C:\2007 final code\encoder.c
                                           	// just rotated one count or "tick" so now check the logical state of the       C:\2007 final code\encoder.c
                                           	// phase b signal to determine which way the the encoder shaft rotated.         C:\2007 final code\encoder.c
006616   b488     BTFSC     0x88,0x2,0x0   	if(ENCODER_2_PHASE_B_PIN == 0)                                                  C:\2007 final code\encoder.c
006618   d007     BRA       0x6628                                                                                          
                                           	{                                                                               C:\2007 final code\encoder.c
00661a   0103     MOVLB     0x3            		Encoder_2_Count -= ENCODER_2_TICK_DELTA;                                       C:\2007 final code\encoder.c
00661c   0798     DECF      0x98,0x1,0x1                                                                                    
00661e   0e00     MOVLW     0x0                                                                                             
006620   5b99     SUBWFB    0x99,0x1,0x1                                                                                    
006622   5b9a     SUBWFB    0x9a,0x1,0x1                                                                                    
006624   5b9b     SUBWFB    0x9b,0x1,0x1                                                                                    
                                           	}                                                                               C:\2007 final code\encoder.c
006626   0012     RETURN    0x0            	else                                                                            C:\2007 final code\encoder.c
                                           	{                                                                               C:\2007 final code\encoder.c
006628   0103     MOVLB     0x3            		Encoder_2_Count += ENCODER_2_TICK_DELTA;                                       C:\2007 final code\encoder.c
00662a   2b98     INCF      0x98,0x1,0x1                                                                                    
00662c   0e00     MOVLW     0x0                                                                                             
00662e   2399     ADDWFC    0x99,0x1,0x1                                                                                    
006630   239a     ADDWFC    0x9a,0x1,0x1                                                                                    
006632   239b     ADDWFC    0x9b,0x1,0x1                                                                                    
                                           	}                                                                               C:\2007 final code\encoder.c
006634   0012     RETURN    0x0            }                                                                                C:\2007 final code\encoder.c
                                           #endif                                                                           C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           #ifdef ENABLE_ENCODER_3                                                          C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Get_Encoder_3_Count()                                               C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		Gets the current number of encoder 3 counts.		                       C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Number of encoder 3 counts since the last reset.                     C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
006636   d8c0     RCALL     0x67b8         long Get_Encoder_3_Count(void)                                                   C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	long count;                                                                     C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Since we're about to access the Encoder_3_Count variable,                    C:\2007 final code\encoder.c
                                           	// which can also be modified in the interrupt service routine,                 C:\2007 final code\encoder.c
                                           	// we'll briefly disable the encoder's interrupt to make sure                   C:\2007 final code\encoder.c
                                           	// that the Encoder_3_Count variable doesn't get altered while                  C:\2007 final code\encoder.c
                                           	// we're using it.                                                              C:\2007 final code\encoder.c
006638   96f2     BCF       0xf2,0x3,0x0   	INTCONbits.RBIE = 0;                                                            C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Now we can get a local copy of the encoder count without fear                C:\2007 final code\encoder.c
                                           	// that we'll get corrupted data.                                               C:\2007 final code\encoder.c
00663a   c39c     MOVFF     0x39c,0xfdf    	count = Encoder_3_Count;                                                        C:\2007 final code\encoder.c
00663c   ffdf                                                                                                               
00663e   0e01     MOVLW     0x1                                                                                             
006640   c39d     MOVFF     0x39d,0xfdb                                                                                     
006642   ffdb                                                                                                               
006644   0e02     MOVLW     0x2                                                                                             
006646   c39e     MOVFF     0x39e,0xfdb                                                                                     
006648   ffdb                                                                                                               
00664a   0e03     MOVLW     0x3                                                                                             
00664c   c39f     MOVFF     0x39f,0xfdb                                                                                     
00664e   ffdb                                                                                                               
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Okay, we have a local copy of the encoder count, so turn the                 C:\2007 final code\encoder.c
                                           	// encoder's interrupt back on.                                                 C:\2007 final code\encoder.c
006650   86f2     BSF       0xf2,0x3,0x0   	INTCONbits.RBIE = 1;                                                            C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Return the encoder count to the caller.                                      C:\2007 final code\encoder.c
006652   d0a5     BRA       0x679e         	return(count);                                                                  C:\2007 final code\encoder.c
                                           }                                                                                C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Reset_Encoder_3_Count()                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		Resets the encoder 3 count to zero	                                  C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
                                           void Reset_Encoder_3_Count(void)                                                 C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	// Since we're about to access the Encoder_3_Count variable,                    C:\2007 final code\encoder.c
                                           	// which can also be modified in the interrupt service routine,                 C:\2007 final code\encoder.c
                                           	// we'll briefly disable the encoder's interrupt to make sure                   C:\2007 final code\encoder.c
                                           	// that the Encoder_3_Count variable doesn't get altered while                  C:\2007 final code\encoder.c
                                           	// we're using it.                                                              C:\2007 final code\encoder.c
006654   96f2     BCF       0xf2,0x3,0x0   	INTCONbits.RBIE = 0;                                                            C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Now we can set the value of the encoder count without fear                   C:\2007 final code\encoder.c
                                           	// that we'll write corrupted data.                                             C:\2007 final code\encoder.c
006656   0103     MOVLB     0x3            	Encoder_3_Count = 0;                                                            C:\2007 final code\encoder.c
006658   6b9c     CLRF      0x9c,0x1                                                                                        
00665a   6b9d     CLRF      0x9d,0x1                                                                                        
00665c   6b9e     CLRF      0x9e,0x1                                                                                        
00665e   6b9f     CLRF      0x9f,0x1                                                                                        
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Okay, we're done updating the encoder count, so turn the                     C:\2007 final code\encoder.c
                                           	// left encoder's interrupt back on.                                            C:\2007 final code\encoder.c
006660   86f2     BSF       0xf2,0x3,0x0   	INTCONbits.RBIE = 1;                                                            C:\2007 final code\encoder.c
006662   0012     RETURN    0x0            }                                                                                C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Encoder_3_Int_Handler()                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		If enabled, the encoder 3 interrupt handler is called when           C:\2007 final code\encoder.c
                                           *					the interrupt 3 pin changes logic state                                    C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:	user_routines_fast.c/InterruptHandlerLow()                        C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
006664   d8b0     RCALL     0x67c6         void Encoder_3_Int_Handler(unsigned char state)                                  C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	// Encoder 3's phase a signal just changed logic level, causing this            C:\2007 final code\encoder.c
                                           	// interrupt service routine to be called.                                      C:\2007 final code\encoder.c
006666   e113     BNZ       0x668e         	if(state == 1)                                                                  C:\2007 final code\encoder.c
                                           	{                                                                               C:\2007 final code\encoder.c
                                           		// rising-edge interrupt                                                       C:\2007 final code\encoder.c
006668   0eff     MOVLW     0xff           		if(direction_base == -1)                                                       C:\2007 final code\encoder.c
00666a   0103     MOVLB     0x3                                                                                             
00666c   5dad     SUBWF     0xad,0x0,0x1                                                                                    
00666e   e107     BNZ       0x667e                                                                                          
                                           		{                                                                              C:\2007 final code\encoder.c
                                           			// backward                                                                   C:\2007 final code\encoder.c
006670   0103     MOVLB     0x3            			Encoder_3_Count -= ENCODER_3_TICK_DELTA;                                      C:\2007 final code\encoder.c
006672   079c     DECF      0x9c,0x1,0x1                                                                                    
006674   0e00     MOVLW     0x0                                                                                             
006676   5b9d     SUBWFB    0x9d,0x1,0x1                                                                                    
006678   5b9e     SUBWFB    0x9e,0x1,0x1                                                                                    
00667a   5b9f     SUBWFB    0x9f,0x1,0x1                                                                                    
                                           		}                                                                              C:\2007 final code\encoder.c
00667c   d008     BRA       0x668e         		else if(direction_base == 1)                                                   C:\2007 final code\encoder.c
00667e   05ad     DECF      0xad,0x0,0x1                                                                                    
006680   e106     BNZ       0x668e                                                                                          
                                           		{                                                                              C:\2007 final code\encoder.c
                                           			// forward                                                                    C:\2007 final code\encoder.c
006682   0103     MOVLB     0x3            			Encoder_3_Count += ENCODER_3_TICK_DELTA;                                      C:\2007 final code\encoder.c
006684   2b9c     INCF      0x9c,0x1,0x1                                                                                    
006686   0e00     MOVLW     0x0                                                                                             
006688   239d     ADDWFC    0x9d,0x1,0x1                                                                                    
00668a   239e     ADDWFC    0x9e,0x1,0x1                                                                                    
00668c   239f     ADDWFC    0x9f,0x1,0x1                                                                                    
                                           		}                                                                              C:\2007 final code\encoder.c
                                           	}                                                                               C:\2007 final code\encoder.c
00668e   d0a2     BRA       0x67d4         }                                                                                C:\2007 final code\encoder.c
                                           #endif                                                                           C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           #ifdef ENABLE_ENCODER_4                                                          C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Get_Encoder_4_Count()                                               C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		Gets the current number of encoder 4 counts.		                       C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Number of encoder 4 counts since the last reset.                     C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
006690   d893     RCALL     0x67b8         long Get_Encoder_4_Count(void)                                                   C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	long count;                                                                     C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Since we're about to access the Encoder_4_Count variable,                    C:\2007 final code\encoder.c
                                           	// which can also be modified in the interrupt service routine,                 C:\2007 final code\encoder.c
                                           	// we'll briefly disable the encoder's interrupt to make sure                   C:\2007 final code\encoder.c
                                           	// that the Encoder_4_Count variable doesn't get altered while                  C:\2007 final code\encoder.c
                                           	// we're using it.                                                              C:\2007 final code\encoder.c
006692   96f2     BCF       0xf2,0x3,0x0   	INTCONbits.RBIE = 0;                                                            C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Now we can get a local copy of the encoder count without fear                C:\2007 final code\encoder.c
                                           	// that we'll get corrupted data.                                               C:\2007 final code\encoder.c
006694   c3a0     MOVFF     0x3a0,0xfdf    	count = Encoder_4_Count;                                                        C:\2007 final code\encoder.c
006696   ffdf                                                                                                               
006698   0e01     MOVLW     0x1                                                                                             
00669a   c3a1     MOVFF     0x3a1,0xfdb                                                                                     
00669c   ffdb                                                                                                               
00669e   0e02     MOVLW     0x2                                                                                             
0066a0   c3a2     MOVFF     0x3a2,0xfdb                                                                                     
0066a2   ffdb                                                                                                               
0066a4   0e03     MOVLW     0x3                                                                                             
0066a6   c3a3     MOVFF     0x3a3,0xfdb                                                                                     
0066a8   ffdb                                                                                                               
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Okay, we have a local copy of the encoder count, so turn the                 C:\2007 final code\encoder.c
                                           	// encoder's interrupt back on.                                                 C:\2007 final code\encoder.c
0066aa   86f2     BSF       0xf2,0x3,0x0   	INTCONbits.RBIE = 1;                                                            C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Return the encoder count to the caller.                                      C:\2007 final code\encoder.c
0066ac   d078     BRA       0x679e         	return(count);                                                                  C:\2007 final code\encoder.c
                                           }                                                                                C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Reset_Encoder_4_Count()                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		Resets the encoder 4 count to zero	                                  C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
                                           void Reset_Encoder_4_Count(void)                                                 C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	// Since we're about to access the Encoder_4_Count variable,                    C:\2007 final code\encoder.c
                                           	// which can also be modified in the interrupt service routine,                 C:\2007 final code\encoder.c
                                           	// we'll briefly disable the encoder's interrupt to make sure                   C:\2007 final code\encoder.c
                                           	// that the Encoder_4_Count variable doesn't get altered while                  C:\2007 final code\encoder.c
                                           	// we're using it.                                                              C:\2007 final code\encoder.c
0066ae   96f2     BCF       0xf2,0x3,0x0   	INTCONbits.RBIE = 0;                                                            C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Now we can set the value of the encoder count without fear                   C:\2007 final code\encoder.c
                                           	// that we'll write corrupted data.                                             C:\2007 final code\encoder.c
0066b0   0103     MOVLB     0x3            	Encoder_4_Count = 0;                                                            C:\2007 final code\encoder.c
0066b2   6ba0     CLRF      0xa0,0x1                                                                                        
0066b4   6ba1     CLRF      0xa1,0x1                                                                                        
0066b6   6ba2     CLRF      0xa2,0x1                                                                                        
0066b8   6ba3     CLRF      0xa3,0x1                                                                                        
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Okay, we're done updating the encoder count, so turn the                     C:\2007 final code\encoder.c
                                           	// left encoder's interrupt back on.                                            C:\2007 final code\encoder.c
0066ba   86f2     BSF       0xf2,0x3,0x0   	INTCONbits.RBIE = 1;                                                            C:\2007 final code\encoder.c
0066bc   0012     RETURN    0x0            }                                                                                C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Encoder_4_Int_Handler()                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		If enabled, the encoder 4 interrupt handler is called when           C:\2007 final code\encoder.c
                                           *					the interrupt 4 pin changes logic state                                    C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:	user_routines_fast.c/InterruptHandlerLow()                        C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
0066be   d883     RCALL     0x67c6         void Encoder_4_Int_Handler(unsigned char state)                                  C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	// Encoder 4's phase a signal just changed logic level, causing this            C:\2007 final code\encoder.c
                                           	// interrupt service routine to be called.                                      C:\2007 final code\encoder.c
0066c0   e113     BNZ       0x66e8         	if(state == 1)                                                                  C:\2007 final code\encoder.c
                                           	{                                                                               C:\2007 final code\encoder.c
                                           		// rising-edge interrupt                                                       C:\2007 final code\encoder.c
0066c2   0eff     MOVLW     0xff           		if(direction_elbow == -1)                                                      C:\2007 final code\encoder.c
0066c4   0103     MOVLB     0x3                                                                                             
0066c6   5dae     SUBWF     0xae,0x0,0x1                                                                                    
0066c8   e107     BNZ       0x66d8                                                                                          
                                           		{                                                                              C:\2007 final code\encoder.c
                                           			// backward                                                                   C:\2007 final code\encoder.c
0066ca   0103     MOVLB     0x3            			Encoder_4_Count -= ENCODER_4_TICK_DELTA;                                      C:\2007 final code\encoder.c
0066cc   07a0     DECF      0xa0,0x1,0x1                                                                                    
0066ce   0e00     MOVLW     0x0                                                                                             
0066d0   5ba1     SUBWFB    0xa1,0x1,0x1                                                                                    
0066d2   5ba2     SUBWFB    0xa2,0x1,0x1                                                                                    
0066d4   5ba3     SUBWFB    0xa3,0x1,0x1                                                                                    
                                           		}                                                                              C:\2007 final code\encoder.c
0066d6   d008     BRA       0x66e8         		else if(direction_elbow == 1)                                                  C:\2007 final code\encoder.c
0066d8   05ae     DECF      0xae,0x0,0x1                                                                                    
0066da   e106     BNZ       0x66e8                                                                                          
                                           		{                                                                              C:\2007 final code\encoder.c
                                           			// forward                                                                    C:\2007 final code\encoder.c
0066dc   0103     MOVLB     0x3            			Encoder_4_Count += ENCODER_4_TICK_DELTA;                                      C:\2007 final code\encoder.c
0066de   2ba0     INCF      0xa0,0x1,0x1                                                                                    
0066e0   0e00     MOVLW     0x0                                                                                             
0066e2   23a1     ADDWFC    0xa1,0x1,0x1                                                                                    
0066e4   23a2     ADDWFC    0xa2,0x1,0x1                                                                                    
0066e6   23a3     ADDWFC    0xa3,0x1,0x1                                                                                    
                                           		}                                                                              C:\2007 final code\encoder.c
                                           	}                                                                               C:\2007 final code\encoder.c
0066e8   d075     BRA       0x67d4         }                                                                                C:\2007 final code\encoder.c
                                           #endif                                                                           C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           #ifdef ENABLE_ENCODER_5                                                          C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Get_Encoder_5_Count()                                               C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		Gets the current number of encoder 5 counts.		                       C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Number of encoder 5 counts since the last reset.                     C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
0066ea   d866     RCALL     0x67b8         long Get_Encoder_5_Count(void)                                                   C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	long count;                                                                     C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Since we're about to access the Encoder_5_Count variable,                    C:\2007 final code\encoder.c
                                           	// which can also be modified in the interrupt service routine,                 C:\2007 final code\encoder.c
                                           	// we'll briefly disable the encoder's interrupt to make sure                   C:\2007 final code\encoder.c
                                           	// that the Encoder_5_Count variable doesn't get altered while                  C:\2007 final code\encoder.c
                                           	// we're using it.                                                              C:\2007 final code\encoder.c
0066ec   96f2     BCF       0xf2,0x3,0x0   	INTCONbits.RBIE = 0;                                                            C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Now we can get a local copy of the encoder count without fear                C:\2007 final code\encoder.c
                                           	// that we'll get corrupted data.                                               C:\2007 final code\encoder.c
0066ee   c3a4     MOVFF     0x3a4,0xfdf    	count = Encoder_5_Count;                                                        C:\2007 final code\encoder.c
0066f0   ffdf                                                                                                               
0066f2   0e01     MOVLW     0x1                                                                                             
0066f4   c3a5     MOVFF     0x3a5,0xfdb                                                                                     
0066f6   ffdb                                                                                                               
0066f8   0e02     MOVLW     0x2                                                                                             
0066fa   c3a6     MOVFF     0x3a6,0xfdb                                                                                     
0066fc   ffdb                                                                                                               
0066fe   0e03     MOVLW     0x3                                                                                             
006700   c3a7     MOVFF     0x3a7,0xfdb                                                                                     
006702   ffdb                                                                                                               
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Okay, we have a local copy of the encoder count, so turn the                 C:\2007 final code\encoder.c
                                           	// encoder's interrupt back on.                                                 C:\2007 final code\encoder.c
006704   86f2     BSF       0xf2,0x3,0x0   	INTCONbits.RBIE = 1;                                                            C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Return the encoder count to the caller.                                      C:\2007 final code\encoder.c
006706   d04b     BRA       0x679e         	return(count);                                                                  C:\2007 final code\encoder.c
                                           }                                                                                C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Reset_Encoder_5_Count()                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		Resets the encoder 5 count to zero	                                  C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
                                           void Reset_Encoder_5_Count(void)                                                 C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	// Since we're about to access the Encoder_5_Count variable,                    C:\2007 final code\encoder.c
                                           	// which can also be modified in the interrupt service routine,                 C:\2007 final code\encoder.c
                                           	// we'll briefly disable the encoder's interrupt to make sure                   C:\2007 final code\encoder.c
                                           	// that the Encoder_5_Count variable doesn't get altered while                  C:\2007 final code\encoder.c
                                           	// we're using it.                                                              C:\2007 final code\encoder.c
006708   96f2     BCF       0xf2,0x3,0x0   	INTCONbits.RBIE = 0;                                                            C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Now we can set the value of the encoder count without fear                   C:\2007 final code\encoder.c
                                           	// that we'll write corrupted data.                                             C:\2007 final code\encoder.c
00670a   0103     MOVLB     0x3            	Encoder_5_Count = 0;                                                            C:\2007 final code\encoder.c
00670c   6ba4     CLRF      0xa4,0x1                                                                                        
00670e   6ba5     CLRF      0xa5,0x1                                                                                        
006710   6ba6     CLRF      0xa6,0x1                                                                                        
006712   6ba7     CLRF      0xa7,0x1                                                                                        
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Okay, we're done updating the encoder count, so turn the                     C:\2007 final code\encoder.c
                                           	// left encoder's interrupt back on.                                            C:\2007 final code\encoder.c
006714   86f2     BSF       0xf2,0x3,0x0   	INTCONbits.RBIE = 1;                                                            C:\2007 final code\encoder.c
006716   0012     RETURN    0x0            }                                                                                C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Encoder_5_Int_Handler()                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		If enabled, the encoder 5 interrupt handler is called when           C:\2007 final code\encoder.c
                                           *					the interrupt 5 pin changes logic state                                    C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:	user_routines_fast.c/InterruptHandlerLow()                        C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
006718   d856     RCALL     0x67c6         void Encoder_5_Int_Handler(unsigned char state)                                  C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	// Encoder 5's phase a signal just changed logic level, causing this            C:\2007 final code\encoder.c
                                           	// interrupt service routine to be called.                                      C:\2007 final code\encoder.c
00671a   e113     BNZ       0x6742         	if(state == 1)                                                                  C:\2007 final code\encoder.c
                                           	{                                                                               C:\2007 final code\encoder.c
                                           		// rising-edge interrupt                                                       C:\2007 final code\encoder.c
00671c   0eff     MOVLW     0xff           		if(direction_wrist == -1)                                                      C:\2007 final code\encoder.c
00671e   0103     MOVLB     0x3                                                                                             
006720   5daf     SUBWF     0xaf,0x0,0x1                                                                                    
006722   e107     BNZ       0x6732                                                                                          
                                           		{                                                                              C:\2007 final code\encoder.c
                                           			// backward                                                                   C:\2007 final code\encoder.c
006724   0103     MOVLB     0x3            			Encoder_5_Count -= ENCODER_5_TICK_DELTA;                                      C:\2007 final code\encoder.c
006726   07a4     DECF      0xa4,0x1,0x1                                                                                    
006728   0e00     MOVLW     0x0                                                                                             
00672a   5ba5     SUBWFB    0xa5,0x1,0x1                                                                                    
00672c   5ba6     SUBWFB    0xa6,0x1,0x1                                                                                    
00672e   5ba7     SUBWFB    0xa7,0x1,0x1                                                                                    
                                           		}                                                                              C:\2007 final code\encoder.c
006730   d008     BRA       0x6742         		else if(direction_wrist == 1)                                                  C:\2007 final code\encoder.c
006732   05af     DECF      0xaf,0x0,0x1                                                                                    
006734   e106     BNZ       0x6742                                                                                          
                                           		{                                                                              C:\2007 final code\encoder.c
                                           			// forward                                                                    C:\2007 final code\encoder.c
006736   0103     MOVLB     0x3            			Encoder_5_Count += ENCODER_5_TICK_DELTA;                                      C:\2007 final code\encoder.c
006738   2ba4     INCF      0xa4,0x1,0x1                                                                                    
00673a   0e00     MOVLW     0x0                                                                                             
00673c   23a5     ADDWFC    0xa5,0x1,0x1                                                                                    
00673e   23a6     ADDWFC    0xa6,0x1,0x1                                                                                    
006740   23a7     ADDWFC    0xa7,0x1,0x1                                                                                    
                                           		}                                                                              C:\2007 final code\encoder.c
                                           	}                                                                               C:\2007 final code\encoder.c
006742   d048     BRA       0x67d4         }                                                                                C:\2007 final code\encoder.c
                                           #endif                                                                           C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           #ifdef ENABLE_ENCODER_6                                                          C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Get_Encoder_6_Count()                                               C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		Gets the current number of encoder 6 counts.		                       C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Number of encoder 6 counts since the last reset.                     C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
006744   d839     RCALL     0x67b8         long Get_Encoder_6_Count(void)                                                   C:\2007 final code\encoder.c
0067b8   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
0067ba   ffe6                                                                                                               
0067bc   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0067be   ffd9                                                                                                               
0067c0   0e04     MOVLW     0x4                                                                                             
0067c2   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0067c4   0012     RETURN    0x0                                                                                             
                                           {                                                                                C:\2007 final code\encoder.c
                                           	long count;                                                                     C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Since we're about to access the Encoder_6_Count variable,                    C:\2007 final code\encoder.c
                                           	// which can also be modified in the interrupt service routine,                 C:\2007 final code\encoder.c
                                           	// we'll briefly disable the encoder's interrupt to make sure                   C:\2007 final code\encoder.c
                                           	// that the Encoder_6_Count variable doesn't get altered while                  C:\2007 final code\encoder.c
                                           	// we're using it.                                                              C:\2007 final code\encoder.c
006746   96f2     BCF       0xf2,0x3,0x0   	INTCONbits.RBIE = 0;                                                            C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Now we can get a local copy of the encoder count without fear                C:\2007 final code\encoder.c
                                           	// that we'll get corrupted data.                                               C:\2007 final code\encoder.c
006748   c3a8     MOVFF     0x3a8,0xfdf    	count = Encoder_6_Count;                                                        C:\2007 final code\encoder.c
00674a   ffdf                                                                                                               
00674c   0e01     MOVLW     0x1                                                                                             
00674e   c3a9     MOVFF     0x3a9,0xfdb                                                                                     
006750   ffdb                                                                                                               
006752   0e02     MOVLW     0x2                                                                                             
006754   c3aa     MOVFF     0x3aa,0xfdb                                                                                     
006756   ffdb                                                                                                               
006758   0e03     MOVLW     0x3                                                                                             
00675a   c3ab     MOVFF     0x3ab,0xfdb                                                                                     
00675c   ffdb                                                                                                               
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Okay, we have a local copy of the encoder count, so turn the                 C:\2007 final code\encoder.c
                                           	// encoder's interrupt back on.                                                 C:\2007 final code\encoder.c
00675e   86f2     BSF       0xf2,0x3,0x0   	INTCONbits.RBIE = 1;                                                            C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Return the encoder count to the caller.                                      C:\2007 final code\encoder.c
006760   d01e     BRA       0x679e         	return(count);                                                                  C:\2007 final code\encoder.c
00679e   cfde     MOVFF     0xfde,0x1b                                                                                      
0067a0   f01b                                                                                                               
0067a2   cfde     MOVFF     0xfde,0x1c                                                                                      
0067a4   f01c                                                                                                               
0067a6   cfde     MOVFF     0xfde,0x1d                                                                                      
0067a8   f01d                                                                                                               
0067aa   cfdd     MOVFF     0xfdd,0x1e                                                                                      
0067ac   f01e                                                                                                               
0067ae   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0067b0   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0067b2   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\encoder.c
0067b4   ffe1                                                                                                               
0067b6   d00e     BRA       0x67d4                                                                                          
0067d4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0067d6   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0067d8   ffd9                                                                                                               
0067da   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Reset_Encoder_6_Count()                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		Resets the encoder 6 count to zero	                                  C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:                                                                   C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
                                           void Reset_Encoder_6_Count(void)                                                 C:\2007 final code\encoder.c
                                           {                                                                                C:\2007 final code\encoder.c
                                           	// Since we're about to access the Encoder_6_Count variable,                    C:\2007 final code\encoder.c
                                           	// which can also be modified in the interrupt service routine,                 C:\2007 final code\encoder.c
                                           	// we'll briefly disable the encoder's interrupt to make sure                   C:\2007 final code\encoder.c
                                           	// that the Encoder_6_Count variable doesn't get altered while                  C:\2007 final code\encoder.c
                                           	// we're using it.                                                              C:\2007 final code\encoder.c
006762   96f2     BCF       0xf2,0x3,0x0   	INTCONbits.RBIE = 0;                                                            C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Now we can set the value of the encoder count without fear                   C:\2007 final code\encoder.c
                                           	// that we'll write corrupted data.                                             C:\2007 final code\encoder.c
006764   0103     MOVLB     0x3            	Encoder_6_Count = 0;                                                            C:\2007 final code\encoder.c
006766   6ba8     CLRF      0xa8,0x1                                                                                        
006768   6ba9     CLRF      0xa9,0x1                                                                                        
00676a   6baa     CLRF      0xaa,0x1                                                                                        
00676c   6bab     CLRF      0xab,0x1                                                                                        
                                                                                                                            C:\2007 final code\encoder.c
                                           	// Okay, we're done updating the encoder count, so turn the                     C:\2007 final code\encoder.c
                                           	// left encoder's interrupt back on.                                            C:\2007 final code\encoder.c
00676e   86f2     BSF       0xf2,0x3,0x0   	INTCONbits.RBIE = 1;                                                            C:\2007 final code\encoder.c
006770   0012     RETURN    0x0            }                                                                                C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           /******************************************************************************* C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	FUNCTION:		Encoder_6_Int_Handler()                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PURPOSE:		If enabled, the encoder 6 interrupt handler is called when           C:\2007 final code\encoder.c
                                           *					the interrupt 6 pin changes logic state                                    C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	CALLED FROM:	user_routines_fast.c/InterruptHandlerLow()                        C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	PARAMETERS:		None.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	RETURNS:		Nothing.                                                             C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *	COMMENTS:                                                                      C:\2007 final code\encoder.c
                                           *                                                                                C:\2007 final code\encoder.c
                                           *******************************************************************************/ C:\2007 final code\encoder.c
006772   d829     RCALL     0x67c6         void Encoder_6_Int_Handler(unsigned char state)                                  C:\2007 final code\encoder.c
0067c6   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
0067c8   ffe6                                                                                                               
0067ca   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0067cc   ffd9                                                                                                               
                                           {                                                                                C:\2007 final code\encoder.c
                                           	// Encoder 6's phase a signal just changed logic level, causing this            C:\2007 final code\encoder.c
                                           	// interrupt service routine to be called.                                      C:\2007 final code\encoder.c
006774   e113     BNZ       0x679c         	if(state == 1)                                                                  C:\2007 final code\encoder.c
0067ce   0efe     MOVLW     0xfe                                                                                            
0067d0   04db     DECF      0xdb,0x0,0x0                                                                                    
0067d2   0012     RETURN    0x0                                                                                             
                                           	{                                                                               C:\2007 final code\encoder.c
                                           		// rising-edge interrupt                                                       C:\2007 final code\encoder.c
006776   0eff     MOVLW     0xff           		if(direction_gripper == -1)                                                    C:\2007 final code\encoder.c
006778   0103     MOVLB     0x3                                                                                             
00677a   5db0     SUBWF     0xb0,0x0,0x1                                                                                    
00677c   e107     BNZ       0x678c                                                                                          
                                           		{                                                                              C:\2007 final code\encoder.c
                                           			// backward                                                                   C:\2007 final code\encoder.c
00677e   0103     MOVLB     0x3            			Encoder_6_Count -= ENCODER_6_TICK_DELTA;                                      C:\2007 final code\encoder.c
006780   07a8     DECF      0xa8,0x1,0x1                                                                                    
006782   0e00     MOVLW     0x0                                                                                             
006784   5ba9     SUBWFB    0xa9,0x1,0x1                                                                                    
006786   5baa     SUBWFB    0xaa,0x1,0x1                                                                                    
006788   5bab     SUBWFB    0xab,0x1,0x1                                                                                    
                                           		}                                                                              C:\2007 final code\encoder.c
00678a   d008     BRA       0x679c         		else if(direction_gripper == 1)                                                C:\2007 final code\encoder.c
00678c   05b0     DECF      0xb0,0x0,0x1                                                                                    
00678e   e106     BNZ       0x679c                                                                                          
                                           		{                                                                              C:\2007 final code\encoder.c
                                           			// forward                                                                    C:\2007 final code\encoder.c
006790   0103     MOVLB     0x3            			Encoder_6_Count += ENCODER_6_TICK_DELTA;                                      C:\2007 final code\encoder.c
006792   2ba8     INCF      0xa8,0x1,0x1                                                                                    
006794   0e00     MOVLW     0x0                                                                                             
006796   23a9     ADDWFC    0xa9,0x1,0x1                                                                                    
006798   23aa     ADDWFC    0xaa,0x1,0x1                                                                                    
00679a   23ab     ADDWFC    0xab,0x1,0x1                                                                                    
                                           		}                                                                              C:\2007 final code\encoder.c
                                           	}                                                                               C:\2007 final code\encoder.c
00679c   d01b     BRA       0x67d4         }                                                                                C:\2007 final code\encoder.c
                                                                                                                            C:\2007 final code\encoder.c
                                           #endif                                                                           C:\2007 final code\encoder.c
                                           #include <stdio.h>                                                               C:\2007 final code\crab_drive.c
                                           #include "ifi_aliases.h"                                                         C:\2007 final code\crab_drive.c
                                           #include "ifi_default.h"                                                         C:\2007 final code\crab_drive.c
                                           #include "ifi_utilities.h"                                                       C:\2007 final code\crab_drive.c
                                           #include "user_routines.h"                                                       C:\2007 final code\crab_drive.c
                                           #include "crab_drive.h"                                                          C:\2007 final code\crab_drive.c
                                                                                                                            C:\2007 final code\crab_drive.c
                                                                                                                            C:\2007 final code\crab_drive.c
                                           //#define DRIVE_DEBUG                                                            C:\2007 final code\crab_drive.c
                                           //#define ACL_DEBUG                                                              C:\2007 final code\crab_drive.c
                                                                                                                            C:\2007 final code\crab_drive.c
                                                                                                                            C:\2007 final code\crab_drive.c
                                           // Function: crab_drive                                                          C:\2007 final code\crab_drive.c
                                           // Parameters:                                                                   C:\2007 final code\crab_drive.c
                                           //	unsigned char input_x: left-right movement. 0 is full speed left and 255 is full speed right unless invert_x_axis is true. 127 or 128 is neutral. C:\2007 final code\crab_drive.c
                                           //	unsigned char input_y: front-back movement. 0 is full speed back and 255 is full speed forward unless invert_y_axis is true. 127 or 128 is neutral. C:\2007 final code\crab_drive.c
                                           //	unsigned char input_z: rotational movement. 0 is full speed twist left and 255 is full speed twist right unless invert_z_axis is true. 127 or 128 is neutral. C:\2007 final code\crab_drive.c
                                           //Returns: void                                                                  C:\2007 final code\crab_drive.c
                                           //Function:                                                                      C:\2007 final code\crab_drive.c
                                           //	crab_drive, given 3 input axes, calculates the desired motor speeds assuming mechanum wheels are attached to 4 motors. C:\2007 final code\crab_drive.c
004d28   cfd9     MOVFF     0xfd9,0xfe6    void crab_drive(unsigned char input_x, unsigned char input_y, unsigned char input_z) C:\2007 final code\crab_drive.c
004d2a   ffe6                                                                                                               
004d2c   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
004d2e   ffd9                                                                                                               
004d30   0e0e     MOVLW     0xe                                                                                             
004d32   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\crab_drive.c
                                                                                                                            C:\2007 final code\crab_drive.c
                                           	//We want to make the joysticks partially negative and do integer calculations with them, so we cast to int. C:\2007 final code\crab_drive.c
004d34   0efe     MOVLW     0xfe           	int joy_x = (int)input_x;                                                       C:\2007 final code\crab_drive.c
004d36   50db     MOVF      0xdb,0x0,0x0                                                                                    
004d38   6ede     MOVWF     0xde,0x0                                                                                        
004d3a   6add     CLRF      0xdd,0x0                                                                                        
004d3c   0efd     MOVLW     0xfd           	int joy_y = (int)input_y;                                                       C:\2007 final code\crab_drive.c
004d3e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004d40   6ee6     MOVWF     0xe6,0x0                                                                                        
004d42   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004d44   0f02     ADDLW     0x2                                                                                             
004d46   d9f1     RCALL     0x512a                                                                                          
00512a   d82f     RCALL     0x518a                                                                                          
00512c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00512e   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005130   6eee     MOVWF     0xee,0x0                                                                                        
005132   6aed     CLRF      0xed,0x0                                                                                        
005134   0012     RETURN    0x0                                                                                             
004d48   0efc     MOVLW     0xfc           	int joy_z = (int)input_z;                                                       C:\2007 final code\crab_drive.c
004d4a   50db     MOVF      0xdb,0x0,0x0                                                                                    
004d4c   6ee6     MOVWF     0xe6,0x0                                                                                        
004d4e   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004d50   0f04     ADDLW     0x4                                                                                             
004d52   d9eb     RCALL     0x512a                                                                                          
                                           	//These are the working motor values. The motors are set to these after all calculations and conversions are done. C:\2007 final code\crab_drive.c
                                           	int front_left;                                                                 C:\2007 final code\crab_drive.c
                                           	int front_right;                                                                C:\2007 final code\crab_drive.c
                                           	int back_left;                                                                  C:\2007 final code\crab_drive.c
                                           	int back_right;                                                                 C:\2007 final code\crab_drive.c
                                           	                                                                                C:\2007 final code\crab_drive.c
                                           	//Center joysticks at 0. newbase is defined in crab_drive.h                     C:\2007 final code\crab_drive.c
004d54   cfde     MOVFF     0xfde,0x2b     	newbase(joy_x);                                                                 C:\2007 final code\crab_drive.c
004d56   f02b                                                                                                               
004d58   cfdd     MOVFF     0xfdd,0x2c                                                                                      
004d5a   f02c                                                                                                               
004d5c   342c     RLCF      0x2c,0x0,0x0                                                                                    
004d5e   e201     BC        0x4d62                                                                                          
004d60   d9c1     RCALL     0x50e4                                                                                          
004d62   e306     BNC       0x4d70                                                                                          
004d64   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
004d66   ffe9                                                                                                               
004d68   cfda     MOVFF     0xfda,0xfea                                                                                     
004d6a   ffea                                                                                                               
004d6c   0e7f     MOVLW     0x7f                                                                                            
004d6e   d009     BRA       0x4d82                                                                                          
004d70   d9e8     RCALL     0x5142                                                                                          
004d72   e601     BN        0x4d76                                                                                          
004d74   d9fb     RCALL     0x516c                                                                                          
004d76   e308     BNC       0x4d88                                                                                          
004d78   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
004d7a   ffe9                                                                                                               
004d7c   cfda     MOVFF     0xfda,0xfea                                                                                     
004d7e   ffea                                                                                                               
004d80   0e80     MOVLW     0x80                                                                                            
004d82   5eee     SUBWF     0xee,0x1,0x0                                                                                    
004d84   0e00     MOVLW     0x0                                                                                             
004d86   5aed     SUBWFB    0xed,0x1,0x0                                                                                    
005142   cfde     MOVFF     0xfde,0x2b                                                                                      
005144   f02b                                                                                                               
005146   cfdd     MOVFF     0xfdd,0x2c                                                                                      
005148   f02c                                                                                                               
00514a   90d8     BCF       0xd8,0x0,0x0                                                                                    
00514c   502c     MOVF      0x2c,0x0,0x0                                                                                    
00514e   0012     RETURN    0x0                                                                                             
004d88   d9b8     RCALL     0x50fa         	newbase(joy_y);                                                                 C:\2007 final code\crab_drive.c
004d8a   342c     RLCF      0x2c,0x0,0x0                                                                                    
004d8c   e201     BC        0x4d90                                                                                          
004d8e   d9aa     RCALL     0x50e4                                                                                          
004d90   e304     BNC       0x4d9a                                                                                          
004d92   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004d94   0f02     ADDLW     0x2                                                                                             
004d96   d9ab     RCALL     0x50ee                                                                                          
004d98   d009     BRA       0x4dac                                                                                          
004d9a   d9af     RCALL     0x50fa                                                                                          
004d9c   90d8     BCF       0xd8,0x0,0x0                                                                                    
004d9e   502c     MOVF      0x2c,0x0,0x0                                                                                    
004da0   e601     BN        0x4da4                                                                                          
004da2   d9e4     RCALL     0x516c                                                                                          
004da4   e306     BNC       0x4db2                                                                                          
004da6   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004da8   0f02     ADDLW     0x2                                                                                             
004daa   d9a4     RCALL     0x50f4                                                                                          
004dac   5eee     SUBWF     0xee,0x1,0x0                                                                                    
004dae   0e00     MOVLW     0x0                                                                                             
004db0   5aed     SUBWFB    0xed,0x1,0x0                                                                                    
004db2   d9aa     RCALL     0x5108         	newbase(joy_z);                                                                 C:\2007 final code\crab_drive.c
004db4   342c     RLCF      0x2c,0x0,0x0                                                                                    
004db6   e201     BC        0x4dba                                                                                          
004db8   d995     RCALL     0x50e4                                                                                          
004dba   e304     BNC       0x4dc4                                                                                          
004dbc   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004dbe   0f04     ADDLW     0x4                                                                                             
004dc0   d996     RCALL     0x50ee                                                                                          
004dc2   d009     BRA       0x4dd6                                                                                          
004dc4   d9a1     RCALL     0x5108                                                                                          
004dc6   90d8     BCF       0xd8,0x0,0x0                                                                                    
004dc8   502c     MOVF      0x2c,0x0,0x0                                                                                    
004dca   e601     BN        0x4dce                                                                                          
004dcc   d9cf     RCALL     0x516c                                                                                          
004dce   e306     BNC       0x4ddc                                                                                          
004dd0   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004dd2   0f04     ADDLW     0x4                                                                                             
004dd4   d98f     RCALL     0x50f4                                                                                          
004dd6   5eee     SUBWF     0xee,0x1,0x0                                                                                    
004dd8   0e00     MOVLW     0x0                                                                                             
004dda   5aed     SUBWFB    0xed,0x1,0x0                                                                                    
00516c   0e80     MOVLW     0x80                                                                                            
00516e   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
005170   0e00     MOVLW     0x0                                                                                             
005172   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
005174   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\crab_drive.c
                                           	//Invert an axis if we need to (if our joysticks are weird or flipped around). The invert_*_axis defines are defined in crab_drive.h. C:\2007 final code\crab_drive.c
                                           	if(invert_x_axis)                                                               C:\2007 final code\crab_drive.c
                                           	{                                                                               C:\2007 final code\crab_drive.c
                                           		joy_x *= -1;                                                                   C:\2007 final code\crab_drive.c
                                           	}                                                                               C:\2007 final code\crab_drive.c
                                           	if(invert_y_axis)                                                               C:\2007 final code\crab_drive.c
                                           	{                                                                               C:\2007 final code\crab_drive.c
                                           		joy_y *= -1;                                                                   C:\2007 final code\crab_drive.c
                                           	}                                                                               C:\2007 final code\crab_drive.c
                                           	if(invert_z_axis)                                                               C:\2007 final code\crab_drive.c
                                           	{                                                                               C:\2007 final code\crab_drive.c
                                           		joy_z *= -1;                                                                   C:\2007 final code\crab_drive.c
                                           	}                                                                               C:\2007 final code\crab_drive.c
                                           	                                                                                C:\2007 final code\crab_drive.c
                                           	//Set joysticks to 0 if in the dead zone, DEAD_ZONE is defined in crab_drive.h  C:\2007 final code\crab_drive.c
004ddc   d9b2     RCALL     0x5142         	if(joy_x < DEAD_ZONE && joy_x > -DEAD_ZONE)                                     C:\2007 final code\crab_drive.c
004dde   e601     BN        0x4de2                                                                                          
004de0   d9ca     RCALL     0x5176                                                                                          
004de2   e20a     BC        0x4df8                                                                                          
004de4   cfde     MOVFF     0xfde,0x2d                                                                                      
004de6   f02d                                                                                                               
004de8   cfdd     MOVFF     0xfdd,0x2e                                                                                      
004dea   f02e                                                                                                               
004dec   342e     RLCF      0x2e,0x0,0x0                                                                                    
004dee   e301     BNC       0x4df2                                                                                          
004df0   d9c7     RCALL     0x5180                                                                                          
004df2   e202     BC        0x4df8                                                                                          
                                           	{                                                                               C:\2007 final code\crab_drive.c
004df4   6ade     CLRF      0xde,0x0       		joy_x = 0;                                                                     C:\2007 final code\crab_drive.c
004df6   6add     CLRF      0xdd,0x0                                                                                        
                                           	}                                                                               C:\2007 final code\crab_drive.c
004df8   d980     RCALL     0x50fa         	if(joy_y < DEAD_ZONE && joy_y > -DEAD_ZONE)                                     C:\2007 final code\crab_drive.c
004dfa   90d8     BCF       0xd8,0x0,0x0                                                                                    
004dfc   502c     MOVF      0x2c,0x0,0x0                                                                                    
004dfe   e601     BN        0x4e02                                                                                          
004e00   d9ba     RCALL     0x5176                                                                                          
004e02   e20e     BC        0x4e20                                                                                          
004e04   0e02     MOVLW     0x2                                                                                             
004e06   cfdb     MOVFF     0xfdb,0x2d                                                                                      
004e08   f02d                                                                                                               
004e0a   0e03     MOVLW     0x3                                                                                             
004e0c   cfdb     MOVFF     0xfdb,0x2e                                                                                      
004e0e   f02e                                                                                                               
004e10   342e     RLCF      0x2e,0x0,0x0                                                                                    
004e12   e301     BNC       0x4e16                                                                                          
004e14   d9b5     RCALL     0x5180                                                                                          
004e16   e204     BC        0x4e20                                                                                          
0050fa   0e02     MOVLW     0x2                                                                                             
0050fc   cfdb     MOVFF     0xfdb,0x2b                                                                                      
0050fe   f02b                                                                                                               
005100   0e03     MOVLW     0x3                                                                                             
005102   cfdb     MOVFF     0xfdb,0x2c                                                                                      
005104   f02c                                                                                                               
005106   0012     RETURN    0x0                                                                                             
                                           	{                                                                               C:\2007 final code\crab_drive.c
004e18   0e02     MOVLW     0x2            		joy_y = 0;                                                                     C:\2007 final code\crab_drive.c
004e1a   6adb     CLRF      0xdb,0x0                                                                                        
004e1c   0e03     MOVLW     0x3                                                                                             
004e1e   6adb     CLRF      0xdb,0x0                                                                                        
                                           	}                                                                               C:\2007 final code\crab_drive.c
004e20   d973     RCALL     0x5108         	if(joy_z < DEAD_ZONE && joy_z > -DEAD_ZONE)                                     C:\2007 final code\crab_drive.c
004e22   90d8     BCF       0xd8,0x0,0x0                                                                                    
004e24   502c     MOVF      0x2c,0x0,0x0                                                                                    
004e26   e601     BN        0x4e2a                                                                                          
004e28   d9a6     RCALL     0x5176                                                                                          
004e2a   e20e     BC        0x4e48                                                                                          
004e2c   0e04     MOVLW     0x4                                                                                             
004e2e   cfdb     MOVFF     0xfdb,0x2d                                                                                      
004e30   f02d                                                                                                               
004e32   0e05     MOVLW     0x5                                                                                             
004e34   cfdb     MOVFF     0xfdb,0x2e                                                                                      
004e36   f02e                                                                                                               
004e38   342e     RLCF      0x2e,0x0,0x0                                                                                    
004e3a   e301     BNC       0x4e3e                                                                                          
004e3c   d9a1     RCALL     0x5180                                                                                          
004e3e   e204     BC        0x4e48                                                                                          
005108   0e04     MOVLW     0x4                                                                                             
00510a   cfdb     MOVFF     0xfdb,0x2b                                                                                      
00510c   f02b                                                                                                               
00510e   0e05     MOVLW     0x5                                                                                             
005110   cfdb     MOVFF     0xfdb,0x2c                                                                                      
005112   f02c                                                                                                               
005114   0012     RETURN    0x0                                                                                             
005176   0e08     MOVLW     0x8                                                                                             
005178   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
00517a   0e00     MOVLW     0x0                                                                                             
00517c   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
00517e   0012     RETURN    0x0                                                                                             
005180   502d     MOVF      0x2d,0x0,0x0                                                                                    
005182   08f8     SUBLW     0xf8                                                                                            
005184   0eff     MOVLW     0xff                                                                                            
005186   542e     SUBFWB    0x2e,0x0,0x0                                                                                    
005188   0012     RETURN    0x0                                                                                             
                                           	{                                                                               C:\2007 final code\crab_drive.c
004e40   0e04     MOVLW     0x4            		joy_z = 0;                                                                     C:\2007 final code\crab_drive.c
004e42   6adb     CLRF      0xdb,0x0                                                                                        
004e44   0e05     MOVLW     0x5                                                                                             
004e46   6adb     CLRF      0xdb,0x0                                                                                        
                                           	}                                                                               C:\2007 final code\crab_drive.c
                                           	                                                                                C:\2007 final code\crab_drive.c
                                           	//Calculate desired motor speeds.                                               C:\2007 final code\crab_drive.c
004e48   d922     RCALL     0x508e         	front_left	= joy_x + joy_y + joy_z;                                             C:\2007 final code\crab_drive.c
004e4a   d982     RCALL     0x5150                                                                                          
004e4c   0e06     MOVLW     0x6                                                                                             
004e4e   c02b     MOVFF     0x2b,0xfdb                                                                                      
004e50   ffdb                                                                                                               
004e52   0e07     MOVLW     0x7                                                                                             
004e54   d907     RCALL     0x5064                                                                                          
005064   c02c     MOVFF     0x2c,0xfdb                                                                                      
005066   ffdb                                                                                                               
00508e   0e02     MOVLW     0x2                                                                                             
005090   cfdb     MOVFF     0xfdb,0x2f                                                                                      
005092   f02f                                                                                                               
005094   0e03     MOVLW     0x3                                                                                             
005096   cfdb     MOVFF     0xfdb,0x30                                                                                      
005098   f030                                                                                                               
00509a   50de     MOVF      0xde,0x0,0x0                                                                                    
00509c   242f     ADDWF     0x2f,0x0,0x0                                                                                    
00509e   6e2d     MOVWF     0x2d,0x0                                                                                        
0050a0   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0050a2   2030     ADDWFC    0x30,0x0,0x0                                                                                    
0050a4   6e2e     MOVWF     0x2e,0x0                                                                                        
0050a6   0e04     MOVLW     0x4                                                                                             
0050a8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0050aa   0012     RETURN    0x0                                                                                             
005150   242d     ADDWF     0x2d,0x0,0x0                                                                                    
005152   6e2b     MOVWF     0x2b,0x0                                                                                        
005154   0e05     MOVLW     0x5                                                                                             
005156   50db     MOVF      0xdb,0x0,0x0                                                                                    
005158   202e     ADDWFC    0x2e,0x0,0x0                                                                                    
00515a   6e2c     MOVWF     0x2c,0x0                                                                                        
00515c   0012     RETURN    0x0                                                                                             
004e56   d983     RCALL     0x515e         	front_right = -joy_x + joy_y - joy_z;                                           C:\2007 final code\crab_drive.c
004e58   0e08     MOVLW     0x8                                                                                             
004e5a   c02b     MOVFF     0x2b,0xfdb                                                                                      
004e5c   ffdb                                                                                                               
004e5e   0e09     MOVLW     0x9                                                                                             
004e60   d901     RCALL     0x5064                                                                                          
005068   cfde     MOVFF     0xfde,0x2f                                                                                      
00506a   f02f                                                                                                               
00506c   cfdd     MOVFF     0xfdd,0x30                                                                                      
00506e   f030                                                                                                               
005070   0e00     MOVLW     0x0                                                                                             
005072   6c2f     NEGF      0x2f,0x0                                                                                        
005074   1e30     COMF      0x30,0x1,0x0                                                                                    
005076   2230     ADDWFC    0x30,0x1,0x0                                                                                    
005078   0e02     MOVLW     0x2                                                                                             
00507a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00507c   242f     ADDWF     0x2f,0x0,0x0                                                                                    
00507e   6e2d     MOVWF     0x2d,0x0                                                                                        
005080   0e03     MOVLW     0x3                                                                                             
005082   50db     MOVF      0xdb,0x0,0x0                                                                                    
005084   2030     ADDWFC    0x30,0x0,0x0                                                                                    
005086   6e2e     MOVWF     0x2e,0x0                                                                                        
005088   0e04     MOVLW     0x4                                                                                             
00508a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00508c   0012     RETURN    0x0                                                                                             
00515e   5c2d     SUBWF     0x2d,0x0,0x0                                                                                    
005160   6e2b     MOVWF     0x2b,0x0                                                                                        
005162   0e05     MOVLW     0x5                                                                                             
005164   50db     MOVF      0xdb,0x0,0x0                                                                                    
005166   582e     SUBWFB    0x2e,0x0,0x0                                                                                    
005168   6e2c     MOVWF     0x2c,0x0                                                                                        
00516a   0012     RETURN    0x0                                                                                             
004e62   d976     RCALL     0x5150         	back_left	= -joy_x + joy_y + joy_z;                                             C:\2007 final code\crab_drive.c
004e64   0e0a     MOVLW     0xa                                                                                             
004e66   c02b     MOVFF     0x2b,0xfdb                                                                                      
004e68   ffdb                                                                                                               
004e6a   0e0b     MOVLW     0xb                                                                                             
004e6c   c02c     MOVFF     0x2c,0xfdb                                                                                      
004e6e   ffdb                                                                                                               
004e70   d90e     RCALL     0x508e         	back_right	= joy_x + joy_y - joy_z;                                             C:\2007 final code\crab_drive.c
004e72   d975     RCALL     0x515e                                                                                          
004e74   0e0c     MOVLW     0xc                                                                                             
004e76   c02b     MOVFF     0x2b,0xfdb                                                                                      
004e78   ffdb                                                                                                               
004e7a   0e0d     MOVLW     0xd                                                                                             
004e7c   c02c     MOVFF     0x2c,0xfdb                                                                                      
004e7e   ffdb                                                                                                               
                                           	                                                                                C:\2007 final code\crab_drive.c
                                           	//Invert right side if we need to (if the motors are mounted the opposite direction, as they usually are). invert_right is defined in crab_drive.h. C:\2007 final code\crab_drive.c
                                           	if(invert_right)                                                                C:\2007 final code\crab_drive.c
                                           	{                                                                               C:\2007 final code\crab_drive.c
004e80   50d9     MOVF      0xd9,0x0,0x0   		front_right *= -1;                                                             C:\2007 final code\crab_drive.c
004e82   0f08     ADDLW     0x8                                                                                             
004e84   d958     RCALL     0x5136                                                                                          
005136   d829     RCALL     0x518a                                                                                          
005138   6cee     NEGF      0xee,0x0                                                                                        
00513a   1eef     COMF      0xef,0x1,0x0                                                                                    
00513c   0e00     MOVLW     0x0                                                                                             
00513e   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
005140   0012     RETURN    0x0                                                                                             
00518a   6ee9     MOVWF     0xe9,0x0                                                                                        
00518c   cfda     MOVFF     0xfda,0xfea                                                                                     
00518e   ffea                                                                                                               
005190   0012     RETURN    0x0                                                                                             
004e86   50d9     MOVF      0xd9,0x0,0x0   		back_right *= -1;                                                              C:\2007 final code\crab_drive.c
004e88   0f0c     ADDLW     0xc                                                                                             
004e8a   d955     RCALL     0x5136                                                                                          
                                           	}                                                                               C:\2007 final code\crab_drive.c
                                           	                                                                                C:\2007 final code\crab_drive.c
                                           	//We want to go half speed normally when driving because our robot is very fast, the trigger allows us to go full speed. C:\2007 final code\crab_drive.c
                                           	//When in autonomous mode, we want to go full speed because we like to run into stuff and autonomous mode can't press the trigger. C:\2007 final code\crab_drive.c
004e8c   0102     MOVLB     0x2            	if((!p1_sw_trig) && (!autonomous_mode))                                         C:\2007 final code\crab_drive.c
004e8e   51df     MOVF      0xdf,0x0,0x1                                                                                    
004e90   0b01     ANDLW     0x1                                                                                             
004e92   e10f     BNZ       0x4eb2                                                                                          
004e94   51de     MOVF      0xde,0x0,0x1                                                                                    
004e96   0b40     ANDLW     0x40                                                                                            
004e98   e10c     BNZ       0x4eb2                                                                                          
                                           	{                                                                               C:\2007 final code\crab_drive.c
004e9a   50d9     MOVF      0xd9,0x0,0x0   		front_left /= 2;                                                               C:\2007 final code\crab_drive.c
004e9c   0f06     ADDLW     0x6                                                                                             
004e9e   d8d3     RCALL     0x5046                                                                                          
004ea0   50d9     MOVF      0xd9,0x0,0x0   		front_right /= 2;                                                              C:\2007 final code\crab_drive.c
004ea2   0f08     ADDLW     0x8                                                                                             
004ea4   d8d0     RCALL     0x5046                                                                                          
004ea6   50d9     MOVF      0xd9,0x0,0x0   		back_left /= 2;                                                                C:\2007 final code\crab_drive.c
004ea8   0f0a     ADDLW     0xa                                                                                             
004eaa   d8cd     RCALL     0x5046                                                                                          
005046   d8a1     RCALL     0x518a                                                                                          
005048   0e02     MOVLW     0x2                                                                                             
00504a   6e22     MOVWF     0x22,0x0                                                                                        
00504c   6a23     CLRF      0x23,0x0                                                                                        
00504e   cfee     MOVFF     0xfee,0x1d                                                                                      
005050   f01d                                                                                                               
005052   cfed     MOVFF     0xfed,0x1e                                                                                      
005054   f01e                                                                                                               
005056   ec3e     CALL      0x6c7c,0x0                                                                                      
005058   f036                                                                                                               
00505a   c01d     MOVFF     0x1d,0xfee                                                                                      
00505c   ffee                                                                                                               
00505e   c01e     MOVFF     0x1e,0xfed                                                                                      
005060   ffed                                                                                                               
005062   0012     RETURN    0x0                                                                                             
004eac   50d9     MOVF      0xd9,0x0,0x0   		back_right /= 2;                                                               C:\2007 final code\crab_drive.c
004eae   0f0c     ADDLW     0xc                                                                                             
004eb0   d8ca     RCALL     0x5046                                                                                          
                                           	}                                                                               C:\2007 final code\crab_drive.c
                                           	                                                                                C:\2007 final code\crab_drive.c
                                           	//Ensure the motor values are within -127 to +127. limit is defined in crab_drive.h. C:\2007 final code\crab_drive.c
004eb2   d8fc     RCALL     0x50ac         	limit(front_left)                                                               C:\2007 final code\crab_drive.c
004eb4   80d8     BSF       0xd8,0x0,0x0                                                                                    
004eb6   502c     MOVF      0x2c,0x0,0x0                                                                                    
004eb8   e701     BNN       0x4ebc                                                                                          
004eba   d92d     RCALL     0x5116                                                                                          
004ebc   e208     BC        0x4ece                                                                                          
004ebe   0e81     MOVLW     0x81                                                                                            
004ec0   6ef3     MOVWF     0xf3,0x0                                                                                        
004ec2   0e06     MOVLW     0x6                                                                                             
004ec4   cff3     MOVFF     0xff3,0xfdb                                                                                     
004ec6   ffdb                                                                                                               
004ec8   0e07     MOVLW     0x7                                                                                             
004eca   68db     SETF      0xdb,0x0                                                                                        
004ecc   d00c     BRA       0x4ee6                                                                                          
004ece   d8ee     RCALL     0x50ac                                                                                          
004ed0   342c     RLCF      0x2c,0x0,0x0                                                                                    
004ed2   e209     BC        0x4ee6                                                                                          
004ed4   d907     RCALL     0x50e4                                                                                          
004ed6   e207     BC        0x4ee6                                                                                          
004ed8   0e7f     MOVLW     0x7f                                                                                            
004eda   6ef3     MOVWF     0xf3,0x0                                                                                        
004edc   0e06     MOVLW     0x6                                                                                             
004ede   cff3     MOVFF     0xff3,0xfdb                                                                                     
004ee0   ffdb                                                                                                               
004ee2   0e07     MOVLW     0x7                                                                                             
004ee4   6adb     CLRF      0xdb,0x0                                                                                        
004ee6   d8e9     RCALL     0x50ba         	limit(front_right)                                                              C:\2007 final code\crab_drive.c
004ee8   80d8     BSF       0xd8,0x0,0x0                                                                                    
004eea   502c     MOVF      0x2c,0x0,0x0                                                                                    
004eec   e701     BNN       0x4ef0                                                                                          
004eee   d913     RCALL     0x5116                                                                                          
004ef0   e208     BC        0x4f02                                                                                          
004ef2   0e81     MOVLW     0x81                                                                                            
004ef4   6ef3     MOVWF     0xf3,0x0                                                                                        
004ef6   0e08     MOVLW     0x8                                                                                             
004ef8   cff3     MOVFF     0xff3,0xfdb                                                                                     
004efa   ffdb                                                                                                               
004efc   0e09     MOVLW     0x9                                                                                             
004efe   68db     SETF      0xdb,0x0                                                                                        
004f00   d00c     BRA       0x4f1a                                                                                          
004f02   d8db     RCALL     0x50ba                                                                                          
004f04   342c     RLCF      0x2c,0x0,0x0                                                                                    
004f06   e209     BC        0x4f1a                                                                                          
004f08   d8ed     RCALL     0x50e4                                                                                          
004f0a   e207     BC        0x4f1a                                                                                          
004f0c   0e7f     MOVLW     0x7f                                                                                            
004f0e   6ef3     MOVWF     0xf3,0x0                                                                                        
004f10   0e08     MOVLW     0x8                                                                                             
004f12   cff3     MOVFF     0xff3,0xfdb                                                                                     
004f14   ffdb                                                                                                               
004f16   0e09     MOVLW     0x9                                                                                             
004f18   6adb     CLRF      0xdb,0x0                                                                                        
004f1a   d8d6     RCALL     0x50c8         	limit(back_left)                                                                C:\2007 final code\crab_drive.c
004f1c   80d8     BSF       0xd8,0x0,0x0                                                                                    
004f1e   502c     MOVF      0x2c,0x0,0x0                                                                                    
004f20   e701     BNN       0x4f24                                                                                          
004f22   d8f9     RCALL     0x5116                                                                                          
004f24   e208     BC        0x4f36                                                                                          
004f26   0e81     MOVLW     0x81                                                                                            
004f28   6ef3     MOVWF     0xf3,0x0                                                                                        
004f2a   0e0a     MOVLW     0xa                                                                                             
004f2c   cff3     MOVFF     0xff3,0xfdb                                                                                     
004f2e   ffdb                                                                                                               
004f30   0e0b     MOVLW     0xb                                                                                             
004f32   68db     SETF      0xdb,0x0                                                                                        
004f34   d00c     BRA       0x4f4e                                                                                          
004f36   d8c8     RCALL     0x50c8                                                                                          
004f38   342c     RLCF      0x2c,0x0,0x0                                                                                    
004f3a   e209     BC        0x4f4e                                                                                          
004f3c   d8d3     RCALL     0x50e4                                                                                          
004f3e   e207     BC        0x4f4e                                                                                          
004f40   0e7f     MOVLW     0x7f                                                                                            
004f42   6ef3     MOVWF     0xf3,0x0                                                                                        
004f44   0e0a     MOVLW     0xa                                                                                             
004f46   cff3     MOVFF     0xff3,0xfdb                                                                                     
004f48   ffdb                                                                                                               
004f4a   0e0b     MOVLW     0xb                                                                                             
004f4c   6adb     CLRF      0xdb,0x0                                                                                        
004f4e   d8c3     RCALL     0x50d6         	limit(back_right)	                                                              C:\2007 final code\crab_drive.c
004f50   80d8     BSF       0xd8,0x0,0x0                                                                                    
004f52   502c     MOVF      0x2c,0x0,0x0                                                                                    
004f54   e701     BNN       0x4f58                                                                                          
004f56   d8df     RCALL     0x5116                                                                                          
004f58   e208     BC        0x4f6a                                                                                          
004f5a   0e81     MOVLW     0x81                                                                                            
004f5c   6ef3     MOVWF     0xf3,0x0                                                                                        
004f5e   0e0c     MOVLW     0xc                                                                                             
004f60   cff3     MOVFF     0xff3,0xfdb                                                                                     
004f62   ffdb                                                                                                               
004f64   0e0d     MOVLW     0xd                                                                                             
004f66   68db     SETF      0xdb,0x0                                                                                        
004f68   d00c     BRA       0x4f82                                                                                          
004f6a   d8b5     RCALL     0x50d6                                                                                          
004f6c   342c     RLCF      0x2c,0x0,0x0                                                                                    
004f6e   e209     BC        0x4f82                                                                                          
004f70   d8b9     RCALL     0x50e4                                                                                          
004f72   e207     BC        0x4f82                                                                                          
004f74   0e7f     MOVLW     0x7f                                                                                            
004f76   6ef3     MOVWF     0xf3,0x0                                                                                        
004f78   0e0c     MOVLW     0xc                                                                                             
004f7a   cff3     MOVFF     0xff3,0xfdb                                                                                     
004f7c   ffdb                                                                                                               
004f7e   0e0d     MOVLW     0xd                                                                                             
004f80   6adb     CLRF      0xdb,0x0                                                                                        
0050e4   502b     MOVF      0x2b,0x0,0x0                                                                                    
0050e6   087f     SUBLW     0x7f                                                                                            
0050e8   0e00     MOVLW     0x0                                                                                             
0050ea   542c     SUBFWB    0x2c,0x0,0x0                                                                                    
0050ec   0012     RETURN    0x0                                                                                             
005116   0e81     MOVLW     0x81                                                                                            
005118   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
00511a   0eff     MOVLW     0xff                                                                                            
00511c   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
00511e   0012     RETURN    0x0                                                                                             
                                           	                                                                                C:\2007 final code\crab_drive.c
                                           	//Center motors at 127-128. oldbase is defined in crab_drive.h.                 C:\2007 final code\crab_drive.c
004f82   d894     RCALL     0x50ac         	oldbase(front_left)                                                             C:\2007 final code\crab_drive.c
004f84   342c     RLCF      0x2c,0x0,0x0                                                                                    
004f86   e201     BC        0x4f8a                                                                                          
004f88   d8cb     RCALL     0x5120                                                                                          
004f8a   e304     BNC       0x4f94                                                                                          
004f8c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004f8e   0f06     ADDLW     0x6                                                                                             
004f90   d8ae     RCALL     0x50ee                                                                                          
004f92   d003     BRA       0x4f9a                                                                                          
004f94   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004f96   0f06     ADDLW     0x6                                                                                             
004f98   d8ad     RCALL     0x50f4                                                                                          
004f9a   26ee     ADDWF     0xee,0x1,0x0                                                                                    
004f9c   0e00     MOVLW     0x0                                                                                             
004f9e   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
004fa0   d88c     RCALL     0x50ba         	oldbase(front_right)                                                            C:\2007 final code\crab_drive.c
004fa2   342c     RLCF      0x2c,0x0,0x0                                                                                    
004fa4   e201     BC        0x4fa8                                                                                          
004fa6   d8bc     RCALL     0x5120                                                                                          
004fa8   e304     BNC       0x4fb2                                                                                          
004faa   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004fac   0f08     ADDLW     0x8                                                                                             
004fae   d89f     RCALL     0x50ee                                                                                          
004fb0   d003     BRA       0x4fb8                                                                                          
004fb2   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004fb4   0f08     ADDLW     0x8                                                                                             
004fb6   d89e     RCALL     0x50f4                                                                                          
004fb8   26ee     ADDWF     0xee,0x1,0x0                                                                                    
004fba   0e00     MOVLW     0x0                                                                                             
004fbc   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
004fbe   d884     RCALL     0x50c8         	oldbase(back_left)                                                              C:\2007 final code\crab_drive.c
004fc0   342c     RLCF      0x2c,0x0,0x0                                                                                    
004fc2   e201     BC        0x4fc6                                                                                          
004fc4   d8ad     RCALL     0x5120                                                                                          
004fc6   e304     BNC       0x4fd0                                                                                          
004fc8   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004fca   0f0a     ADDLW     0xa                                                                                             
004fcc   d890     RCALL     0x50ee                                                                                          
004fce   d003     BRA       0x4fd6                                                                                          
004fd0   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004fd2   0f0a     ADDLW     0xa                                                                                             
004fd4   d88f     RCALL     0x50f4                                                                                          
004fd6   26ee     ADDWF     0xee,0x1,0x0                                                                                    
004fd8   0e00     MOVLW     0x0                                                                                             
004fda   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
004fdc   d87c     RCALL     0x50d6         	oldbase(back_right)                                                             C:\2007 final code\crab_drive.c
004fde   342c     RLCF      0x2c,0x0,0x0                                                                                    
004fe0   e201     BC        0x4fe4                                                                                          
004fe2   d89e     RCALL     0x5120                                                                                          
004fe4   e304     BNC       0x4fee                                                                                          
004fe6   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004fe8   0f0c     ADDLW     0xc                                                                                             
004fea   d881     RCALL     0x50ee                                                                                          
004fec   d003     BRA       0x4ff4                                                                                          
004fee   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004ff0   0f0c     ADDLW     0xc                                                                                             
004ff2   d880     RCALL     0x50f4                                                                                          
004ff4   26ee     ADDWF     0xee,0x1,0x0                                                                                    
004ff6   0e00     MOVLW     0x0                                                                                             
004ff8   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
0050ee   d84d     RCALL     0x518a                                                                                          
0050f0   0e7f     MOVLW     0x7f                                                                                            
0050f2   0012     RETURN    0x0                                                                                             
0050f4   d84a     RCALL     0x518a                                                                                          
0050f6   0e80     MOVLW     0x80                                                                                            
0050f8   0012     RETURN    0x0                                                                                             
005120   502b     MOVF      0x2b,0x0,0x0                                                                                    
005122   0800     SUBLW     0x0                                                                                             
005124   0e00     MOVLW     0x0                                                                                             
005126   542c     SUBFWB    0x2c,0x0,0x0                                                                                    
005128   0012     RETURN    0x0                                                                                             
                                           	                                                                                C:\2007 final code\crab_drive.c
                                           	//Here is where we set the motor speeds. We only take the lower byte.           C:\2007 final code\crab_drive.c
004ffa   0eff     MOVLW     0xff           	motor_fl = front_left & 0xff;                                                   C:\2007 final code\crab_drive.c
004ffc   6ee7     MOVWF     0xe7,0x0                                                                                        
004ffe   d856     RCALL     0x50ac                                                                                          
005000   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005002   162b     ANDWF     0x2b,0x1,0x0                                                                                    
005004   6a2c     CLRF      0x2c,0x0                                                                                        
005006   c02b     MOVFF     0x2b,0x2c1                                                                                      
005008   f2c1                                                                                                               
0050ac   0e06     MOVLW     0x6                                                                                             
0050ae   cfdb     MOVFF     0xfdb,0x2b                                                                                      
0050b0   f02b                                                                                                               
0050b2   0e07     MOVLW     0x7                                                                                             
0050b4   cfdb     MOVFF     0xfdb,0x2c                                                                                      
0050b6   f02c                                                                                                               
0050b8   0012     RETURN    0x0                                                                                             
00500a   0eff     MOVLW     0xff           	motor_fr = front_right & 0xff;                                                  C:\2007 final code\crab_drive.c
00500c   6ee7     MOVWF     0xe7,0x0                                                                                        
00500e   d855     RCALL     0x50ba                                                                                          
005010   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005012   162b     ANDWF     0x2b,0x1,0x0                                                                                    
005014   6a2c     CLRF      0x2c,0x0                                                                                        
005016   c02b     MOVFF     0x2b,0x2c2                                                                                      
005018   f2c2                                                                                                               
0050ba   0e08     MOVLW     0x8                                                                                             
0050bc   cfdb     MOVFF     0xfdb,0x2b                                                                                      
0050be   f02b                                                                                                               
0050c0   0e09     MOVLW     0x9                                                                                             
0050c2   cfdb     MOVFF     0xfdb,0x2c                                                                                      
0050c4   f02c                                                                                                               
0050c6   0012     RETURN    0x0                                                                                             
00501a   0eff     MOVLW     0xff           	motor_bl = back_left & 0xff;                                                    C:\2007 final code\crab_drive.c
00501c   6ee7     MOVWF     0xe7,0x0                                                                                        
00501e   d854     RCALL     0x50c8                                                                                          
005020   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005022   162b     ANDWF     0x2b,0x1,0x0                                                                                    
005024   6a2c     CLRF      0x2c,0x0                                                                                        
005026   c02b     MOVFF     0x2b,0x2c3                                                                                      
005028   f2c3                                                                                                               
0050c8   0e0a     MOVLW     0xa                                                                                             
0050ca   cfdb     MOVFF     0xfdb,0x2b                                                                                      
0050cc   f02b                                                                                                               
0050ce   0e0b     MOVLW     0xb                                                                                             
0050d0   cfdb     MOVFF     0xfdb,0x2c                                                                                      
0050d2   f02c                                                                                                               
0050d4   0012     RETURN    0x0                                                                                             
00502a   0eff     MOVLW     0xff           	motor_br = back_right & 0xff;                                                   C:\2007 final code\crab_drive.c
00502c   6ee7     MOVWF     0xe7,0x0                                                                                        
00502e   d853     RCALL     0x50d6                                                                                          
005030   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005032   162b     ANDWF     0x2b,0x1,0x0                                                                                    
005034   6a2c     CLRF      0x2c,0x0                                                                                        
005036   c02b     MOVFF     0x2b,0x2c4                                                                                      
005038   f2c4                                                                                                               
0050d6   0e0c     MOVLW     0xc                                                                                             
0050d8   cfdb     MOVFF     0xfdb,0x2b                                                                                      
0050da   f02b                                                                                                               
0050dc   0e0d     MOVLW     0xd                                                                                             
0050de   cfdb     MOVFF     0xfdb,0x2c                                                                                      
0050e0   f02c                                                                                                               
0050e2   0012     RETURN    0x0                                                                                             
                                           	return;                                                                         C:\2007 final code\crab_drive.c
00503a   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\crab_drive.c
00503c   ffe1                                                                                                               
00503e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005040   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
005042   ffd9                                                                                                               
005044   0012     RETURN    0x0                                                                                             
                                           #include <stdio.h>                                                               C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           #include "manipulator.h"                                                         C:\2007 final code\autonomous_166.c
                                           #include "ifi_aliases.h"                                                         C:\2007 final code\autonomous_166.c
                                           #include "ifi_default.h"                                                         C:\2007 final code\autonomous_166.c
                                           #include "user_routines.h"                                                       C:\2007 final code\autonomous_166.c
                                           #include "camera.h"                                                              C:\2007 final code\autonomous_166.c
                                           #include "autonomous_166.h"                                                      C:\2007 final code\autonomous_166.c
                                           #include "camera_166.h"                                                          C:\2007 final code\autonomous_166.c
                                           #include "crab_drive.h"                                                          C:\2007 final code\autonomous_166.c
                                           #include "manipulator.h"                                                         C:\2007 final code\autonomous_166.c
                                           /******************************************************************************* C:\2007 final code\autonomous_166.c
                                           *                                                                                C:\2007 final code\autonomous_166.c
                                           *	TITLE:		autonomous_166.c                                                       C:\2007 final code\autonomous_166.c
                                           *                                                                                C:\2007 final code\autonomous_166.c
                                           *	DATE:		03-Feb-2007                                                             C:\2007 final code\autonomous_166.c
                                           *                                                                                C:\2007 final code\autonomous_166.c
                                           *	COMMENTS:                                                                      C:\2007 final code\autonomous_166.c
                                           *	                                                                               C:\2007 final code\autonomous_166.c
                                           * camera ranges                                                                  C:\2007 final code\autonomous_166.c
                                           *     Min = (1,1)                                                                C:\2007 final code\autonomous_166.c
                                           *     Center = (80,120)                                                          C:\2007 final code\autonomous_166.c
                                           *     Max = (159,239)                                                            C:\2007 final code\autonomous_166.c
                                           *******************************************************************************/ C:\2007 final code\autonomous_166.c
                                           // look at these vars from user_routine_fast.c                                   C:\2007 final code\autonomous_166.c
                                           extern unsigned char autonomous_goal;  				// default                            C:\2007 final code\autonomous_166.c
                                           extern unsigned char auto_manip_position; 			// middle position                  C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // current state of autonomous                                                   C:\2007 final code\autonomous_166.c
                                           static unsigned char auto_state = MISSION_NOT_INITIALIZED;                       C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // goal of autonomous (left, center, right)                                      C:\2007 final code\autonomous_166.c
                                           unsigned char goal=GOAL_CENTER;                                                  C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // robot position on field                                                       C:\2007 final code\autonomous_166.c
                                           unsigned char position;			                                                       C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // direction of light: t=center(target), l=left, r=right                         C:\2007 final code\autonomous_166.c
                                           unsigned char light_direction = 't';                                             C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // is there only one light in view? TRUE/FALSE                                   C:\2007 final code\autonomous_166.c
                                           unsigned char one_light;                                                         C:\2007 final code\autonomous_166.c
                                           	                                                                                C:\2007 final code\autonomous_166.c
                                           unsigned char counter=0;                                                         C:\2007 final code\autonomous_166.c
                                           unsigned char keeper_placed = FALSE;                                             C:\2007 final code\autonomous_166.c
                                           unsigned char target_not_seen = FALSE;                                           C:\2007 final code\autonomous_166.c
                                           unsigned char error_reported = FALSE;                                            C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // counters                                                                      C:\2007 final code\autonomous_166.c
                                           static unsigned char print_count = 100;	//so will print first time               C:\2007 final code\autonomous_166.c
                                           static unsigned char camera_count = 0;                                           C:\2007 final code\autonomous_166.c
                                           static unsigned char there_count = 0;                                            C:\2007 final code\autonomous_166.c
                                           static unsigned char abort_count = 0;                                            C:\2007 final code\autonomous_166.c
                                           static unsigned int dead_count = 0;                                              C:\2007 final code\autonomous_166.c
                                           static unsigned char dead_print_count = 30;	//so will print first time           C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           #define ENCODER_DEAD_VALUE 150                                                   C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // TIMING PARAMETERS - treat as constants                                        C:\2007 final code\autonomous_166.c
                                           #define RETREAT_COUNTS				500                                                    C:\2007 final code\autonomous_166.c
                                           #define PRINT_RESET					400                                                      C:\2007 final code\autonomous_166.c
                                           #define POSITION_DEBUG_RESET		50                                                 C:\2007 final code\autonomous_166.c
                                           #define ABORT_NUM					500                                                        C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // number of loops until camera is read                                          C:\2007 final code\autonomous_166.c
                                           #define CAM_START					50                                                         C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // DRIVE PARAMETERS                                                              C:\2007 final code\autonomous_166.c
                                           //no power                                                                       C:\2007 final code\autonomous_166.c
                                           #define no_pwr	127	                                                              C:\2007 final code\autonomous_166.c
                                           // set up drive parameters                                                       C:\2007 final code\autonomous_166.c
                                           unsigned char drive_x = 127;                                                     C:\2007 final code\autonomous_166.c
                                           unsigned char drive_y = 127;                                                     C:\2007 final code\autonomous_166.c
                                           unsigned char drive_z = 127;                                                     C:\2007 final code\autonomous_166.c
                                           //fwd drive and reverse drive parameters                                         C:\2007 final code\autonomous_166.c
                                           #define REVERSE_AUTO_SPEED		64                                                   C:\2007 final code\autonomous_166.c
                                           #define FORWARD_AUTO_SPEED		192                                                  C:\2007 final code\autonomous_166.c
                                           #define DRIVE_LOOP_COUNT	38                                                      C:\2007 final code\autonomous_166.c
                                           #define MANIP_DESIRED_POS	3                                                      C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // fwd/back drive instructions for different distance from light                 C:\2007 final code\autonomous_166.c
                                           // to be adjusted depending on desired speed                                     C:\2007 final code\autonomous_166.c
                                           // if no x,y or z use no_pwr                                                     C:\2007 final code\autonomous_166.c
                                           unsigned char x_INIT = 127;		//forward while camera is initializing              C:\2007 final code\autonomous_166.c
                                           unsigned char y_INIT = 170;		                                                    C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // fwd drive while in dead reckoning mode A                                      C:\2007 final code\autonomous_166.c
                                           unsigned char x_DED_REK_1 = 127;		//forward while camera is initializing         C:\2007 final code\autonomous_166.c
                                           unsigned char y_DED_REK_1 = 162;		                                               C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // fwd drive while in dead reckoning mode A                                      C:\2007 final code\autonomous_166.c
                                           unsigned char x_DED_REK_2 = 127;		//forward while camera is initializing         C:\2007 final code\autonomous_166.c
                                           unsigned char y_DED_REK_2 = 158;		                                               C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // FAR1 distance; approach directly (at center)                                  C:\2007 final code\autonomous_166.c
                                           #define center_x_FAR1	127	                                                       C:\2007 final code\autonomous_166.c
                                           #define center_y_FAR1	160                                                        C:\2007 final code\autonomous_166.c
                                           // FAR distance; approach from left                                              C:\2007 final code\autonomous_166.c
                                           #define left_x_FAR1		87                                                          C:\2007 final code\autonomous_166.c
                                           #define left_y_FAR1		170                                                         C:\2007 final code\autonomous_166.c
                                           // FAR distance; approach from right                                             C:\2007 final code\autonomous_166.c
                                           #define right_x_FAR1	167                                                         C:\2007 final code\autonomous_166.c
                                           #define right_y_FAR1	170                                                         C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // FAR2 distance	                                                                C:\2007 final code\autonomous_166.c
                                           #define center_x_FAR2	127                                                        C:\2007 final code\autonomous_166.c
                                           #define center_y_FAR2	158                                                        C:\2007 final code\autonomous_166.c
                                           #define left_x_FAR2		127                                                         C:\2007 final code\autonomous_166.c
                                           #define left_y_FAR2		170                                                         C:\2007 final code\autonomous_166.c
                                           #define right_x_FAR2	127                                                         C:\2007 final code\autonomous_166.c
                                           #define right_y_FAR2	170                                                         C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // FAR3 distance                                                                 C:\2007 final code\autonomous_166.c
                                           #define center_x_FAR3	127                                                        C:\2007 final code\autonomous_166.c
                                           #define center_y_FAR3	156                                                        C:\2007 final code\autonomous_166.c
                                           #define left_x_FAR3		127                                                         C:\2007 final code\autonomous_166.c
                                           #define left_y_FAR3		170                                                         C:\2007 final code\autonomous_166.c
                                           #define right_x_FAR3	127                                                         C:\2007 final code\autonomous_166.c
                                           #define right_y_FAR3	170                                                         C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // MIDRANGE1 distance                                                            C:\2007 final code\autonomous_166.c
                                           #define center_x_MIDRANGE1	127                                                   C:\2007 final code\autonomous_166.c
                                           #define center_y_MIDRANGE1	154                                                   C:\2007 final code\autonomous_166.c
                                           #define left_x_MIDRANGE1	97                                                      C:\2007 final code\autonomous_166.c
                                           #define left_y_MIDRANGE1	170                                                     C:\2007 final code\autonomous_166.c
                                           #define right_x_MIDRANGE1	157                                                    C:\2007 final code\autonomous_166.c
                                           #define right_y_MIDRANGE1	170                                                    C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // MIDRANGE2 distance                                                            C:\2007 final code\autonomous_166.c
                                           #define center_x_MIDRANGE2	127                                                   C:\2007 final code\autonomous_166.c
                                           #define center_y_MIDRANGE2	152                                                   C:\2007 final code\autonomous_166.c
                                           #define left_x_MIDRANGE2	110                                                     C:\2007 final code\autonomous_166.c
                                           #define left_y_MIDRANGE2	160                                                     C:\2007 final code\autonomous_166.c
                                           #define right_x_MIDRANGE2	144                                                    C:\2007 final code\autonomous_166.c
                                           #define right_y_MIDRANGE2	160                                                    C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // MIDRANGE3 distance                                                            C:\2007 final code\autonomous_166.c
                                           #define center_x_MIDRANGE3	127                                                   C:\2007 final code\autonomous_166.c
                                           #define center_y_MIDRANGE3	150                                                   C:\2007 final code\autonomous_166.c
                                           #define left_x_MIDRANGE3	110                                                     C:\2007 final code\autonomous_166.c
                                           #define left_y_MIDRANGE3	160                                                     C:\2007 final code\autonomous_166.c
                                           #define right_x_MIDRANGE3	144                                                    C:\2007 final code\autonomous_166.c
                                           #define right_y_MIDRANGE3	160                                                    C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // CLOSE1 distance                                                               C:\2007 final code\autonomous_166.c
                                           #define center_x_CLOSE1	127                                                      C:\2007 final code\autonomous_166.c
                                           #define center_y_CLOSE1	150                                                      C:\2007 final code\autonomous_166.c
                                           #define left_x_CLOSE1	114                                                        C:\2007 final code\autonomous_166.c
                                           #define left_y_CLOSE1	160                                                        C:\2007 final code\autonomous_166.c
                                           #define right_x_CLOSE1	140                                                       C:\2007 final code\autonomous_166.c
                                           #define right_y_CLOSE1	160                                                       C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // CLOSE2 distance                                                               C:\2007 final code\autonomous_166.c
                                           #define center_x_CLOSE2	127                                                      C:\2007 final code\autonomous_166.c
                                           #define center_y_CLOSE2	140                                                      C:\2007 final code\autonomous_166.c
                                           #define left_x_CLOSE2	117                                                        C:\2007 final code\autonomous_166.c
                                           #define left_y_CLOSE2	160                                                        C:\2007 final code\autonomous_166.c
                                           #define right_x_CLOSE2	134                                                       C:\2007 final code\autonomous_166.c
                                           #define right_y_CLOSE2	160                                                       C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // CLOSE3 distance                                                               C:\2007 final code\autonomous_166.c
                                           #define center_x_CLOSE3	127                                                      C:\2007 final code\autonomous_166.c
                                           #define center_y_CLOSE3	140                                                      C:\2007 final code\autonomous_166.c
                                           #define left_x_CLOSE3	127                                                        C:\2007 final code\autonomous_166.c
                                           #define left_y_CLOSE3	160                                                        C:\2007 final code\autonomous_166.c
                                           #define right_x_CLOSE3	127                                                       C:\2007 final code\autonomous_166.c
                                           #define right_y_CLOSE3	160                                                       C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // BACKUP when done                                                              C:\2007 final code\autonomous_166.c
                                           #define center_y_BACK	60                                                         C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // rotation adjustment for turning toward light                                  C:\2007 final code\autonomous_166.c
                                           //unsigned char z_adjust = 5;                                                    C:\2007 final code\autonomous_166.c
                                           //until is debugged                                                              C:\2007 final code\autonomous_166.c
                                           #define z_adjust	0                                                               C:\2007 final code\autonomous_166.c
                                           // seeing one light =1, none=0, more=2                                           C:\2007 final code\autonomous_166.c
                                           unsigned char one_light;                                                         C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           //Encoder Value                                                                  C:\2007 final code\autonomous_166.c
                                           long encoder;                                                                    C:\2007 final code\autonomous_166.c
                                           #define USE_ENCODER 0                                                            C:\2007 final code\autonomous_166.c
                                           #define END_DEAD_RECKONING 38                                                    C:\2007 final code\autonomous_166.c
                                           #define MAX_GRIP_COUNT 40                                                        C:\2007 final code\autonomous_166.c
                                           #define AUTO_DEBUG 1                                                             C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           /***********************************************************************         C:\2007 final code\autonomous_166.c
                                           Function name:  do_auto                                                          C:\2007 final code\autonomous_166.c
                                           Date modified:  2-03-07                                                          C:\2007 final code\autonomous_166.c
                                           Called From:	should be called from user_routines_fast                            C:\2007 final code\autonomous_166.c
                                           Parameters:     unsigned int auto_goal, unsigned int manip_position              C:\2007 final code\autonomous_166.c
                                           Returns: 		void                                                                  C:\2007 final code\autonomous_166.c
                                           Purpose: 		Autonomous mode loop processing                                       C:\2007 final code\autonomous_166.c
                                           Notes:                                                                           C:\2007 final code\autonomous_166.c
                                           **********************************************************************/          C:\2007 final code\autonomous_166.c
                                           void do_auto() {                                                                 C:\2007 final code\autonomous_166.c
                                           	static unsigned char display=TRUE;                                              C:\2007 final code\autonomous_166.c
003376   0103     MOVLB     0x3            	if(display==TRUE)                                                               C:\2007 final code\autonomous_166.c
003378   0573     DECF      0x73,0x0,0x1                                                                                    
00337a   e108     BNZ       0x338c                                                                                          
                                           	{                                                                               C:\2007 final code\autonomous_166.c
00337c   0e7b     MOVLW     0x7b           		printf("do_auto has been called.\r");                                          C:\2007 final code\autonomous_166.c
00337e   6ee6     MOVWF     0xe6,0x0                                                                                        
003380   0e46     MOVLW     0x46                                                                                            
003382   6ee6     MOVWF     0xe6,0x0                                                                                        
003384   0e00     MOVLW     0x0                                                                                             
003386   db64     RCALL     0x3a50                                                                                          
003388   0103     MOVLB     0x3            		display=FALSE;                                                                 C:\2007 final code\autonomous_166.c
00338a   6b73     CLRF      0x73,0x1                                                                                        
                                           	}                                                                               C:\2007 final code\autonomous_166.c
                                           	                                                                                C:\2007 final code\autonomous_166.c
00338c   ec4d     CALL      0x489a,0x0     	Camera_Handler();                                                               C:\2007 final code\autonomous_166.c
00338e   f024                                                                                                               
003390   d806     RCALL     0x339e         	auto_state_machine();                                                           C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
003392   0e02     MOVLW     0x2                if (auto_state == MISSION_ACTIVATED)                                         C:\2007 final code\autonomous_166.c
003394   0103     MOVLB     0x3                                                                                             
003396   5d5c     SUBWF     0x5c,0x0,0x1                                                                                    
003398   e101     BNZ       0x339c                                                                                          
                                           	{                                                                               C:\2007 final code\autonomous_166.c
00339a   d8f8     RCALL     0x358c                 auto_drive();                                                            C:\2007 final code\autonomous_166.c
                                               }                                                                            C:\2007 final code\autonomous_166.c
00339c   0012     RETURN    0x0            }                                                                                C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           /***********************************************************************         C:\2007 final code\autonomous_166.c
                                           Function name:  auto_state_machine                                               C:\2007 final code\autonomous_166.c
                                           Date modified:  2-03-07                                                          C:\2007 final code\autonomous_166.c
                                           Called From:	do_auto                                                             C:\2007 final code\autonomous_166.c
                                           Parameters:     none                                                             C:\2007 final code\autonomous_166.c
                                           Returns: 		void                                                                  C:\2007 final code\autonomous_166.c
                                           Purpose: 		Autonomous mode loop processing                                       C:\2007 final code\autonomous_166.c
                                           Notes:                                                                           C:\2007 final code\autonomous_166.c
                                           **********************************************************************/          C:\2007 final code\autonomous_166.c
                                           void auto_state_machine() {                                                      C:\2007 final code\autonomous_166.c
                                            	                                                                               C:\2007 final code\autonomous_166.c
                                           	/**************************************************                             C:\2007 final code\autonomous_166.c
                                           	* this is c4lled every loop                                                     C:\2007 final code\autonomous_166.c
                                           	*                                                                               C:\2007 final code\autonomous_166.c
                                           	* Go left or right or center?                                                   C:\2007 final code\autonomous_166.c
                                           	*                                                                               C:\2007 final code\autonomous_166.c
                                           	**************************************************/                             C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           	static unsigned char loopcount = 0;                                             C:\2007 final code\autonomous_166.c
                                           	static unsigned char grip_count = 0;                                            C:\2007 final code\autonomous_166.c
00339e   0103     MOVLB     0x3            	loopcount++;                                                                    C:\2007 final code\autonomous_166.c
0033a0   2b74     INCF      0x74,0x1,0x1                                                                                    
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           	// make sure drive is initialized	                                              C:\2007 final code\autonomous_166.c
0033a2   0e7f     MOVLW     0x7f           	drive_x = no_pwr;                                                               C:\2007 final code\autonomous_166.c
0033a4   6f6a     MOVWF     0x6a,0x1                                                                                        
0033a6   6f6b     MOVWF     0x6b,0x1       	drive_y = no_pwr;                                                               C:\2007 final code\autonomous_166.c
0033a8   6f6c     MOVWF     0x6c,0x1       	drive_z = no_pwr;                                                               C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
0033aa   2b63     INCF      0x63,0x1,0x1   	print_count++;                                                                  C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           	// only show data every few loops                                               C:\2007 final code\autonomous_166.c
0033ac   5163     MOVF      0x63,0x0,0x1   	if(print_count >= PRINT_RESET)                                                  C:\2007 final code\autonomous_166.c
0033ae   6e2b     MOVWF     0x2b,0x0                                                                                        
0033b0   6a2c     CLRF      0x2c,0x0                                                                                        
0033b2   90d8     BCF       0xd8,0x0,0x0                                                                                    
0033b4   502c     MOVF      0x2c,0x0,0x0                                                                                    
0033b6   e604     BN        0x33c0                                                                                          
0033b8   0e90     MOVLW     0x90                                                                                            
0033ba   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
0033bc   0e01     MOVLW     0x1                                                                                             
0033be   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
0033c0   e30a     BNC       0x33d6                                                                                          
                                           	{                                                                               C:\2007 final code\autonomous_166.c
                                           		// reset the counter                                                           C:\2007 final code\autonomous_166.c
0033c2   6b63     CLRF      0x63,0x1       		print_count = 0;                                                               C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
0033c4   515c     MOVF      0x5c,0x0,0x1   		printf("auto_state_machine: %d\r", auto_state);                                C:\2007 final code\autonomous_166.c
0033c6   6ee6     MOVWF     0xe6,0x0                                                                                        
0033c8   6ae6     CLRF      0xe6,0x0                                                                                        
0033ca   0e63     MOVLW     0x63                                                                                            
0033cc   6ee6     MOVWF     0xe6,0x0                                                                                        
0033ce   0e46     MOVLW     0x46                                                                                            
0033d0   6ee6     MOVWF     0xe6,0x0                                                                                        
0033d2   0e00     MOVLW     0x0                                                                                             
0033d4   db58     RCALL     0x3a86                                                                                          
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
                                           	}                                                                               C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
0033d6   0103     MOVLB     0x3            	switch (auto_state)                                                             C:\2007 final code\autonomous_166.c
0033d8   515c     MOVF      0x5c,0x0,0x1                                                                                    
0033da   0a06     XORLW     0x6                                                                                             
0033dc   e101     BNZ       0x33e0                                                                                          
0033de   d0c1     BRA       0x3562                                                                                          
0033e0   0a02     XORLW     0x2                                                                                             
0033e2   e101     BNZ       0x33e6                                                                                          
0033e4   d0b6     BRA       0x3552                                                                                          
0033e6   0a01     XORLW     0x1                                                                                             
0033e8   e101     BNZ       0x33ec                                                                                          
0033ea   d08f     BRA       0x350a                                                                                          
0033ec   0a07     XORLW     0x7                                                                                             
0033ee   e06d     BZ        0x34ca                                                                                          
0033f0   0a03     XORLW     0x3                                                                                             
0033f2   e05c     BZ        0x34ac                                                                                          
0033f4   0a06     XORLW     0x6                                                                                             
0033f6   e034     BZ        0x3460                                                                                          
0033f8   0a0f     XORLW     0xf                                                                                             
0033fa   e022     BZ        0x3440                                                                                          
0033fc   0a08     XORLW     0x8                                                                                             
0033fe   e001     BZ        0x3402                                                                                          
003400   d0bb     BRA       0x3578                                                                                          
                                           	{                                                                               C:\2007 final code\autonomous_166.c
                                                  	case MISSION_NOT_INITIALIZED:                                            C:\2007 final code\autonomous_166.c
                                           			/*	Initialize camera */                                                       C:\2007 final code\autonomous_166.c
003402   ec25     CALL      0x4a4a,0x0     			Initialize_Camera();                                                          C:\2007 final code\autonomous_166.c
003404   f025                                                                                                               
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           	    	/*    Looks for primarily green light */                                   C:\2007 final code\autonomous_166.c
                                           //	  		Track_Color(0,100,200,255,0,100);                                         C:\2007 final code\autonomous_166.c
003406   0ef5     MOVLW     0xf5           	  		Track_Color(0,245,200,255,0,245);                                           C:\2007 final code\autonomous_166.c
003408   6ee6     MOVWF     0xe6,0x0                                                                                        
00340a   6ae6     CLRF      0xe6,0x0                                                                                        
00340c   68e6     SETF      0xe6,0x0                                                                                        
00340e   0ec8     MOVLW     0xc8                                                                                            
003410   6ee6     MOVWF     0xe6,0x0                                                                                        
003412   0ef5     MOVLW     0xf5                                                                                            
003414   6ee6     MOVWF     0xe6,0x0                                                                                        
003416   6ae6     CLRF      0xe6,0x0                                                                                        
003418   ec1b     CALL      0x4c36,0x0                                                                                      
00341a   f026                                                                                                               
00341c   6ef5     MOVWF     0xf5,0x0                                                                                        
00341e   0e06     MOVLW     0x6                                                                                             
003420   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
003422   50f5     MOVF      0xf5,0x0,0x0                                                                                    
                                           	    	                                                                           C:\2007 final code\autonomous_166.c
                                           			// set the local variable from user_routines_fast.c	                          C:\2007 final code\autonomous_166.c
003424   c3f5     MOVFF     0x3f5,0x35d    	    	goal = autonomous_goal;                                                    C:\2007 final code\autonomous_166.c
003426   f35d                                                                                                               
003428   ec03     CALL      0x6606,0x0     			Reset_Encoder_2_Count();                                                      C:\2007 final code\autonomous_166.c
00342a   f033                                                                                                               
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
00342c   0e3d     MOVLW     0x3d           			printf("auto_drive: MISSION_NOT_INITIALIZED \r");                             C:\2007 final code\autonomous_166.c
00342e   6ee6     MOVWF     0xe6,0x0                                                                                        
003430   0e46     MOVLW     0x46                                                                                            
003432   6ee6     MOVWF     0xe6,0x0                                                                                        
003434   0e00     MOVLW     0x0                                                                                             
003436   db0c     RCALL     0x3a50                                                                                          
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
                                           			// close gripper around keeper                                                C:\2007 final code\autonomous_166.c
003438   db21     RCALL     0x3a7c         			autonomous_manipulator_master_control(MIDDLE,AUTO_GRIPPER_CLOSED);            C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
00343a   0103     MOVLB     0x3            	    	auto_state = MISSION_CLOSING_ON_GRIPPER; /* grip the keeper */             C:\2007 final code\autonomous_166.c
00343c   0e08     MOVLW     0x8                                                                                             
00343e   d00e     BRA       0x345c         			break;                                                                        C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                                  	case MISSION_CLOSING_ON_GRIPPER:                                         C:\2007 final code\autonomous_166.c
003440   2b75     INCF      0x75,0x1,0x1   			grip_count++;                                                                 C:\2007 final code\autonomous_166.c
                                           			// close gripper around keeper                                                C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
003442   0e14     MOVLW     0x14           			printf("auto_drive: MISSION_CLOSING_ON_GRIPPER \r");                          C:\2007 final code\autonomous_166.c
003444   6ee6     MOVWF     0xe6,0x0                                                                                        
003446   0e46     MOVLW     0x46                                                                                            
003448   6ee6     MOVWF     0xe6,0x0                                                                                        
00344a   0e00     MOVLW     0x0                                                                                             
00344c   db01     RCALL     0x3a50                                                                                          
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
00344e   db16     RCALL     0x3a7c         			autonomous_manipulator_master_control(MIDDLE,AUTO_GRIPPER_CLOSED);            C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
003450   0e28     MOVLW     0x28           	    	if (grip_count >= MAX_GRIP_COUNT)                                          C:\2007 final code\autonomous_166.c
003452   0103     MOVLB     0x3                                                                                             
003454   5d75     SUBWF     0x75,0x0,0x1                                                                                    
003456   e201     BC        0x345a                                                                                          
003458   d098     BRA       0x358a                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
00345a   0e07     MOVLW     0x7            				auto_state = DEAD_RECKONING; /* start drive */                               C:\2007 final code\autonomous_166.c
00345c   6f5c     MOVWF     0x5c,0x1                                                                                        
                                           			}                                                                             C:\2007 final code\autonomous_166.c
00345e   0012     RETURN    0x0            			break;                                                                        C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                                   case DEAD_RECKONING:                                                     C:\2007 final code\autonomous_166.c
                                           //USe either encoder values or loop counter to manage the autonomous period      C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
003460   0ef0     MOVLW     0xf0           			printf("auto_state_machine: DEAD_RECKONING\r");                               C:\2007 final code\autonomous_166.c
003462   6ee6     MOVWF     0xe6,0x0                                                                                        
003464   0e45     MOVLW     0x45                                                                                            
003466   6ee6     MOVWF     0xe6,0x0                                                                                        
003468   0e00     MOVLW     0x0                                                                                             
00346a   daf2     RCALL     0x3a50                                                                                          
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
                                           #if USE_ENCODER                                                                  C:\2007 final code\autonomous_166.c
                                           			encoder=Get_Encoder_2_Count();                                                C:\2007 final code\autonomous_166.c
                                           			printf("Encoder Value: %ld\r",encoder);                                       C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           			if((encoder < ENCODER_DEAD_VALUE) && (encoder > -ENCODER_DEAD_VALUE))         C:\2007 final code\autonomous_166.c
                                           			{                                                                             C:\2007 final code\autonomous_166.c
                                           				if(encoder<=DEAD_COUNT_BURST)                                                C:\2007 final code\autonomous_166.c
                                           				{                                                                            C:\2007 final code\autonomous_166.c
                                           					crab_drive(x_DED_REK_1,(y_DED_REK_1),no_pwr);                               C:\2007 final code\autonomous_166.c
                                           				}                                                                            C:\2007 final code\autonomous_166.c
                                           				else if(encoder <= DEAD_COUNT_MIN)                                           C:\2007 final code\autonomous_166.c
                                           				{					                                                                       C:\2007 final code\autonomous_166.c
                                           					crab_drive(x_DED_REK_1, y_DED_REK_1, no_pwr);                               C:\2007 final code\autonomous_166.c
                                           				}                                                                            C:\2007 final code\autonomous_166.c
                                           				else if(encoder<=DEAD_COUNT_MAX)                                             C:\2007 final code\autonomous_166.c
                                           				{                                                                            C:\2007 final code\autonomous_166.c
                                           					if(T_Packet_Data.pixels<2)                                                  C:\2007 final code\autonomous_166.c
                                           					{                                                                           C:\2007 final code\autonomous_166.c
                                           						auto_state=MISSION_INITIALIZING;                                           C:\2007 final code\autonomous_166.c
                                           					}										                                                                 C:\2007 final code\autonomous_166.c
                                           					crab_drive(x_DED_REK_2, y_DED_REK_2, no_pwr);                               C:\2007 final code\autonomous_166.c
                                           				}                                                                            C:\2007 final code\autonomous_166.c
                                           				else                                                                         C:\2007 final code\autonomous_166.c
                                           				{                                                                            C:\2007 final code\autonomous_166.c
                                           					if(T_Packet_Data.pixels<2)                                                  C:\2007 final code\autonomous_166.c
                                           					{                                                                           C:\2007 final code\autonomous_166.c
                                           						auto_state=MISSION_ABORTED;                                                C:\2007 final code\autonomous_166.c
                                           					}                                                                           C:\2007 final code\autonomous_166.c
                                           					else                                                                        C:\2007 final code\autonomous_166.c
                                           					{                                                                           C:\2007 final code\autonomous_166.c
                                           						if(T_Packet_Data.pixels > 2)                                               C:\2007 final code\autonomous_166.c
                                           						{                                                                          C:\2007 final code\autonomous_166.c
                                           							auto_state=MISSION_INITIALIZING;                                          C:\2007 final code\autonomous_166.c
                                           						}                                                                          C:\2007 final code\autonomous_166.c
                                           						else                                                                       C:\2007 final code\autonomous_166.c
                                           						{                                                                          C:\2007 final code\autonomous_166.c
                                           							auto_state=MISSION_ABORTED;                                               C:\2007 final code\autonomous_166.c
                                           						}                                                                          C:\2007 final code\autonomous_166.c
                                           					}                                                                           C:\2007 final code\autonomous_166.c
                                           				}                                                                            C:\2007 final code\autonomous_166.c
                                           			}                                                                             C:\2007 final code\autonomous_166.c
                                           			else                                                                          C:\2007 final code\autonomous_166.c
                                           			{                                                                             C:\2007 final code\autonomous_166.c
                                           				printf("Goes here directly\r");                                              C:\2007 final code\autonomous_166.c
                                           				auto_state=MISSION_INITIALIZING;                                             C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
                                           			printf("going to MISSION INITIALIZING...\r");                                 C:\2007 final code\autonomous_166.c
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
                                           				dead_count=0;                                                                C:\2007 final code\autonomous_166.c
                                           			}                                                                             C:\2007 final code\autonomous_166.c
                                           #else                                                                            C:\2007 final code\autonomous_166.c
00346c   0103     MOVLB     0x3            			dead_count++;                                                                 C:\2007 final code\autonomous_166.c
00346e   2b67     INCF      0x67,0x1,0x1                                                                                    
003470   0e00     MOVLW     0x0                                                                                             
003472   2368     ADDWFC    0x68,0x1,0x1                                                                                    
003474   0e26     MOVLW     0x26           			if(dead_count < END_DEAD_RECKONING)                                           C:\2007 final code\autonomous_166.c
003476   5d67     SUBWF     0x67,0x0,0x1                                                                                    
003478   0e00     MOVLW     0x0                                                                                             
00347a   5968     SUBWFB    0x68,0x0,0x1                                                                                    
00347c   e207     BC        0x348c                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
00347e   0e7f     MOVLW     0x7f           				crab_drive(no_pwr, FORWARD_AUTO_SPEED, no_pwr);									                     C:\2007 final code\autonomous_166.c
003480   6ee6     MOVWF     0xe6,0x0                                                                                        
003482   0ec0     MOVLW     0xc0                                                                                            
003484   6ee6     MOVWF     0xe6,0x0                                                                                        
003486   0e7f     MOVLW     0x7f                                                                                            
003488   daea     RCALL     0x3a5e                                                                                          
                                           			}                                                                             C:\2007 final code\autonomous_166.c
00348a   d002     BRA       0x3490         			else                                                                          C:\2007 final code\autonomous_166.c
                                           			{	                                                                            C:\2007 final code\autonomous_166.c
00348c   0e04     MOVLW     0x4            					auto_state=MISSION_ABORTED;			                                              C:\2007 final code\autonomous_166.c
00348e   6f5c     MOVWF     0x5c,0x1                                                                                        
                                           			}	                                                                            C:\2007 final code\autonomous_166.c
003490   0103     MOVLB     0x3            			if(T_Packet_Data.pixels>2)                                                    C:\2007 final code\autonomous_166.c
003492   5106     MOVF      0x6,0x0,0x1                                                                                     
003494   0802     SUBLW     0x2                                                                                             
003496   e301     BNC       0x349a                                                                                          
003498   d078     BRA       0x358a                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
00349a   0103     MOVLB     0x3            					auto_state=MISSION_INITIALIZING;                                            C:\2007 final code\autonomous_166.c
00349c   0e01     MOVLW     0x1                                                                                             
00349e   6f5c     MOVWF     0x5c,0x1                                                                                        
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
0034a0   0ece     MOVLW     0xce           			printf("going to MISSION INITIALIZING...\r");                                 C:\2007 final code\autonomous_166.c
0034a2   6ee6     MOVWF     0xe6,0x0                                                                                        
0034a4   0e45     MOVLW     0x45                                                                                            
0034a6   6ee6     MOVWF     0xe6,0x0                                                                                        
0034a8   0e00     MOVLW     0x0                                                                                             
                                           #endif	                                                                          C:\2007 final code\autonomous_166.c
                                           			}	                                                                            C:\2007 final code\autonomous_166.c
0034aa   d029     BRA       0x34fe         			break;                                                                        C:\2007 final code\autonomous_166.c
                                           				                                                                             C:\2007 final code\autonomous_166.c
                                           		case MISSION_INITIALIZING:                                                     C:\2007 final code\autonomous_166.c
                                           			//move fwd a bit                                                              C:\2007 final code\autonomous_166.c
                                           		                                                                               C:\2007 final code\autonomous_166.c
                                           			// start reading camera and change states if ready                            C:\2007 final code\autonomous_166.c
0034ac   5164     MOVF      0x64,0x0,0x1   			if (camera_count <= CAM_START)                                                C:\2007 final code\autonomous_166.c
0034ae   0832     SUBLW     0x32                                                                                            
0034b0   e302     BNC       0x34b6                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
0034b2   2b64     INCF      0x64,0x1,0x1   				camera_count++;                                                              C:\2007 final code\autonomous_166.c
                                           			}                                                                             C:\2007 final code\autonomous_166.c
0034b4   0012     RETURN    0x0            			else                                                                          C:\2007 final code\autonomous_166.c
                                           			{                                                                             C:\2007 final code\autonomous_166.c
0034b6   d9ea     RCALL     0x388c         	    	   	do_camera();                                                           C:\2007 final code\autonomous_166.c
                                           	                                                                                C:\2007 final code\autonomous_166.c
0034b8   0103     MOVLB     0x3            			    auto_state = MISSION_ACTIVATED; /* init complete */                       C:\2007 final code\autonomous_166.c
0034ba   0e02     MOVLW     0x2                                                                                             
0034bc   6f5c     MOVWF     0x5c,0x1                                                                                        
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
0034be   0ea8     MOVLW     0xa8           				printf("auto_state_machine: MISSION_ACTIVATED");                             C:\2007 final code\autonomous_166.c
0034c0   6ee6     MOVWF     0xe6,0x0                                                                                        
0034c2   0e45     MOVLW     0x45                                                                                            
0034c4   6ee6     MOVWF     0xe6,0x0                                                                                        
0034c6   0e00     MOVLW     0x0                                                                                             
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
                                           			}                                                                             C:\2007 final code\autonomous_166.c
0034c8   d01a     BRA       0x34fe         			break;                                                                        C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           		case MISSION_ACTIVATED:                                                        C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
0034ca   0560     DECF      0x60,0x0,0x1   			if (keeper_placed == TRUE)                                                    C:\2007 final code\autonomous_166.c
0034cc   e108     BNZ       0x34de                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
0034ce   0e05     MOVLW     0x5            					auto_state = MISSION_ACCOMPLISHED;                                          C:\2007 final code\autonomous_166.c
0034d0   6f5c     MOVWF     0x5c,0x1                                                                                        
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
0034d2   0e7e     MOVLW     0x7e           				printf("auto_state_machine: MISSION_ACCOMPLISHED\r");                        C:\2007 final code\autonomous_166.c
0034d4   6ee6     MOVWF     0xe6,0x0                                                                                        
0034d6   0e45     MOVLW     0x45                                                                                            
0034d8   6ee6     MOVWF     0xe6,0x0                                                                                        
0034da   0e00     MOVLW     0x0                                                                                             
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
                                           			}                                                                             C:\2007 final code\autonomous_166.c
0034dc   d010     BRA       0x34fe         			else if (abort_count == ABORT_NUM)                                            C:\2007 final code\autonomous_166.c
0034de   5166     MOVF      0x66,0x0,0x1                                                                                    
0034e0   6e2b     MOVWF     0x2b,0x0                                                                                        
0034e2   6a2c     CLRF      0x2c,0x0                                                                                        
0034e4   0ef4     MOVLW     0xf4                                                                                            
0034e6   182b     XORWF     0x2b,0x0,0x0                                                                                    
0034e8   e10c     BNZ       0x3502                                                                                          
0034ea   0e01     MOVLW     0x1                                                                                             
0034ec   182c     XORWF     0x2c,0x0,0x0                                                                                    
0034ee   e109     BNZ       0x3502                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
0034f0   0e04     MOVLW     0x4            				auto_state = MISSION_ABORTED;                                                C:\2007 final code\autonomous_166.c
0034f2   6f5c     MOVWF     0x5c,0x1                                                                                        
0034f4   0e4f     MOVLW     0x4f           				printf("auto_state_machine: MISSION_ABORT!!! NO LIGHT\r");                   C:\2007 final code\autonomous_166.c
0034f6   6ee6     MOVWF     0xe6,0x0                                                                                        
0034f8   0e45     MOVLW     0x45                                                                                            
0034fa   6ee6     MOVWF     0xe6,0x0                                                                                        
0034fc   0e00     MOVLW     0x0                                                                                             
0034fe   ef28     GOTO      0x3a50                                                                                          
003500   f01d                                                                                                               
                                           			}                                                                             C:\2007 final code\autonomous_166.c
                                           			else                                                                          C:\2007 final code\autonomous_166.c
                                           			{                                                                             C:\2007 final code\autonomous_166.c
003502   2b64     INCF      0x64,0x1,0x1   				camera_count++;                                                              C:\2007 final code\autonomous_166.c
003504   d9c3     RCALL     0x388c         				do_camera();                                                                 C:\2007 final code\autonomous_166.c
003506   efc6     GOTO      0x358c                 		auto_drive();                                                          C:\2007 final code\autonomous_166.c
003508   f01a                                                                                                               
                                           			}                                                                             C:\2007 final code\autonomous_166.c
                                           			break;                                                                        C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           		case MISSION_ACCOMPLISHED:                                                     C:\2007 final code\autonomous_166.c
                                           			// move backwards for x counts                                                C:\2007 final code\autonomous_166.c
00350a   5165     MOVF      0x65,0x0,0x1   			if (there_count == 0)                                                         C:\2007 final code\autonomous_166.c
00350c   e10c     BNZ       0x3526                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
                                           				// first time around                                                         C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
00350e   0e30     MOVLW     0x30           				printf("auto_state_machine: RETREATING");                                    C:\2007 final code\autonomous_166.c
003510   6ee6     MOVWF     0xe6,0x0                                                                                        
003512   0e45     MOVLW     0x45                                                                                            
003514   6ee6     MOVWF     0xe6,0x0                                                                                        
003516   0e00     MOVLW     0x0                                                                                             
003518   da9b     RCALL     0x3a50                                                                                          
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
00351a   0e7f     MOVLW     0x7f           				crab_drive(no_pwr, center_y_BACK, no_pwr);                                   C:\2007 final code\autonomous_166.c
00351c   6ee6     MOVWF     0xe6,0x0                                                                                        
00351e   0e3c     MOVLW     0x3c                                                                                            
003520   6ee6     MOVWF     0xe6,0x0                                                                                        
003522   0e7f     MOVLW     0x7f                                                                                            
003524   da9c     RCALL     0x3a5e                                                                                          
                                           			}                                                                             C:\2007 final code\autonomous_166.c
003526   0103     MOVLB     0x3            			if (there_count > RETREAT_COUNTS)                                             C:\2007 final code\autonomous_166.c
003528   5165     MOVF      0x65,0x0,0x1                                                                                    
00352a   6e2b     MOVWF     0x2b,0x0                                                                                        
00352c   6a2c     CLRF      0x2c,0x0                                                                                        
00352e   342c     RLCF      0x2c,0x0,0x0                                                                                    
003530   e20d     BC        0x354c                                                                                          
003532   502b     MOVF      0x2b,0x0,0x0                                                                                    
003534   08f4     SUBLW     0xf4                                                                                            
003536   0e01     MOVLW     0x1                                                                                             
003538   542c     SUBFWB    0x2c,0x0,0x0                                                                                    
00353a   e208     BC        0x354c                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
00353c   0e06     MOVLW     0x6            				auto_state = MISSION_COMPLETED;                                              C:\2007 final code\autonomous_166.c
00353e   6f5c     MOVWF     0x5c,0x1                                                                                        
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
003540   0e09     MOVLW     0x9            				printf("auto_state_machine: MISSION_COMPLETED\r");                           C:\2007 final code\autonomous_166.c
003542   6ee6     MOVWF     0xe6,0x0                                                                                        
003544   0e45     MOVLW     0x45                                                                                            
003546   6ee6     MOVWF     0xe6,0x0                                                                                        
003548   0e00     MOVLW     0x0                                                                                             
00354a   da82     RCALL     0x3a50                                                                                          
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
                                           			}                                                                             C:\2007 final code\autonomous_166.c
00354c   0103     MOVLB     0x3            			there_count++;                                                                C:\2007 final code\autonomous_166.c
00354e   2b65     INCF      0x65,0x1,0x1                                                                                    
003550   0012     RETURN    0x0            			break;                                                                        C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           		case MISSION_ABORTED:                                                          C:\2007 final code\autonomous_166.c
                                           			// no operations here                                                         C:\2007 final code\autonomous_166.c
003552   dab1     RCALL     0x3ab6         			crab_drive(no_pwr, no_pwr, no_pwr);                                           C:\2007 final code\autonomous_166.c
003ab6   0e7f     MOVLW     0x7f                                                                                            
003ab8   6ee6     MOVWF     0xe6,0x0                                                                                        
003aba   6ee6     MOVWF     0xe6,0x0                                                                                        
003abc   dfd0     RCALL     0x3a5e                                                                                          
003abe   0103     MOVLB     0x3            			dead_print_count ++;                                                          C:\2007 final code\autonomous_166.c
003ac0   2b69     INCF      0x69,0x1,0x1                                                                                    
003554   e31a     BNC       0x358a         			if (dead_print_count>= 50)                                                    C:\2007 final code\autonomous_166.c
003ac2   0e32     MOVLW     0x32                                                                                            
003ac4   5d69     SUBWF     0x69,0x0,0x1                                                                                    
003ac6   0012     RETURN    0x0                                                                                             
                                           			{                                                                             C:\2007 final code\autonomous_166.c
003556   0ef1     MOVLW     0xf1           				printf("mission aborted state/r");                                           C:\2007 final code\autonomous_166.c
003558   6ee6     MOVWF     0xe6,0x0                                                                                        
00355a   0e44     MOVLW     0x44                                                                                            
00355c   6ee6     MOVWF     0xe6,0x0                                                                                        
00355e   0e00     MOVLW     0x0                                                                                             
                                           				dead_print_count = 0;                                                        C:\2007 final code\autonomous_166.c
                                           			}	                                                                            C:\2007 final code\autonomous_166.c
003560   d007     BRA       0x3570         			break;                                                                        C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           		case MISSION_COMPLETED:                                                        C:\2007 final code\autonomous_166.c
                                           			// no operations here                                                         C:\2007 final code\autonomous_166.c
003562   daa9     RCALL     0x3ab6         			crab_drive(no_pwr, no_pwr, no_pwr);                                           C:\2007 final code\autonomous_166.c
                                           			dead_print_count ++;                                                          C:\2007 final code\autonomous_166.c
003564   e312     BNC       0x358a         			if (dead_print_count>= 50)                                                    C:\2007 final code\autonomous_166.c
                                           			{                                                                             C:\2007 final code\autonomous_166.c
003566   0ed8     MOVLW     0xd8           				printf("mission complete state/r");                                          C:\2007 final code\autonomous_166.c
003568   6ee6     MOVWF     0xe6,0x0                                                                                        
00356a   0e44     MOVLW     0x44                                                                                            
00356c   6ee6     MOVWF     0xe6,0x0                                                                                        
00356e   0e00     MOVLW     0x0                                                                                             
003570   da6f     RCALL     0x3a50                                                                                          
003572   0103     MOVLB     0x3            				dead_print_count = 0;                                                        C:\2007 final code\autonomous_166.c
003574   6b69     CLRF      0x69,0x1                                                                                        
                                           			}	                                                                            C:\2007 final code\autonomous_166.c
003576   0012     RETURN    0x0            			break;                                                                        C:\2007 final code\autonomous_166.c
                                           			break;                                                                        C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           		default:                                                                       C:\2007 final code\autonomous_166.c
003578   515c     MOVF      0x5c,0x0,0x1   			printf("error in auto_state_machine, auto_state= %d\r", auto_state);          C:\2007 final code\autonomous_166.c
00357a   6ee6     MOVWF     0xe6,0x0                                                                                        
00357c   6ae6     CLRF      0xe6,0x0                                                                                        
00357e   0eab     MOVLW     0xab                                                                                            
003580   6ee6     MOVWF     0xe6,0x0                                                                                        
003582   0e44     MOVLW     0x44                                                                                            
003584   6ee6     MOVWF     0xe6,0x0                                                                                        
003586   0e00     MOVLW     0x0                                                                                             
003588   da7e     RCALL     0x3a86                                                                                          
                                           			break;                                                                        C:\2007 final code\autonomous_166.c
                                           	}                                                                               C:\2007 final code\autonomous_166.c
00358a   0012     RETURN    0x0            }                                                                                C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           /***********************************************************************         C:\2007 final code\autonomous_166.c
                                           Function name:  auto_drive                                                       C:\2007 final code\autonomous_166.c
                                           Date modified:  2-03-07                                                          C:\2007 final code\autonomous_166.c
                                           Called From:	do_auto                                                             C:\2007 final code\autonomous_166.c
                                           Parameters:     none                                                             C:\2007 final code\autonomous_166.c
                                           Returns: 		void                                                                  C:\2007 final code\autonomous_166.c
                                           Purpose: 		Autonomous mode loop processing                                       C:\2007 final code\autonomous_166.c
                                           Notes:                                                                           C:\2007 final code\autonomous_166.c
                                           **********************************************************************/          C:\2007 final code\autonomous_166.c
                                           void auto_drive() {                                                              C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           	static unsigned char drive_count = 0;                                           C:\2007 final code\autonomous_166.c
                                           	// Initialize drive                                                             C:\2007 final code\autonomous_166.c
00358c   0103     MOVLB     0x3            	drive_x = no_pwr;                                                               C:\2007 final code\autonomous_166.c
00358e   0e7f     MOVLW     0x7f                                                                                            
003590   6f6a     MOVWF     0x6a,0x1                                                                                        
003592   6f6b     MOVWF     0x6b,0x1       	drive_y = no_pwr;                                                               C:\2007 final code\autonomous_166.c
003594   6f6c     MOVWF     0x6c,0x1       	drive_z = no_pwr;                                                               C:\2007 final code\autonomous_166.c
                                           	                                                                                C:\2007 final code\autonomous_166.c
                                           	// this is called every loop while active                                       C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
003596   c301     MOVFF     0x301,0xfe6      	position = determine_closeness(T_Packet_Data.my);                             C:\2007 final code\autonomous_166.c
003598   ffe6                                                                                                               
00359a   ec9f     CALL      0x613e,0x0                                                                                      
00359c   f030                                                                                                               
00359e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0035a0   0103     MOVLB     0x3                                                                                             
0035a2   6fef     MOVWF     0xef,0x1                                                                                        
0035a4   c300     MOVFF     0x300,0xfe6      	light_direction = target_at_center(T_Packet_Data.mx);                         C:\2007 final code\autonomous_166.c
0035a6   ffe6                                                                                                               
0035a8   ec45     CALL      0x608a,0x0                                                                                      
0035aa   f030                                                                                                               
0035ac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0035ae   0103     MOVLB     0x3                                                                                             
0035b0   6f5e     MOVWF     0x5e,0x1                                                                                        
                                                                                                                            C:\2007 final code\autonomous_166.c
0035b2   2b76     INCF      0x76,0x1,0x1   	drive_count++;                                                                  C:\2007 final code\autonomous_166.c
                                           	// only show data every 10 loops                                                C:\2007 final code\autonomous_166.c
0035b4   0e32     MOVLW     0x32           	if(drive_count >= POSITION_DEBUG_RESET)                                         C:\2007 final code\autonomous_166.c
0035b6   5d76     SUBWF     0x76,0x0,0x1                                                                                    
0035b8   e301     BNC       0x35bc                                                                                          
                                           	{                                                                               C:\2007 final code\autonomous_166.c
                                           		// reset the counter                                                           C:\2007 final code\autonomous_166.c
0035ba   6b76     CLRF      0x76,0x1       		drive_count = 0;                                                               C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
                                           //		printf("auto_drive: position state= %d\r", position);                        C:\2007 final code\autonomous_166.c
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
                                           	}	                                                                              C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           	/**************************************************                             C:\2007 final code\autonomous_166.c
                                           	* this is c4lled every loop                                                     C:\2007 final code\autonomous_166.c
                                           	* Set up drive parameters                                                       C:\2007 final code\autonomous_166.c
                                           	* Go left or right or center?	                                                  C:\2007 final code\autonomous_166.c
                                           	**************************************************/                             C:\2007 final code\autonomous_166.c
0035bc   0103     MOVLB     0x3            	switch (position) {                                                             C:\2007 final code\autonomous_166.c
0035be   51ef     MOVF      0xef,0x0,0x1                                                                                    
0035c0   0a09     XORLW     0x9                                                                                             
0035c2   e101     BNZ       0x35c6                                                                                          
0035c4   d11b     BRA       0x37fc                                                                                          
0035c6   0a01     XORLW     0x1                                                                                             
0035c8   e101     BNZ       0x35cc                                                                                          
0035ca   d0fa     BRA       0x37c0                                                                                          
0035cc   0a0f     XORLW     0xf                                                                                             
0035ce   e101     BNZ       0x35d2                                                                                          
0035d0   d0e0     BRA       0x3792                                                                                          
0035d2   0a01     XORLW     0x1                                                                                             
0035d4   e101     BNZ       0x35d8                                                                                          
0035d6   d0c2     BRA       0x375c                                                                                          
0035d8   0a03     XORLW     0x3                                                                                             
0035da   e101     BNZ       0x35de                                                                                          
0035dc   d0a4     BRA       0x3726                                                                                          
0035de   0a01     XORLW     0x1                                                                                             
0035e0   e101     BNZ       0x35e4                                                                                          
0035e2   d086     BRA       0x36f0                                                                                          
0035e4   0a07     XORLW     0x7                                                                                             
0035e6   e05d     BZ        0x36a2                                                                                          
0035e8   0a01     XORLW     0x1                                                                                             
0035ea   e03d     BZ        0x3666                                                                                          
0035ec   0a03     XORLW     0x3                                                                                             
0035ee   e01f     BZ        0x362e                                                                                          
0035f0   0a01     XORLW     0x1                                                                                             
0035f2   e001     BZ        0x35f6                                                                                          
0035f4   d121     BRA       0x3838                                                                                          
                                           	    case FAR_STATE_1:	// near base                                              C:\2007 final code\autonomous_166.c
                                           	        //move toward target                                                    C:\2007 final code\autonomous_166.c
                                           	        //call joystick x,y,0 if center of mass is reasonably close to          C:\2007 final code\autonomous_166.c
                                           			//center                                                                      C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
0035f6   0103     MOVLB     0x3            			if (print_count == 0) {                                                       C:\2007 final code\autonomous_166.c
0035f8   5163     MOVF      0x63,0x0,0x1                                                                                    
0035fa   e106     BNZ       0x3608                                                                                          
0035fc   0e98     MOVLW     0x98           				printf("auto_drive: FAR_1\r");                                               C:\2007 final code\autonomous_166.c
0035fe   6ee6     MOVWF     0xe6,0x0                                                                                        
003600   0e44     MOVLW     0x44                                                                                            
003602   6ee6     MOVWF     0xe6,0x0                                                                                        
003604   0e00     MOVLW     0x0                                                                                             
003606   da24     RCALL     0x3a50                                                                                          
                                           			}                                                                             C:\2007 final code\autonomous_166.c
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           			// z value will be adjusted to focus on camera                                C:\2007 final code\autonomous_166.c
003608   0103     MOVLB     0x3            		    if(goal==GOAL_CENTER) {                                                    C:\2007 final code\autonomous_166.c
00360a   055d     DECF      0x5d,0x0,0x1                                                                                    
00360c   e104     BNZ       0x3616                                                                                          
00360e   0e7f     MOVLW     0x7f           				drive_x = center_x_FAR1;                                                     C:\2007 final code\autonomous_166.c
003610   6f6a     MOVWF     0x6a,0x1                                                                                        
003612   0ea0     MOVLW     0xa0           				drive_y = center_y_FAR1;                                                     C:\2007 final code\autonomous_166.c
003614   6f6b     MOVWF     0x6b,0x1                                                                                        
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
003616   515d     MOVF      0x5d,0x0,0x1   		    if(goal==GOAL_LEFT) {                                                      C:\2007 final code\autonomous_166.c
003618   e104     BNZ       0x3622                                                                                          
00361a   0e57     MOVLW     0x57           				drive_x = left_x_FAR1;                                                       C:\2007 final code\autonomous_166.c
00361c   6f6a     MOVWF     0x6a,0x1                                                                                        
00361e   0eaa     MOVLW     0xaa           				drive_y = left_y_FAR1;                                                       C:\2007 final code\autonomous_166.c
003620   6f6b     MOVWF     0x6b,0x1                                                                                        
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
003622   0e02     MOVLW     0x2            		    if(goal==GOAL_RIGHT) {                                                     C:\2007 final code\autonomous_166.c
003624   5d5d     SUBWF     0x5d,0x0,0x1                                                                                    
003626   e001     BZ        0x362a                                                                                          
003628   d107     BRA       0x3838                                                                                          
00362a   0ea7     MOVLW     0xa7           				drive_x = right_x_FAR1;                                                      C:\2007 final code\autonomous_166.c
                                           				drive_y = right_y_FAR1;                                                      C:\2007 final code\autonomous_166.c
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
00362c   d037     BRA       0x369c         			break;                                                                        C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           		case FAR_STATE_2:                                                              C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
00362e   0103     MOVLB     0x3            			if (print_count == 0) {                                                       C:\2007 final code\autonomous_166.c
003630   5163     MOVF      0x63,0x0,0x1                                                                                    
003632   e106     BNZ       0x3640                                                                                          
003634   0e85     MOVLW     0x85           				printf("auto_drive: FAR_2\r");                                               C:\2007 final code\autonomous_166.c
003636   6ee6     MOVWF     0xe6,0x0                                                                                        
003638   0e44     MOVLW     0x44                                                                                            
00363a   6ee6     MOVWF     0xe6,0x0                                                                                        
00363c   0e00     MOVLW     0x0                                                                                             
00363e   da08     RCALL     0x3a50                                                                                          
                                           			}                                                                             C:\2007 final code\autonomous_166.c
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
003640   0103     MOVLB     0x3            		    if(goal==GOAL_CENTER) {                                                    C:\2007 final code\autonomous_166.c
003642   055d     DECF      0x5d,0x0,0x1                                                                                    
003644   e104     BNZ       0x364e                                                                                          
003646   0e7f     MOVLW     0x7f           				drive_x = center_x_FAR2;                                                     C:\2007 final code\autonomous_166.c
003648   6f6a     MOVWF     0x6a,0x1                                                                                        
00364a   0e9e     MOVLW     0x9e           				drive_y = center_y_FAR2;                                                     C:\2007 final code\autonomous_166.c
00364c   6f6b     MOVWF     0x6b,0x1                                                                                        
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
00364e   515d     MOVF      0x5d,0x0,0x1   		    if(goal==GOAL_LEFT) {                                                      C:\2007 final code\autonomous_166.c
003650   e104     BNZ       0x365a                                                                                          
003652   0e7f     MOVLW     0x7f           				drive_x = left_x_FAR2;                                                       C:\2007 final code\autonomous_166.c
003654   6f6a     MOVWF     0x6a,0x1                                                                                        
003656   0eaa     MOVLW     0xaa           				drive_y = left_y_FAR2;                                                       C:\2007 final code\autonomous_166.c
003658   6f6b     MOVWF     0x6b,0x1                                                                                        
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
00365a   0e02     MOVLW     0x2            		    if(goal==GOAL_RIGHT) {                                                     C:\2007 final code\autonomous_166.c
00365c   5d5d     SUBWF     0x5d,0x0,0x1                                                                                    
00365e   e001     BZ        0x3662                                                                                          
003660   d0eb     BRA       0x3838                                                                                          
003662   0e7f     MOVLW     0x7f           				drive_x = right_x_FAR2;                                                      C:\2007 final code\autonomous_166.c
                                           				drive_y = right_y_FAR2;                                                      C:\2007 final code\autonomous_166.c
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
003664   d01b     BRA       0x369c         			break;                                                                        C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           		case FAR_STATE_3:                                                              C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
003666   0103     MOVLB     0x3            			if (print_count == 0) {                                                       C:\2007 final code\autonomous_166.c
003668   5163     MOVF      0x63,0x0,0x1                                                                                    
00366a   e106     BNZ       0x3678                                                                                          
00366c   0e72     MOVLW     0x72           				printf("auto_drive: FAR_3\r");                                               C:\2007 final code\autonomous_166.c
00366e   6ee6     MOVWF     0xe6,0x0                                                                                        
003670   0e44     MOVLW     0x44                                                                                            
003672   6ee6     MOVWF     0xe6,0x0                                                                                        
003674   0e00     MOVLW     0x0                                                                                             
003676   d9ec     RCALL     0x3a50                                                                                          
                                           			}                                                                             C:\2007 final code\autonomous_166.c
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
003678   0103     MOVLB     0x3            		    if(goal==GOAL_CENTER) {                                                    C:\2007 final code\autonomous_166.c
00367a   055d     DECF      0x5d,0x0,0x1                                                                                    
00367c   e104     BNZ       0x3686                                                                                          
00367e   0e7f     MOVLW     0x7f           				drive_x = center_x_FAR3;                                                     C:\2007 final code\autonomous_166.c
003680   6f6a     MOVWF     0x6a,0x1                                                                                        
003682   0e9c     MOVLW     0x9c           				drive_y = center_y_FAR3;                                                     C:\2007 final code\autonomous_166.c
003684   6f6b     MOVWF     0x6b,0x1                                                                                        
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
003686   515d     MOVF      0x5d,0x0,0x1   		    if(goal==GOAL_LEFT) {                                                      C:\2007 final code\autonomous_166.c
003688   e104     BNZ       0x3692                                                                                          
00368a   0e7f     MOVLW     0x7f           				drive_x = left_x_FAR3;                                                       C:\2007 final code\autonomous_166.c
00368c   6f6a     MOVWF     0x6a,0x1                                                                                        
00368e   0eaa     MOVLW     0xaa           				drive_y = left_y_FAR3;                                                       C:\2007 final code\autonomous_166.c
003690   6f6b     MOVWF     0x6b,0x1                                                                                        
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
003692   0e02     MOVLW     0x2            		    if(goal==GOAL_RIGHT) {                                                     C:\2007 final code\autonomous_166.c
003694   5d5d     SUBWF     0x5d,0x0,0x1                                                                                    
003696   e001     BZ        0x369a                                                                                          
003698   d0cf     BRA       0x3838                                                                                          
00369a   0e7f     MOVLW     0x7f           				drive_x = right_x_FAR3;                                                      C:\2007 final code\autonomous_166.c
00369c   6f6a     MOVWF     0x6a,0x1                                                                                        
00369e   0eaa     MOVLW     0xaa           				drive_y = right_y_FAR3;                                                      C:\2007 final code\autonomous_166.c
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
0036a0   d0ab     BRA       0x37f8         			break;                                                                        C:\2007 final code\autonomous_166.c
                                           	                                                                                C:\2007 final code\autonomous_166.c
                                           	    case MIDRANGE_STATE_1:	//middle of field                                    C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
0036a2   0103     MOVLB     0x3            			if (print_count == 0) {                                                       C:\2007 final code\autonomous_166.c
0036a4   5163     MOVF      0x63,0x0,0x1                                                                                    
0036a6   e106     BNZ       0x36b4                                                                                          
0036a8   0e5a     MOVLW     0x5a           				printf("auto_drive: MIDRANGE_1\r");                                          C:\2007 final code\autonomous_166.c
0036aa   6ee6     MOVWF     0xe6,0x0                                                                                        
0036ac   0e44     MOVLW     0x44                                                                                            
0036ae   6ee6     MOVWF     0xe6,0x0                                                                                        
0036b0   0e00     MOVLW     0x0                                                                                             
0036b2   d9ce     RCALL     0x3a50                                                                                          
                                           			}	                                                                            C:\2007 final code\autonomous_166.c
                                           #endif	                                                                          C:\2007 final code\autonomous_166.c
                                           			// strafe toward desired goal, turn toward camera                             C:\2007 final code\autonomous_166.c
0036b4   0103     MOVLB     0x3            		    if(goal==GOAL_CENTER) {                                                    C:\2007 final code\autonomous_166.c
0036b6   055d     DECF      0x5d,0x0,0x1                                                                                    
0036b8   e104     BNZ       0x36c2                                                                                          
0036ba   0e7f     MOVLW     0x7f           				drive_x = center_x_MIDRANGE1;                                                C:\2007 final code\autonomous_166.c
0036bc   6f6a     MOVWF     0x6a,0x1                                                                                        
0036be   0e9a     MOVLW     0x9a           				drive_y = center_y_MIDRANGE1;                                                C:\2007 final code\autonomous_166.c
0036c0   6f6b     MOVWF     0x6b,0x1                                                                                        
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
0036c2   515d     MOVF      0x5d,0x0,0x1   		    if(goal==GOAL_LEFT) {                                                      C:\2007 final code\autonomous_166.c
0036c4   e104     BNZ       0x36ce                                                                                          
0036c6   0e61     MOVLW     0x61           				drive_x = left_x_MIDRANGE1;                                                  C:\2007 final code\autonomous_166.c
0036c8   6f6a     MOVWF     0x6a,0x1                                                                                        
0036ca   0eaa     MOVLW     0xaa           				drive_y = left_y_MIDRANGE1;                                                  C:\2007 final code\autonomous_166.c
0036cc   6f6b     MOVWF     0x6b,0x1                                                                                        
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
0036ce   0e02     MOVLW     0x2            		    if(goal==GOAL_RIGHT) {                                                     C:\2007 final code\autonomous_166.c
0036d0   5d5d     SUBWF     0x5d,0x0,0x1                                                                                    
0036d2   e104     BNZ       0x36dc                                                                                          
0036d4   0e9d     MOVLW     0x9d           				drive_x = right_x_MIDRANGE1;                                                 C:\2007 final code\autonomous_166.c
0036d6   6f6a     MOVWF     0x6a,0x1                                                                                        
0036d8   0eaa     MOVLW     0xaa           				drive_y = right_y_MIDRANGE1;                                                 C:\2007 final code\autonomous_166.c
0036da   6f6b     MOVWF     0x6b,0x1                                                                                        
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           			//adjust the manipulator                                                      C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
0036dc   0563     DECF      0x63,0x0,0x1   			if (print_count == 1) {                                                       C:\2007 final code\autonomous_166.c
0036de   e106     BNZ       0x36ec                                                                                          
0036e0   0e36     MOVLW     0x36           				printf("auto_drive: ADJUSTING MANIPULATOR \r");                              C:\2007 final code\autonomous_166.c
0036e2   6ee6     MOVWF     0xe6,0x0                                                                                        
0036e4   0e44     MOVLW     0x44                                                                                            
0036e6   6ee6     MOVWF     0xe6,0x0                                                                                        
0036e8   0e00     MOVLW     0x0                                                                                             
0036ea   d9b2     RCALL     0x3a50                                                                                          
                                           			}	                                                                            C:\2007 final code\autonomous_166.c
                                           #endif	                                                                          C:\2007 final code\autonomous_166.c
0036ec   d9c7     RCALL     0x3a7c         			autonomous_manipulator_master_control(MIDDLE, AUTO_GRIPPER_CLOSED);           C:\2007 final code\autonomous_166.c
003a7c   0e01     MOVLW     0x1                                                                                             
003a7e   6ee6     MOVWF     0xe6,0x0                                                                                        
003a80   0e04     MOVLW     0x4                                                                                             
003a82   ef64     GOTO      0x3ac8                                                                                          
003a84   f01d                                                                                                               
003ac8   6ee6     MOVWF     0xe6,0x0                                                                                        
003aca   ec05     CALL      0x140a,0x0                                                                                      
003acc   f00a                                                                                                               
003ace   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003ad0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003ad2   0012     RETURN    0x0                                                                                             
0036ee   d0a4     BRA       0x3838         			break;                                                                        C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           		case MIDRANGE_STATE_2:                                                         C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
0036f0   0103     MOVLB     0x3            			if (print_count == 0) {                                                       C:\2007 final code\autonomous_166.c
0036f2   5163     MOVF      0x63,0x0,0x1                                                                                    
0036f4   e106     BNZ       0x3702                                                                                          
0036f6   0e1e     MOVLW     0x1e           				printf("auto_drive: MIDRANGE_2\r");                                          C:\2007 final code\autonomous_166.c
0036f8   6ee6     MOVWF     0xe6,0x0                                                                                        
0036fa   0e44     MOVLW     0x44                                                                                            
0036fc   6ee6     MOVWF     0xe6,0x0                                                                                        
0036fe   0e00     MOVLW     0x0                                                                                             
003700   d9a7     RCALL     0x3a50                                                                                          
                                           			}                                                                             C:\2007 final code\autonomous_166.c
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
003702   0103     MOVLB     0x3            		    if(goal==GOAL_CENTER) {                                                    C:\2007 final code\autonomous_166.c
003704   055d     DECF      0x5d,0x0,0x1                                                                                    
003706   e104     BNZ       0x3710                                                                                          
003708   0e7f     MOVLW     0x7f           				drive_x = center_x_MIDRANGE2;                                                C:\2007 final code\autonomous_166.c
00370a   6f6a     MOVWF     0x6a,0x1                                                                                        
00370c   0e98     MOVLW     0x98           				drive_y = center_y_MIDRANGE2;                                                C:\2007 final code\autonomous_166.c
00370e   6f6b     MOVWF     0x6b,0x1                                                                                        
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
003710   515d     MOVF      0x5d,0x0,0x1   		    if(goal==GOAL_LEFT) {                                                      C:\2007 final code\autonomous_166.c
003712   e104     BNZ       0x371c                                                                                          
003714   0e6e     MOVLW     0x6e           				drive_x = left_x_MIDRANGE2;                                                  C:\2007 final code\autonomous_166.c
003716   6f6a     MOVWF     0x6a,0x1                                                                                        
003718   0ea0     MOVLW     0xa0           				drive_y = left_y_MIDRANGE2;                                                  C:\2007 final code\autonomous_166.c
00371a   6f6b     MOVWF     0x6b,0x1                                                                                        
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
00371c   0e02     MOVLW     0x2            		    if(goal==GOAL_RIGHT) {                                                     C:\2007 final code\autonomous_166.c
00371e   5d5d     SUBWF     0x5d,0x0,0x1                                                                                    
003720   e001     BZ        0x3724                                                                                          
003722   d08a     BRA       0x3838                                                                                          
                                           				drive_x = right_x_MIDRANGE2;                                                 C:\2007 final code\autonomous_166.c
                                           				drive_y = right_y_MIDRANGE2;                                                 C:\2007 final code\autonomous_166.c
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
003724   d019     BRA       0x3758         			break;                                                                        C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           		case MIDRANGE_STATE_3:                                                         C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
003726   0103     MOVLB     0x3            			if (print_count == 0) {                                                       C:\2007 final code\autonomous_166.c
003728   5163     MOVF      0x63,0x0,0x1                                                                                    
00372a   e106     BNZ       0x3738                                                                                          
00372c   0e06     MOVLW     0x6            				printf("auto_drive: MIDRANGE_3\r");                                          C:\2007 final code\autonomous_166.c
00372e   6ee6     MOVWF     0xe6,0x0                                                                                        
003730   0e44     MOVLW     0x44                                                                                            
003732   6ee6     MOVWF     0xe6,0x0                                                                                        
003734   0e00     MOVLW     0x0                                                                                             
003736   d98c     RCALL     0x3a50                                                                                          
                                           			}                                                                             C:\2007 final code\autonomous_166.c
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
003738   0103     MOVLB     0x3            		    if(goal==GOAL_CENTER) {                                                    C:\2007 final code\autonomous_166.c
00373a   055d     DECF      0x5d,0x0,0x1                                                                                    
00373c   e104     BNZ       0x3746                                                                                          
00373e   0e7f     MOVLW     0x7f           				drive_x = center_x_MIDRANGE3;                                                C:\2007 final code\autonomous_166.c
003740   6f6a     MOVWF     0x6a,0x1                                                                                        
003742   0e96     MOVLW     0x96           				drive_y = center_y_MIDRANGE3;                                                C:\2007 final code\autonomous_166.c
003744   6f6b     MOVWF     0x6b,0x1                                                                                        
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
003746   515d     MOVF      0x5d,0x0,0x1   		    if(goal==GOAL_LEFT) {                                                      C:\2007 final code\autonomous_166.c
003748   e104     BNZ       0x3752                                                                                          
00374a   0e6e     MOVLW     0x6e           				drive_x = left_x_MIDRANGE3;                                                  C:\2007 final code\autonomous_166.c
00374c   6f6a     MOVWF     0x6a,0x1                                                                                        
00374e   0ea0     MOVLW     0xa0           				drive_y = left_y_MIDRANGE3;                                                  C:\2007 final code\autonomous_166.c
003750   6f6b     MOVWF     0x6b,0x1                                                                                        
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
003752   0e02     MOVLW     0x2            		    if(goal==GOAL_RIGHT) {                                                     C:\2007 final code\autonomous_166.c
003754   5d5d     SUBWF     0x5d,0x0,0x1                                                                                    
003756   e170     BNZ       0x3838                                                                                          
003758   0e90     MOVLW     0x90           				drive_x = right_x_MIDRANGE3;                                                 C:\2007 final code\autonomous_166.c
                                           				drive_y = right_y_MIDRANGE3;                                                 C:\2007 final code\autonomous_166.c
                                           		    }                                                                          C:\2007 final code\autonomous_166.c
00375a   d04c     BRA       0x37f4         			break;                                                                        C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           		case CLOSE_STATE_1:                                                            C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
00375c   0103     MOVLB     0x3            			if (print_count == 0) {                                                       C:\2007 final code\autonomous_166.c
00375e   5163     MOVF      0x63,0x0,0x1                                                                                    
003760   e106     BNZ       0x376e                                                                                          
003762   0ef1     MOVLW     0xf1           				printf("auto_drive: CLOSE_1\r");                                             C:\2007 final code\autonomous_166.c
003764   6ee6     MOVWF     0xe6,0x0                                                                                        
003766   0e43     MOVLW     0x43                                                                                            
003768   6ee6     MOVWF     0xe6,0x0                                                                                        
00376a   0e00     MOVLW     0x0                                                                                             
00376c   d971     RCALL     0x3a50                                                                                          
                                           			}                                                                             C:\2007 final code\autonomous_166.c
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
00376e   0e74     MOVLW     0x74           			if(light_direction=='t')                                                      C:\2007 final code\autonomous_166.c
003770   0103     MOVLB     0x3                                                                                             
003772   5d5e     SUBWF     0x5e,0x0,0x1                                                                                    
003774   e104     BNZ       0x377e                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
003776   0e7f     MOVLW     0x7f           				drive_x = center_x_CLOSE1;                                                   C:\2007 final code\autonomous_166.c
003778   6f6a     MOVWF     0x6a,0x1                                                                                        
00377a   0e96     MOVLW     0x96           				drive_y = center_y_CLOSE1;                                                   C:\2007 final code\autonomous_166.c
                                           			}                                                                             C:\2007 final code\autonomous_166.c
00377c   d03d     BRA       0x37f8         			else if(light_direction=='l')                                                 C:\2007 final code\autonomous_166.c
00377e   0e6c     MOVLW     0x6c                                                                                            
003780   5d5e     SUBWF     0x5e,0x0,0x1                                                                                    
003782   e102     BNZ       0x3788                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
003784   0e72     MOVLW     0x72           				drive_x = left_x_CLOSE1;                                                     C:\2007 final code\autonomous_166.c
                                           				drive_y = left_y_CLOSE1;                                                     C:\2007 final code\autonomous_166.c
                                           			}                                                                             C:\2007 final code\autonomous_166.c
003786   d036     BRA       0x37f4         			else if (light_direction=='r')                                                C:\2007 final code\autonomous_166.c
003788   0e72     MOVLW     0x72                                                                                            
00378a   5d5e     SUBWF     0x5e,0x0,0x1                                                                                    
00378c   e155     BNZ       0x3838                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
00378e   0e8c     MOVLW     0x8c           				drive_x = right_x_CLOSE1;                                                    C:\2007 final code\autonomous_166.c
                                           				drive_y = right_y_CLOSE1;                                                    C:\2007 final code\autonomous_166.c
                                           			}                                                                             C:\2007 final code\autonomous_166.c
003790   d031     BRA       0x37f4         			break;                                                                        C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           		case CLOSE_STATE_2:                                                            C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
003792   0103     MOVLB     0x3            			if (print_count == 0) {                                                       C:\2007 final code\autonomous_166.c
003794   5163     MOVF      0x63,0x0,0x1                                                                                    
003796   e106     BNZ       0x37a4                                                                                          
003798   0edc     MOVLW     0xdc           				printf("auto_drive: CLOSE_2\r");                                             C:\2007 final code\autonomous_166.c
00379a   6ee6     MOVWF     0xe6,0x0                                                                                        
00379c   0e43     MOVLW     0x43                                                                                            
00379e   6ee6     MOVWF     0xe6,0x0                                                                                        
0037a0   0e00     MOVLW     0x0                                                                                             
0037a2   d956     RCALL     0x3a50                                                                                          
                                           			}                                                                             C:\2007 final code\autonomous_166.c
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
0037a4   0e74     MOVLW     0x74           			if(light_direction=='t')                                                      C:\2007 final code\autonomous_166.c
0037a6   0103     MOVLB     0x3                                                                                             
0037a8   5d5e     SUBWF     0x5e,0x0,0x1                                                                                    
0037aa   e017     BZ        0x37da                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
                                           				drive_x = center_x_CLOSE2;                                                   C:\2007 final code\autonomous_166.c
                                           				drive_y = center_y_CLOSE2;                                                   C:\2007 final code\autonomous_166.c
                                           			}                                                                             C:\2007 final code\autonomous_166.c
0037ac   0e6c     MOVLW     0x6c           			else if(light_direction=='l')                                                 C:\2007 final code\autonomous_166.c
0037ae   5d5e     SUBWF     0x5e,0x0,0x1                                                                                    
0037b0   e102     BNZ       0x37b6                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
0037b2   0e75     MOVLW     0x75           				drive_x = left_x_CLOSE2;                                                     C:\2007 final code\autonomous_166.c
                                           				drive_y = left_y_CLOSE2;                                                     C:\2007 final code\autonomous_166.c
                                           			}                                                                             C:\2007 final code\autonomous_166.c
0037b4   d01f     BRA       0x37f4         			else if (light_direction=='r')                                                C:\2007 final code\autonomous_166.c
0037b6   0e72     MOVLW     0x72                                                                                            
0037b8   5d5e     SUBWF     0x5e,0x0,0x1                                                                                    
0037ba   e13e     BNZ       0x3838                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
0037bc   0e86     MOVLW     0x86           				drive_x = right_x_CLOSE2;                                                    C:\2007 final code\autonomous_166.c
                                           				drive_y = right_y_CLOSE2;                                                    C:\2007 final code\autonomous_166.c
                                           			}                                                                             C:\2007 final code\autonomous_166.c
0037be   d01a     BRA       0x37f4         			break;                                                                        C:\2007 final code\autonomous_166.c
                                           			                                                                              C:\2007 final code\autonomous_166.c
                                           		                                                                               C:\2007 final code\autonomous_166.c
                                           		case CLOSE_STATE_3:                                                            C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
0037c0   0103     MOVLB     0x3            			if (print_count == 0) {                                                       C:\2007 final code\autonomous_166.c
0037c2   5163     MOVF      0x63,0x0,0x1                                                                                    
0037c4   e106     BNZ       0x37d2                                                                                          
0037c6   0ec7     MOVLW     0xc7           				printf("auto_drive: CLOSE_3\r");                                             C:\2007 final code\autonomous_166.c
0037c8   6ee6     MOVWF     0xe6,0x0                                                                                        
0037ca   0e43     MOVLW     0x43                                                                                            
0037cc   6ee6     MOVWF     0xe6,0x0                                                                                        
0037ce   0e00     MOVLW     0x0                                                                                             
0037d0   d93f     RCALL     0x3a50                                                                                          
                                           			}                                                                             C:\2007 final code\autonomous_166.c
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
0037d2   0e74     MOVLW     0x74           			if(light_direction=='t')                                                      C:\2007 final code\autonomous_166.c
0037d4   0103     MOVLB     0x3                                                                                             
0037d6   5d5e     SUBWF     0x5e,0x0,0x1                                                                                    
0037d8   e104     BNZ       0x37e2                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
0037da   0e7f     MOVLW     0x7f           				drive_x = center_x_CLOSE3;                                                   C:\2007 final code\autonomous_166.c
0037dc   6f6a     MOVWF     0x6a,0x1                                                                                        
0037de   0e8c     MOVLW     0x8c           				drive_y = center_y_CLOSE3;                                                   C:\2007 final code\autonomous_166.c
                                           			}                                                                             C:\2007 final code\autonomous_166.c
0037e0   d00b     BRA       0x37f8         			else if(light_direction=='l')                                                 C:\2007 final code\autonomous_166.c
0037e2   0e6c     MOVLW     0x6c                                                                                            
0037e4   5d5e     SUBWF     0x5e,0x0,0x1                                                                                    
0037e6   e102     BNZ       0x37ec                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
0037e8   0e7f     MOVLW     0x7f           				drive_x = left_x_CLOSE3;                                                     C:\2007 final code\autonomous_166.c
                                           				drive_y = left_y_CLOSE3;                                                     C:\2007 final code\autonomous_166.c
                                           			}                                                                             C:\2007 final code\autonomous_166.c
0037ea   d004     BRA       0x37f4         			else if (light_direction=='r')                                                C:\2007 final code\autonomous_166.c
0037ec   0e72     MOVLW     0x72                                                                                            
0037ee   5d5e     SUBWF     0x5e,0x0,0x1                                                                                    
0037f0   e123     BNZ       0x3838                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
0037f2   0e7f     MOVLW     0x7f           				drive_x = right_x_CLOSE3;                                                    C:\2007 final code\autonomous_166.c
0037f4   6f6a     MOVWF     0x6a,0x1                                                                                        
0037f6   0ea0     MOVLW     0xa0           				drive_y = right_y_CLOSE3;                                                    C:\2007 final code\autonomous_166.c
0037f8   6f6b     MOVWF     0x6b,0x1                                                                                        
                                           			}                                                                             C:\2007 final code\autonomous_166.c
0037fa   d01e     BRA       0x3838         			break;                                                                        C:\2007 final code\autonomous_166.c
                                           	                                                                                C:\2007 final code\autonomous_166.c
                                           	    case THERE: // on target                                                    C:\2007 final code\autonomous_166.c
                                           			// don't drive                                                                C:\2007 final code\autonomous_166.c
                                           			//ASSUME that this = true: (if manipulator adjust complete)                   C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
0037fc   0103     MOVLB     0x3            			there_count++;                                                                C:\2007 final code\autonomous_166.c
0037fe   2b65     INCF      0x65,0x1,0x1                                                                                    
                                           			                                                                              C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
003800   5163     MOVF      0x63,0x0,0x1   			if (print_count == 0) {                                                       C:\2007 final code\autonomous_166.c
003802   e109     BNZ       0x3816                                                                                          
003804   5165     MOVF      0x65,0x0,0x1   				printf("auto_drive: THERE %d\r", there_count);                               C:\2007 final code\autonomous_166.c
003806   6ee6     MOVWF     0xe6,0x0                                                                                        
003808   6ae6     CLRF      0xe6,0x0                                                                                        
00380a   0eb1     MOVLW     0xb1                                                                                            
00380c   6ee6     MOVWF     0xe6,0x0                                                                                        
00380e   0e43     MOVLW     0x43                                                                                            
003810   6ee6     MOVWF     0xe6,0x0                                                                                        
003812   0e00     MOVLW     0x0                                                                                             
003814   d938     RCALL     0x3a86                                                                                          
003a86   6ee6     MOVWF     0xe6,0x0                                                                                        
003a88   ec14     CALL      0x6e28,0x0                                                                                      
003a8a   f037                                                                                                               
003a8c   6ef5     MOVWF     0xf5,0x0                                                                                        
003a8e   0e05     MOVLW     0x5                                                                                             
003a90   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
003a92   50f5     MOVF      0xf5,0x0,0x0                                                                                    
003a94   0012     RETURN    0x0                                                                                             
                                           			}                                                                             C:\2007 final code\autonomous_166.c
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           			// 0p3n 73h m4n1pu|470r 4nd p|4(3 73h k33p3r 0|\| 5p1d3r |_36                 C:\2007 final code\autonomous_166.c
                                           			// wait a bit                                                                 C:\2007 final code\autonomous_166.c
003816   0103     MOVLB     0x3            			if (there_count > 20)                                                         C:\2007 final code\autonomous_166.c
003818   5165     MOVF      0x65,0x0,0x1                                                                                    
00381a   0814     SUBLW     0x14                                                                                            
00381c   e20d     BC        0x3838                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
                                           				// open up the gripper, place keeper on target                               C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
00381e   0e94     MOVLW     0x94           				printf("auto_drive: PLACING KEEPER \r");                                     C:\2007 final code\autonomous_166.c
003820   6ee6     MOVWF     0xe6,0x0                                                                                        
003822   0e43     MOVLW     0x43                                                                                            
003824   6ee6     MOVWF     0xe6,0x0                                                                                        
003826   0e00     MOVLW     0x0                                                                                             
003828   d913     RCALL     0x3a50                                                                                          
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
00382a   6ae6     CLRF      0xe6,0x0       				autonomous_manipulator_master_control(MIDDLE,AUTO_GRIPPER_OPEN);             C:\2007 final code\autonomous_166.c
00382c   0e04     MOVLW     0x4                                                                                             
00382e   d94c     RCALL     0x3ac8                                                                                          
003830   0103     MOVLB     0x3            				keeper_placed = TRUE;                                                        C:\2007 final code\autonomous_166.c
003832   0e01     MOVLW     0x1                                                                                             
003834   6f60     MOVWF     0x60,0x1                                                                                        
003836   6b65     CLRF      0x65,0x1       				there_count = 0;                                                             C:\2007 final code\autonomous_166.c
                                           			}                                                                             C:\2007 final code\autonomous_166.c
                                           			break;                                                                        C:\2007 final code\autonomous_166.c
                                           	}                                                                               C:\2007 final code\autonomous_166.c
                                           	                                                                                C:\2007 final code\autonomous_166.c
                                           	// adjust z parameter based on target position                                  C:\2007 final code\autonomous_166.c
003838   0e6c     MOVLW     0x6c           	if (light_direction == 'l')                                                     C:\2007 final code\autonomous_166.c
00383a   0103     MOVLB     0x3                                                                                             
00383c   5d5e     SUBWF     0x5e,0x0,0x1                                                                                    
00383e   e003     BZ        0x3846                                                                                          
                                           	{                                                                               C:\2007 final code\autonomous_166.c
                                           		drive_z = no_pwr - z_adjust;                                                   C:\2007 final code\autonomous_166.c
                                           	}                                                                               C:\2007 final code\autonomous_166.c
003840   0e72     MOVLW     0x72           	else if (light_direction == 'r')	                                               C:\2007 final code\autonomous_166.c
003842   5d5e     SUBWF     0x5e,0x0,0x1                                                                                    
003844   e102     BNZ       0x384a                                                                                          
                                           	{                                                                               C:\2007 final code\autonomous_166.c
003846   0e7f     MOVLW     0x7f           		drive_z = no_pwr + z_adjust;                                                   C:\2007 final code\autonomous_166.c
003848   6f6c     MOVWF     0x6c,0x1                                                                                        
                                           	}                                                                               C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
00384a   0563     DECF      0x63,0x0,0x1   	if (print_count==1)                                                             C:\2007 final code\autonomous_166.c
00384c   e118     BNZ       0x387e                                                                                          
                                           	{                                                                               C:\2007 final code\autonomous_166.c
003866   0e53     MOVLW     0x53           		printf("auto_drive: calling crab_drive %d, %d, %d, light direction = %c\r",    C:\2007 final code\autonomous_166.c
003868   6ee6     MOVWF     0xe6,0x0                                                                                        
00386a   0e43     MOVLW     0x43                                                                                            
00386c   6ee6     MOVWF     0xe6,0x0                                                                                        
00386e   0e00     MOVLW     0x0                                                                                             
003870   6ee6     MOVWF     0xe6,0x0                                                                                        
00384e   515e     MOVF      0x5e,0x0,0x1   				drive_x, drive_y, drive_z, light_direction);                                 C:\2007 final code\autonomous_166.c
003850   6ee6     MOVWF     0xe6,0x0                                                                                        
003852   6ae6     CLRF      0xe6,0x0                                                                                        
003854   516c     MOVF      0x6c,0x0,0x1                                                                                    
003856   6ee6     MOVWF     0xe6,0x0                                                                                        
003858   6ae6     CLRF      0xe6,0x0                                                                                        
00385a   516b     MOVF      0x6b,0x0,0x1                                                                                    
00385c   6ee6     MOVWF     0xe6,0x0                                                                                        
00385e   6ae6     CLRF      0xe6,0x0                                                                                        
003860   516a     MOVF      0x6a,0x0,0x1                                                                                    
003862   6ee6     MOVWF     0xe6,0x0                                                                                        
003864   6ae6     CLRF      0xe6,0x0                                                                                        
003872   ec14     CALL      0x6e28,0x0                                                                                      
003874   f037                                                                                                               
003876   6ef5     MOVWF     0xf5,0x0                                                                                        
003878   0e0b     MOVLW     0xb                                                                                             
00387a   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
00387c   50f5     MOVF      0xf5,0x0,0x0                                                                                    
                                           	}                                                                               C:\2007 final code\autonomous_166.c
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
00387e   c36c     MOVFF     0x36c,0xfe6    	crab_drive(drive_x, drive_y, drive_z);                                          C:\2007 final code\autonomous_166.c
003880   ffe6                                                                                                               
003882   c36b     MOVFF     0x36b,0xfe6                                                                                     
003884   ffe6                                                                                                               
003886   c36a     MOVFF     0x36a,0xfe6                                                                                     
003888   ffe6                                                                                                               
00388a   d124     BRA       0x3ad4                                                                                          
003ad4   ec94     CALL      0x4d28,0x0                                                                                      
003ad6   f026                                                                                                               
003ad8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003ada   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003adc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003ade   0012     RETURN    0x0            }                                                                                C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           /***********************************************************************         C:\2007 final code\autonomous_166.c
                                           Function name:  do_camera                                                        C:\2007 final code\autonomous_166.c
                                           Date modified:  2-04-07                                                          C:\2007 final code\autonomous_166.c
                                           Called From:	do_auto                                                             C:\2007 final code\autonomous_166.c
                                           Parameters:     none                                                             C:\2007 final code\autonomous_166.c
                                           Returns: 		                                                                      C:\2007 final code\autonomous_166.c
                                           Purpose: 		Alternatively checks for one light & adjust camera if                 C:\2007 final code\autonomous_166.c
                                           				see more than one. Periodically sets back to normal                          C:\2007 final code\autonomous_166.c
                                           				to retest.                                                                   C:\2007 final code\autonomous_166.c
                                           Notes: 			We should see only one light when close to target                      C:\2007 final code\autonomous_166.c
                                           **********************************************************************/          C:\2007 final code\autonomous_166.c
                                           void do_camera()                                                                 C:\2007 final code\autonomous_166.c
                                           {                                                                                C:\2007 final code\autonomous_166.c
                                           	static unsigned char do_cam_count = 0;                                          C:\2007 final code\autonomous_166.c
                                           	static unsigned char debug_cam_count = 0;                                       C:\2007 final code\autonomous_166.c
                                           	                                                                                C:\2007 final code\autonomous_166.c
                                           #if AUTO_DEBUG                                                                   C:\2007 final code\autonomous_166.c
                                           //	printf("do_camera: do_cam_count= %d \r",                                      C:\2007 final code\autonomous_166.c
                                           //			do_cam_count);                                                              C:\2007 final code\autonomous_166.c
                                           #endif                                                                           C:\2007 final code\autonomous_166.c
00388c   0103     MOVLB     0x3            	debug_cam_count++;                                                              C:\2007 final code\autonomous_166.c
00388e   2b78     INCF      0x78,0x1,0x1                                                                                    
003890   0e05     MOVLW     0x5            	if (debug_cam_count == 5)                                                       C:\2007 final code\autonomous_166.c
003892   5d78     SUBWF     0x78,0x0,0x1                                                                                    
003894   e103     BNZ       0x389c                                                                                          
                                           	{                                                                               C:\2007 final code\autonomous_166.c
003896   2b77     INCF      0x77,0x1,0x1   		do_cam_count++;                                                                C:\2007 final code\autonomous_166.c
003898   ec09     CALL      0x6012,0x0     		camera_debug();                                                                C:\2007 final code\autonomous_166.c
00389a   f030                                                                                                               
                                           	}                                                                               C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
00389c   0103     MOVLB     0x3            	do_cam_count++;                                                                 C:\2007 final code\autonomous_166.c
00389e   2b77     INCF      0x77,0x1,0x1                                                                                    
0038a0   0e14     MOVLW     0x14           	if (do_cam_count == 20)                                                         C:\2007 final code\autonomous_166.c
0038a2   5d77     SUBWF     0x77,0x0,0x1                                                                                    
0038a4   e126     BNZ       0x38f2                                                                                          
                                           	{                                                                               C:\2007 final code\autonomous_166.c
                                           		// revert back to normal window                                                C:\2007 final code\autonomous_166.c
0038a6   0e02     MOVLW     0x2               		if ( one_light == 2)                                                        C:\2007 final code\autonomous_166.c
0038a8   0103     MOVLB     0x3                                                                                             
0038aa   5df0     SUBWF     0xf0,0x0,0x1                                                                                    
0038ac   e102     BNZ       0x38b2                                                                                          
                                           		{	                                                                             C:\2007 final code\autonomous_166.c
                                           			// 0 = revert to normal; 1 = adjust to one target                             C:\2007 final code\autonomous_166.c
0038ae   6ae6     CLRF      0xe6,0x0       			adjust_window(0);                                                             C:\2007 final code\autonomous_166.c
                                           		}	                                                                             C:\2007 final code\autonomous_166.c
0038b0   d01b     BRA       0x38e8                 else                                                                     C:\2007 final code\autonomous_166.c
                                           		{                                                                              C:\2007 final code\autonomous_166.c
                                           			// find out if camera sees one light or more than one                         C:\2007 final code\autonomous_166.c
0038b2   c307     MOVFF     0x307,0xfe6    			one_light = single_light(determine_closeness(T_Packet_Data.my), T_Packet_Data.confidence); C:\2007 final code\autonomous_166.c
0038b4   ffe6                                                                                                               
0038b6   c301     MOVFF     0x301,0xfe6                                                                                     
0038b8   ffe6                                                                                                               
0038ba   ec9f     CALL      0x613e,0x0                                                                                      
0038bc   f030                                                                                                               
0038be   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0038c0   6ee6     MOVWF     0xe6,0x0                                                                                        
0038c2   ec6f     CALL      0x60de,0x0                                                                                      
0038c4   f030                                                                                                               
0038c6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0038c8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0038ca   0103     MOVLB     0x3                                                                                             
0038cc   6ff0     MOVWF     0xf0,0x1                                                                                        
                                           				                                                                             C:\2007 final code\autonomous_166.c
                                           			// tell the camera autonomous code to focus on only one light                 C:\2007 final code\autonomous_166.c
0038ce   50e8     MOVF      0xe8,0x0,0x0   			if ( one_light == 0) 	// no light found!                                      C:\2007 final code\autonomous_166.c
0038d0   e103     BNZ       0x38d8                                                                                          
                                           			{                                                                             C:\2007 final code\autonomous_166.c
0038d2   0103     MOVLB     0x3            				abort_count++;	// abort mission if no lights seen                            C:\2007 final code\autonomous_166.c
0038d4   2b66     INCF      0x66,0x1,0x1                                                                                    
                                           			}                                                                             C:\2007 final code\autonomous_166.c
0038d6   d00b     BRA       0x38ee         			else                                                                          C:\2007 final code\autonomous_166.c
                                           			{   // one or more lights seen                                                C:\2007 final code\autonomous_166.c
0038d8   0103     MOVLB     0x3            				abort_count = 0;                                                             C:\2007 final code\autonomous_166.c
0038da   6b66     CLRF      0x66,0x1                                                                                        
0038dc   0e02     MOVLW     0x2            				if ( one_light == 2) // more than one light                                  C:\2007 final code\autonomous_166.c
0038de   0103     MOVLB     0x3                                                                                             
0038e0   5df0     SUBWF     0xf0,0x0,0x1                                                                                    
0038e2   e105     BNZ       0x38ee                                                                                          
                                           				{	                                                                           C:\2007 final code\autonomous_166.c
                                           					// 0 = revert to normal; 1 = adjust to one target                           C:\2007 final code\autonomous_166.c
0038e4   0e01     MOVLW     0x1            					adjust_window(1);                                                           C:\2007 final code\autonomous_166.c
0038e6   6ee6     MOVWF     0xe6,0x0                                                                                        
0038e8   ec16     CALL      0x622c,0x0                                                                                      
0038ea   f031                                                                                                               
0038ec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           					                                                                            C:\2007 final code\autonomous_166.c
                                           				}                                                                            C:\2007 final code\autonomous_166.c
                                           			}	                                                                            C:\2007 final code\autonomous_166.c
                                           		}                                                                              C:\2007 final code\autonomous_166.c
0038ee   0103     MOVLB     0x3            		do_cam_count = 0; // reset count	              	                               C:\2007 final code\autonomous_166.c
0038f0   6b77     CLRF      0x77,0x1                                                                                        
                                           	}                                                                               C:\2007 final code\autonomous_166.c
0038f2   0012     RETURN    0x0            }                                                                                C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           /***********************************************************************         C:\2007 final code\autonomous_166.c
                                           Function name:  auto_switch_find()                                               C:\2007 final code\autonomous_166.c
                                           Date modified:  4-06-07                                                          C:\2007 final code\autonomous_166.c
                                           Made by:        Sid Soundararajan                                                C:\2007 final code\autonomous_166.c
                                           Called From:	                                                                    C:\2007 final code\autonomous_166.c
                                           Parameters:     void                                                             C:\2007 final code\autonomous_166.c
                                           Returns: 		unsigned int switch number                                            C:\2007 final code\autonomous_166.c
                                           Purpose: 		Find which autonomous should be done                                  C:\2007 final code\autonomous_166.c
                                           Notes:                                                                           C:\2007 final code\autonomous_166.c
                                           **********************************************************************/          C:\2007 final code\autonomous_166.c
0038f4   d8d7     RCALL     0x3aa4         unsigned int auto_switch_find()                                                  C:\2007 final code\autonomous_166.c
0038f6   0e04     MOVLW     0x4                                                                                             
0038f8   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\autonomous_166.c
                                           	int switch_read;                                                                C:\2007 final code\autonomous_166.c
0038fa   0e01     MOVLW     0x1            	int switch_value = AUTO_DO_NOTHING;                                             C:\2007 final code\autonomous_166.c
0038fc   d8cc     RCALL     0x3a96                                                                                          
003a96   6ef3     MOVWF     0xf3,0x0                                                                                        
003a98   0e02     MOVLW     0x2                                                                                             
003a9a   cff3     MOVFF     0xff3,0xfdb                                                                                     
003a9c   ffdb                                                                                                               
003a9e   0e03     MOVLW     0x3                                                                                             
003aa0   6adb     CLRF      0xdb,0x0                                                                                        
003aa2   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\autonomous_166.c
0038fe   0e87     MOVLW     0x87           	switch_read=Get_Analog_Value(rc_ana_in01);                                      C:\2007 final code\autonomous_166.c
003900   6ee6     MOVWF     0xe6,0x0                                                                                        
003902   ec4c     CALL      0x6a98,0x0                                                                                      
003904   f035                                                                                                               
003906   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003908   cff3     MOVFF     0xff3,0xfde                                                                                     
00390a   ffde                                                                                                               
00390c   cff4     MOVFF     0xff4,0xfdd                                                                                     
00390e   ffdd                                                                                                               
                                                                                                                            C:\2007 final code\autonomous_166.c
003910   cfde     MOVFF     0xfde,0x2b     	if((switch_read>=SWITCH_STATE_1_MIN) && (switch_read<=SWITCH_STATE_1_MAX))      C:\2007 final code\autonomous_166.c
003912   f02b                                                                                                               
003914   cfdd     MOVFF     0xfdd,0x2c                                                                                      
003916   f02c                                                                                                               
003918   0100     MOVLB     0x0                                                                                             
00391a   0e80     MOVLW     0x80                                                                                            
00391c   142c     ANDWF     0x2c,0x0,0x0                                                                                    
00391e   e109     BNZ       0x3932                                                                                          
003920   d8a7     RCALL     0x3a70                                                                                          
003922   e204     BC        0x392c                                                                                          
003924   502d     MOVF      0x2d,0x0,0x0                                                                                    
003926   080a     SUBLW     0xa                                                                                             
003928   0e00     MOVLW     0x0                                                                                             
00392a   542e     SUBFWB    0x2e,0x0,0x0                                                                                    
00392c   e302     BNC       0x3932                                                                                          
00392e   0e01     MOVLW     0x1            		switch_value=AUTO_DO_NOTHING;                                                  C:\2007 final code\autonomous_166.c
003930   d04f     BRA       0x39d0         	else if((switch_read>=SWITCH_STATE_2_MIN) && (switch_read<=SWITCH_STATE_2_MAX)) C:\2007 final code\autonomous_166.c
003932   d897     RCALL     0x3a62                                                                                          
003934   e604     BN        0x393e                                                                                          
003936   0e55     MOVLW     0x55                                                                                            
003938   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
00393a   0e00     MOVLW     0x0                                                                                             
00393c   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
00393e   e309     BNC       0x3952                                                                                          
003940   d897     RCALL     0x3a70                                                                                          
003942   e204     BC        0x394c                                                                                          
003944   502d     MOVF      0x2d,0x0,0x0                                                                                    
003946   085f     SUBLW     0x5f                                                                                            
003948   0e00     MOVLW     0x0                                                                                             
00394a   542e     SUBFWB    0x2e,0x0,0x0                                                                                    
00394c   e302     BNC       0x3952                                                                                          
00394e   0e06     MOVLW     0x6            		switch_value=AUTO_ARM_FLOOR;                                                   C:\2007 final code\autonomous_166.c
003950   d03f     BRA       0x39d0         	else if((switch_read>=SWITCH_STATE_3_MIN) && (switch_read<=SWITCH_STATE_3_MAX)) C:\2007 final code\autonomous_166.c
003952   d887     RCALL     0x3a62                                                                                          
003954   e604     BN        0x395e                                                                                          
003956   0eaf     MOVLW     0xaf                                                                                            
003958   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
00395a   0e00     MOVLW     0x0                                                                                             
00395c   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
00395e   e309     BNC       0x3972                                                                                          
003960   d887     RCALL     0x3a70                                                                                          
003962   e204     BC        0x396c                                                                                          
003964   502d     MOVF      0x2d,0x0,0x0                                                                                    
003966   08c3     SUBLW     0xc3                                                                                            
003968   0e00     MOVLW     0x0                                                                                             
00396a   542e     SUBFWB    0x2e,0x0,0x0                                                                                    
00396c   e302     BNC       0x3972                                                                                          
00396e   0e03     MOVLW     0x3            		switch_value=AUTO_FWD_FLOOR;                                                   C:\2007 final code\autonomous_166.c
003970   d02f     BRA       0x39d0         	else if((switch_read>=SWITCH_STATE_4_MIN) && (switch_read<=SWITCH_STATE_4_MAX)) C:\2007 final code\autonomous_166.c
003972   d877     RCALL     0x3a62                                                                                          
003974   e604     BN        0x397e                                                                                          
003976   0e7c     MOVLW     0x7c                                                                                            
003978   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
00397a   0e01     MOVLW     0x1                                                                                             
00397c   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
00397e   e309     BNC       0x3992                                                                                          
003980   d877     RCALL     0x3a70                                                                                          
003982   e204     BC        0x398c                                                                                          
003984   502d     MOVF      0x2d,0x0,0x0                                                                                    
003986   0895     SUBLW     0x95                                                                                            
003988   0e01     MOVLW     0x1                                                                                             
00398a   542e     SUBFWB    0x2e,0x0,0x0                                                                                    
00398c   e302     BNC       0x3992                                                                                          
00398e   0e04     MOVLW     0x4            		switch_value=AUTO_SCORE_MID;                                                   C:\2007 final code\autonomous_166.c
003990   d01f     BRA       0x39d0         	else if((switch_read>=SWITCH_STATE_5_MIN) && (switch_read<=SWITCH_STATE_5_MAX)) C:\2007 final code\autonomous_166.c
003992   d867     RCALL     0x3a62                                                                                          
003994   e604     BN        0x399e                                                                                          
003996   0e4e     MOVLW     0x4e                                                                                            
003998   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
00399a   0e02     MOVLW     0x2                                                                                             
00399c   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
00399e   e309     BNC       0x39b2                                                                                          
0039a0   d867     RCALL     0x3a70                                                                                          
0039a2   e204     BC        0x39ac                                                                                          
0039a4   502d     MOVF      0x2d,0x0,0x0                                                                                    
0039a6   0862     SUBLW     0x62                                                                                            
0039a8   0e02     MOVLW     0x2                                                                                             
0039aa   542e     SUBFWB    0x2e,0x0,0x0                                                                                    
0039ac   e302     BNC       0x39b2                                                                                          
0039ae   0e05     MOVLW     0x5            		switch_value=AUTO_REV_MOVE_ARM;                                                C:\2007 final code\autonomous_166.c
0039b0   d00f     BRA       0x39d0         	else if((switch_read>=SWITCH_STATE_6_MIN) && (switch_read<=SWITCH_STATE_6_MAX)) C:\2007 final code\autonomous_166.c
0039b2   d857     RCALL     0x3a62                                                                                          
0039b4   e604     BN        0x39be                                                                                          
0039b6   0e16     MOVLW     0x16                                                                                            
0039b8   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
0039ba   0e03     MOVLW     0x3                                                                                             
0039bc   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
0039be   e30a     BNC       0x39d4                                                                                          
0039c0   d857     RCALL     0x3a70                                                                                          
0039c2   e204     BC        0x39cc                                                                                          
0039c4   502d     MOVF      0x2d,0x0,0x0                                                                                    
0039c6   0834     SUBLW     0x34                                                                                            
0039c8   0e03     MOVLW     0x3                                                                                             
0039ca   542e     SUBFWB    0x2e,0x0,0x0                                                                                    
0039cc   e303     BNC       0x39d4                                                                                          
003a62   cfde     MOVFF     0xfde,0x2b                                                                                      
003a64   f02b                                                                                                               
003a66   cfdd     MOVFF     0xfdd,0x2c                                                                                      
003a68   f02c                                                                                                               
003a6a   90d8     BCF       0xd8,0x0,0x0                                                                                    
003a6c   502c     MOVF      0x2c,0x0,0x0                                                                                    
003a6e   0012     RETURN    0x0                                                                                             
003a70   cfde     MOVFF     0xfde,0x2d                                                                                      
003a72   f02d                                                                                                               
003a74   cfdd     MOVFF     0xfdd,0x2e                                                                                      
003a76   f02e                                                                                                               
003a78   342e     RLCF      0x2e,0x0,0x0                                                                                    
003a7a   0012     RETURN    0x0                                                                                             
0039ce   0e01     MOVLW     0x1            		switch_value=AUTO_DO_NOTHING;                                                  C:\2007 final code\autonomous_166.c
0039d0   d862     RCALL     0x3a96                                                                                          
0039d2   d006     BRA       0x39e0         	else                                                                            C:\2007 final code\autonomous_166.c
0039d4   0e34     MOVLW     0x34           		printf("ERROR: Switch is not in range\r");                                     C:\2007 final code\autonomous_166.c
0039d6   6ee6     MOVWF     0xe6,0x0                                                                                        
0039d8   0e43     MOVLW     0x43                                                                                            
0039da   6ee6     MOVWF     0xe6,0x0                                                                                        
0039dc   0e00     MOVLW     0x0                                                                                             
0039de   d838     RCALL     0x3a50                                                                                          
003a50   6ee6     MOVWF     0xe6,0x0                                                                                        
003a52   ec14     CALL      0x6e28,0x0                                                                                      
003a54   f037                                                                                                               
003a56   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a58   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a5a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a5c   0012     RETURN    0x0                                                                                             
0039e0   0e02     MOVLW     0x2            	return switch_value;                                                            C:\2007 final code\autonomous_166.c
0039e2   cfdb     MOVFF     0xfdb,0x2b                                                                                      
0039e4   f02b                                                                                                               
0039e6   0e03     MOVLW     0x3                                                                                             
0039e8   cfdb     MOVFF     0xfdb,0x2c                                                                                      
0039ea   f02c                                                                                                               
0039ec   c02b     MOVFF     0x2b,0xff3                                                                                      
0039ee   fff3                                                                                                               
0039f0   c02c     MOVFF     0x2c,0xff4                                                                                      
0039f2   fff4                                                                                                               
0039f4   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\autonomous_166.c
0039f6   ffe1                                                                                                               
0039f8   d05a     BRA       0x3aae                                                                                          
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           // back = 1, go backwards, back = 0 go forwards                                  C:\2007 final code\autonomous_166.c
0039fa   d854     RCALL     0x3aa4         void go_and_move_arm(unsigned char back)                                         C:\2007 final code\autonomous_166.c
0039fc   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\autonomous_166.c
                                           	static unsigned char loop_count = 0;                                            C:\2007 final code\autonomous_166.c
                                           	                                                                                C:\2007 final code\autonomous_166.c
                                           	//do we drive?                                                                  C:\2007 final code\autonomous_166.c
                                           	static unsigned char drive = 1;                                                 C:\2007 final code\autonomous_166.c
0039fe   0e40     MOVLW     0x40           	unsigned char y_val = REVERSE_AUTO_SPEED;                                       C:\2007 final code\autonomous_166.c
003a00   6edf     MOVWF     0xdf,0x0                                                                                        
003a02   0103     MOVLB     0x3            	loop_count++;                                                                   C:\2007 final code\autonomous_166.c
003a04   2b79     INCF      0x79,0x1,0x1                                                                                    
                                           	                                                                                C:\2007 final code\autonomous_166.c
003a06   0efe     MOVLW     0xfe           	if (back == 0)                                                                  C:\2007 final code\autonomous_166.c
003a08   50db     MOVF      0xdb,0x0,0x0                                                                                    
003a0a   e102     BNZ       0x3a10                                                                                          
                                           	{                                                                               C:\2007 final code\autonomous_166.c
003a0c   0ec0     MOVLW     0xc0           		y_val = FORWARD_AUTO_SPEED;                                                    C:\2007 final code\autonomous_166.c
003a0e   6edf     MOVWF     0xdf,0x0                                                                                        
                                           	}                                                                               C:\2007 final code\autonomous_166.c
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           	//first, go back a bit (~ 1 sec)                                                C:\2007 final code\autonomous_166.c
003a10   517a     MOVF      0x7a,0x0,0x1   	if(drive)                                                                       C:\2007 final code\autonomous_166.c
003a12   e00b     BZ        0x3a2a                                                                                          
                                           	{                                                                               C:\2007 final code\autonomous_166.c
                                           		//drive                                                                        C:\2007 final code\autonomous_166.c
003a14   0e7f     MOVLW     0x7f           		crab_drive(127,y_val,127);                                                     C:\2007 final code\autonomous_166.c
003a16   6ee6     MOVWF     0xe6,0x0                                                                                        
003a18   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
003a1a   ffe6                                                                                                               
003a1c   d820     RCALL     0x3a5e                                                                                          
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           		//if time is up, we don't drive any more                                       C:\2007 final code\autonomous_166.c
003a1e   0103     MOVLB     0x3            		if(loop_count > DRIVE_LOOP_COUNT)                                              C:\2007 final code\autonomous_166.c
003a20   5179     MOVF      0x79,0x0,0x1                                                                                    
003a22   0826     SUBLW     0x26                                                                                            
003a24   e209     BC        0x3a38                                                                                          
                                           		{                                                                              C:\2007 final code\autonomous_166.c
003a26   6b7a     CLRF      0x7a,0x1       			drive = 0;                                                                    C:\2007 final code\autonomous_166.c
                                           		}                                                                              C:\2007 final code\autonomous_166.c
                                           	}                                                                               C:\2007 final code\autonomous_166.c
                                           	//next, move arm to low                                                         C:\2007 final code\autonomous_166.c
003a28   d007     BRA       0x3a38         	else                                                                            C:\2007 final code\autonomous_166.c
                                           	{                                                                               C:\2007 final code\autonomous_166.c
003a2a   0e7f     MOVLW     0x7f           		crab_drive(127,127,127);                                                       C:\2007 final code\autonomous_166.c
003a2c   6ee6     MOVWF     0xe6,0x0                                                                                        
003a2e   6ee6     MOVWF     0xe6,0x0                                                                                        
003a30   d816     RCALL     0x3a5e                                                                                          
003a5e   6ee6     MOVWF     0xe6,0x0                                                                                        
003a60   d039     BRA       0x3ad4                                                                                          
003a32   6ae6     CLRF      0xe6,0x0       		autonomous_manipulator_master_control(MANIP_DESIRED_POS,AUTO_GRIPPER_OPEN);    C:\2007 final code\autonomous_166.c
003a34   0e03     MOVLW     0x3                                                                                             
003a36   d848     RCALL     0x3ac8                                                                                          
                                           	}                                                                               C:\2007 final code\autonomous_166.c
                                           	return;                                                                         C:\2007 final code\autonomous_166.c
003a38   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\autonomous_166.c
003a3a   d039     BRA       0x3aae                                                                                          
                                                                                                                            C:\2007 final code\autonomous_166.c
003a3c   d833     RCALL     0x3aa4         void do_auto_arm(unsigned char position)                                         C:\2007 final code\autonomous_166.c
003aa4   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
003aa6   ffe6                                                                                                               
003aa8   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003aaa   ffd9                                                                                                               
003aac   0012     RETURN    0x0                                                                                             
                                           {                                                                                C:\2007 final code\autonomous_166.c
003a3e   6ae6     CLRF      0xe6,0x0       	autonomous_manipulator_master_control(position,AUTO_GRIPPER_OPEN);              C:\2007 final code\autonomous_166.c
003a40   0efe     MOVLW     0xfe                                                                                            
003a42   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
003a44   ffe6                                                                                                               
003a46   ec05     CALL      0x140a,0x0                                                                                      
003a48   f00a                                                                                                               
003a4a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a4c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a4e   d02f     BRA       0x3aae         }                                                                                C:\2007 final code\autonomous_166.c
003aae   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003ab0   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003ab2   ffd9                                                                                                               
003ab4   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\autonomous_166.c
                                           #include <stdio.h>                                                               C:\2007 final code\user_byte_166.c
                                                                                                                            C:\2007 final code\user_byte_166.c
                                           #include "ifi_aliases.h"                                                         C:\2007 final code\user_byte_166.c
                                           #include "ifi_default.h"                                                         C:\2007 final code\user_byte_166.c
                                           #include "ifi_utilities.h"                                                       C:\2007 final code\user_byte_166.c
                                           #include "user_routines.h"                                                       C:\2007 final code\user_byte_166.c
                                           #include "serial_ports.h"                                                        C:\2007 final code\user_byte_166.c
                                           #include "camera.h"                                                              C:\2007 final code\user_byte_166.c
                                           #include "encoder.h"                                                             C:\2007 final code\user_byte_166.c
                                           #include "user_byte_166.h"                                                       C:\2007 final code\user_byte_166.c
                                                                                                                            C:\2007 final code\user_byte_166.c
                                           /***********************************************************************         C:\2007 final code\user_byte_166.c
                                           Function name:  Store_User_Bytes                                                 C:\2007 final code\user_byte_166.c
                                           Created by: 	Beth - Mentor                                                       C:\2007 final code\user_byte_166.c
                                           Date modified:  1-28-07                                                          C:\2007 final code\user_byte_166.c
                                           Called From:	User_Routines.Default_Routine                                       C:\2007 final code\user_byte_166.c
                                           Parameters:                                                                      C:\2007 final code\user_byte_166.c
                                           Returns: 		void                                                                  C:\2007 final code\user_byte_166.c
                                           Purpose: 		To fill userbytes with a series of user data for display on dashboard C:\2007 final code\user_byte_166.c
                                           Notes:                                                                           C:\2007 final code\user_byte_166.c
                                           **********************************************************************/          C:\2007 final code\user_byte_166.c
                                                                                                                            C:\2007 final code\user_byte_166.c
                                           /******************** USER BYTE ASSIGNING  ***********                           C:\2007 final code\user_byte_166.c
                                           These are bytes that are sent back to the operator controller. By using a drain program, C:\2007 final code\user_byte_166.c
                                           you are able to pull these numbers out of the radio packets and use excel to graph them.  C:\2007 final code\user_byte_166.c
                                           It also gives you the ability to look at data recorded during a match at a later date so  C:\2007 final code\user_byte_166.c
                                           that having the robot can be unnecessary. The below code will assign the values to the C:\2007 final code\user_byte_166.c
                                           user bytes.                                                                      C:\2007 final code\user_byte_166.c
                                           ************************************************************/                    C:\2007 final code\user_byte_166.c
                                           static unsigned char ub_counter_slow = 1; 	// use for overloading user bytes     C:\2007 final code\user_byte_166.c
                                           static unsigned char ub_counter_fast = 0;                                        C:\2007 final code\user_byte_166.c
                                                                                                                            C:\2007 final code\user_byte_166.c
                                           // treated as a constant; not a #define because only used                        C:\2007 final code\user_byte_166.c
                                           // in this file and #define makes it an integer                                  C:\2007 final code\user_byte_166.c
                                           static unsigned char FAST_COUNTER_MAX =	10;		//# repeats                         C:\2007 final code\user_byte_166.c
                                                                                                                            C:\2007 final code\user_byte_166.c
                                           void Store_User_Bytes(void)                                                      C:\2007 final code\user_byte_166.c
                                           { 	                                                                              C:\2007 final code\user_byte_166.c
                                           	                                                                                C:\2007 final code\user_byte_166.c
                                             // this will make data change every 10 times                                   C:\2007 final code\user_byte_166.c
0067dc   0104     MOVLB     0x4              if (ub_counter_fast >= FAST_COUNTER_MAX)                                       C:\2007 final code\user_byte_166.c
0067de   5111     MOVF      0x11,0x0,0x1                                                                                    
0067e0   5d10     SUBWF     0x10,0x0,0x1                                                                                    
0067e2   e309     BNC       0x67f6                                                                                          
                                             {                                                                              C:\2007 final code\user_byte_166.c
0067e4   2b0f     INCF      0xf,0x1,0x1    		ub_counter_slow++;                                                             C:\2007 final code\user_byte_166.c
0067e6   510f     MOVF      0xf,0x0,0x1    		if (ub_counter_slow > NUMBER_TYPES)                                            C:\2007 final code\user_byte_166.c
0067e8   0806     SUBLW     0x6                                                                                             
0067ea   e202     BC        0x67f0                                                                                          
                                           		{                                                                              C:\2007 final code\user_byte_166.c
0067ec   0e01     MOVLW     0x1            			ub_counter_slow = 1;                                                          C:\2007 final code\user_byte_166.c
0067ee   6f0f     MOVWF     0xf,0x1                                                                                         
                                           		}                                                                              C:\2007 final code\user_byte_166.c
0067f0   6b10     CLRF      0x10,0x1       		ub_counter_fast = 0;                                                           C:\2007 final code\user_byte_166.c
                                                                                                                            C:\2007 final code\user_byte_166.c
                                           		// Temporarily set type of data to "invalid" because data type is changing     C:\2007 final code\user_byte_166.c
0067f2   0102     MOVLB     0x2            		User_Byte1 = 0; 		                                                             C:\2007 final code\user_byte_166.c
0067f4   6bbf     CLRF      0xbf,0x1                                                                                        
                                             }                                                                              C:\2007 final code\user_byte_166.c
                                             // the slow counter starts at 1                                                C:\2007 final code\user_byte_166.c
0067f6   0104     MOVLB     0x4              switch(ub_counter_slow)                                                        C:\2007 final code\user_byte_166.c
0067f8   510f     MOVF      0xf,0x0,0x1                                                                                     
0067fa   0a06     XORLW     0x6                                                                                             
0067fc   e101     BNZ       0x6800                                                                                          
0067fe   d091     BRA       0x6922                                                                                          
006800   0a03     XORLW     0x3                                                                                             
006802   e069     BZ        0x68d6                                                                                          
006804   0a01     XORLW     0x1                                                                                             
006806   e041     BZ        0x688a                                                                                          
006808   0a07     XORLW     0x7                                                                                             
00680a   e019     BZ        0x683e                                                                                          
00680c   0a01     XORLW     0x1                                                                                             
00680e   e00c     BZ        0x6828                                                                                          
006810   0a03     XORLW     0x3                                                                                             
006812   e001     BZ        0x6816                                                                                          
006814   0012     RETURN    0x0                                                                                             
                                             {	                                                                             C:\2007 final code\user_byte_166.c
                                                                                                                            C:\2007 final code\user_byte_166.c
                                           		case CAMERA_MASS:	// camera T Packet  mx, my, pixels, confidence               C:\2007 final code\user_byte_166.c
                                           	                                                                                C:\2007 final code\user_byte_166.c
                                           		  // Load user bytes with camera data                                          C:\2007 final code\user_byte_166.c
                                                     // The T_Packet_Data structure is continually updated by Camera_Handler()  C:\2007 final code\user_byte_166.c
                                                     // which is called from Process_Data_From_Master_uP in user_routines.c C:\2007 final code\user_byte_166.c
006816   c300     MOVFF     0x300,0x2c0       		  User_Byte2 = T_Packet_Data.mx;			// Middle of mass x value                C:\2007 final code\user_byte_166.c
006818   f2c0                                                                                                               
00681a   c301     MOVFF     0x301,0x2d5         	  User_Byte3 = T_Packet_Data.my;			// Middle of mass y value               C:\2007 final code\user_byte_166.c
00681c   f2d5                                                                                                               
00681e   c306     MOVFF     0x306,0x2d6              User_Byte4 = T_Packet_Data.pixels;		// # pixes in tracked region, scaled & capped at 255 C:\2007 final code\user_byte_166.c
006820   f2d6                                                                                                               
006822   c307     MOVFF     0x307,0x2d7              User_Byte5 = T_Packet_Data.confidence;	// (#pixels/area)*256 of bounded rectangle (capped at 255) C:\2007 final code\user_byte_166.c
006824   f2d7                                                                                                               
                                                     User_Byte6 = 0xFF;						// not used                                    C:\2007 final code\user_byte_166.c
                                                                                                                            C:\2007 final code\user_byte_166.c
                                               	  // set ub1 last so mixed data won't be picked up                          C:\2007 final code\user_byte_166.c
                                           		  User_Byte1 = ub_counter_slow;					// tell user what type of data             C:\2007 final code\user_byte_166.c
                                                                                                                            C:\2007 final code\user_byte_166.c
                                           		  ub_counter_fast++;                                                           C:\2007 final code\user_byte_166.c
006826   d008     BRA       0x6838         		  break;                                                                       C:\2007 final code\user_byte_166.c
                                           	                                                                                C:\2007 final code\user_byte_166.c
                                           		case CAMERA_RECTANGLE: // camera T Packet  x1, y1, x2, y2		                    C:\2007 final code\user_byte_166.c
                                                                                                                            C:\2007 final code\user_byte_166.c
                                           		  // Load user bytes with camera data                                          C:\2007 final code\user_byte_166.c
006828   c302     MOVFF     0x302,0x2c0       		  User_Byte2 = T_Packet_Data.x1;			// left corner x value                   C:\2007 final code\user_byte_166.c
00682a   f2c0                                                                                                               
00682c   c303     MOVFF     0x303,0x2d5         	  User_Byte3 = T_Packet_Data.y1;			// left corner y value                  C:\2007 final code\user_byte_166.c
00682e   f2d5                                                                                                               
006830   c304     MOVFF     0x304,0x2d6              User_Byte4 = T_Packet_Data.x2;			// right corner x value               C:\2007 final code\user_byte_166.c
006832   f2d6                                                                                                               
006834   c305     MOVFF     0x305,0x2d7              User_Byte5 = T_Packet_Data.y2;			// right corner y value               C:\2007 final code\user_byte_166.c
006836   f2d7                                                                                                               
006838   0102     MOVLB     0x2                      User_Byte6 = 0xFF;						// not used                                    C:\2007 final code\user_byte_166.c
00683a   69d8     SETF      0xd8,0x1                                                                                        
                                                                                                                            C:\2007 final code\user_byte_166.c
                                               	  // set ub1 last so mixed data won't be picked up                          C:\2007 final code\user_byte_166.c
                                           		  User_Byte1 = ub_counter_slow;				// tell user what type of data              C:\2007 final code\user_byte_166.c
                                           		  ub_counter_fast++;                                                           C:\2007 final code\user_byte_166.c
00683c   d097     BRA       0x696c         		  break;                                                                       C:\2007 final code\user_byte_166.c
                                           	                                                                                C:\2007 final code\user_byte_166.c
                                           		case ENCODER_3:                                                                C:\2007 final code\user_byte_166.c
                                           	                                                                                C:\2007 final code\user_byte_166.c
                                           		  // Load user bytes with encoder data                                         C:\2007 final code\user_byte_166.c
00683e   ec1b     CALL      0x6636,0x0               Encoder_3_Count = Get_Encoder_3_Count();                               C:\2007 final code\user_byte_166.c
006840   f033                                                                                                               
006842   c01b     MOVFF     0x1b,0x39c                                                                                      
006844   f39c                                                                                                               
006846   c01c     MOVFF     0x1c,0x39d                                                                                      
006848   f39d                                                                                                               
00684a   c01d     MOVFF     0x1d,0x39e                                                                                      
00684c   f39e                                                                                                               
00684e   c01e     MOVFF     0x1e,0x39f                                                                                      
006850   f39f                                                                                                               
006852   c39f     MOVFF     0x39f,0x2e     		  User_Byte2 = (Encoder_3_Count & 0xFF000000) >> 24;	// encoder highest byte   C:\2007 final code\user_byte_166.c
006854   f02e                                                                                                               
006856   d896     RCALL     0x6984                                                                                          
006858   d88e     RCALL     0x6976                                                                                          
00685a   e1fe     BNZ       0x6858                                                                                          
00685c   c02b     MOVFF     0x2b,0x2c0                                                                                      
00685e   f2c0                                                                                                               
006860   c39e     MOVFF     0x39e,0x2d          	  User_Byte3 = (Encoder_3_Count & 0x00FF0000) >> 16;	// encoder next hi byte C:\2007 final code\user_byte_166.c
006862   f02d                                                                                                               
006864   d894     RCALL     0x698e                                                                                          
006866   d887     RCALL     0x6976                                                                                          
006868   e1fe     BNZ       0x6866                                                                                          
00686a   c02b     MOVFF     0x2b,0x2d5                                                                                      
00686c   f2d5                                                                                                               
00686e   c39d     MOVFF     0x39d,0x2c               User_Byte4 = (Encoder_3_Count & 0x0000FF00) >> 8;		// encoder next to lo byte C:\2007 final code\user_byte_166.c
006870   f02c                                                                                                               
006872   d892     RCALL     0x6998                                                                                          
006874   d880     RCALL     0x6976                                                                                          
006876   e1fe     BNZ       0x6874                                                                                          
006878   c02b     MOVFF     0x2b,0x2d6                                                                                      
00687a   f2d6                                                                                                               
00687c   0103     MOVLB     0x3                      User_Byte5 = (Encoder_3_Count & 0x000000FF);			// encoder lowest byte  C:\2007 final code\user_byte_166.c
00687e   519c     MOVF      0x9c,0x0,0x1                                                                                    
006880   0102     MOVLB     0x2                                                                                             
006882   6fd7     MOVWF     0xd7,0x1                                                                                        
006884   c404     MOVFF     0x404,0x2d8              User_Byte6 = Encoder_3_State;				// direction                          C:\2007 final code\user_byte_166.c
006886   f2d8                                                                                                               
                                                                                                                            C:\2007 final code\user_byte_166.c
                                               	  // set ub1 last so mixed data won't be picked up                          C:\2007 final code\user_byte_166.c
                                           		  User_Byte1 = ub_counter_slow;				// tell user what type of data              C:\2007 final code\user_byte_166.c
                                           		  ub_counter_fast++;                                                           C:\2007 final code\user_byte_166.c
006888   d071     BRA       0x696c         		  break;                                                                       C:\2007 final code\user_byte_166.c
                                           	                                                                                C:\2007 final code\user_byte_166.c
                                           		case ENCODER_4:                                                                C:\2007 final code\user_byte_166.c
                                                                                                                            C:\2007 final code\user_byte_166.c
                                           		  // Load user bytes with encoder data                                         C:\2007 final code\user_byte_166.c
00688a   ec48     CALL      0x6690,0x0               Encoder_4_Count = Get_Encoder_4_Count();                               C:\2007 final code\user_byte_166.c
00688c   f033                                                                                                               
00688e   c01b     MOVFF     0x1b,0x3a0                                                                                      
006890   f3a0                                                                                                               
006892   c01c     MOVFF     0x1c,0x3a1                                                                                      
006894   f3a1                                                                                                               
006896   c01d     MOVFF     0x1d,0x3a2                                                                                      
006898   f3a2                                                                                                               
00689a   c01e     MOVFF     0x1e,0x3a3                                                                                      
00689c   f3a3                                                                                                               
00689e   c3a3     MOVFF     0x3a3,0x2e     		  User_Byte2 = (Encoder_4_Count & 0xFF000000) >> 24;	// encoder highest byte   C:\2007 final code\user_byte_166.c
0068a0   f02e                                                                                                               
0068a2   d870     RCALL     0x6984                                                                                          
0068a4   d868     RCALL     0x6976                                                                                          
0068a6   e1fe     BNZ       0x68a4                                                                                          
0068a8   c02b     MOVFF     0x2b,0x2c0                                                                                      
0068aa   f2c0                                                                                                               
0068ac   c3a2     MOVFF     0x3a2,0x2d          	  User_Byte3 = (Encoder_4_Count & 0x00FF0000) >> 16;	// encoder next hi byte C:\2007 final code\user_byte_166.c
0068ae   f02d                                                                                                               
0068b0   d86e     RCALL     0x698e                                                                                          
0068b2   d861     RCALL     0x6976                                                                                          
0068b4   e1fe     BNZ       0x68b2                                                                                          
0068b6   c02b     MOVFF     0x2b,0x2d5                                                                                      
0068b8   f2d5                                                                                                               
0068ba   c3a1     MOVFF     0x3a1,0x2c               User_Byte4 = (Encoder_4_Count & 0x0000FF00) >> 8;		// encoder next to lo byte C:\2007 final code\user_byte_166.c
0068bc   f02c                                                                                                               
0068be   d86c     RCALL     0x6998                                                                                          
0068c0   d85a     RCALL     0x6976                                                                                          
0068c2   e1fe     BNZ       0x68c0                                                                                          
0068c4   c02b     MOVFF     0x2b,0x2d6                                                                                      
0068c6   f2d6                                                                                                               
0068c8   0103     MOVLB     0x3                      User_Byte5 = (Encoder_4_Count & 0x000000FF);			// encoder lowest byte  C:\2007 final code\user_byte_166.c
0068ca   51a0     MOVF      0xa0,0x0,0x1                                                                                    
0068cc   0102     MOVLB     0x2                                                                                             
0068ce   6fd7     MOVWF     0xd7,0x1                                                                                        
0068d0   c405     MOVFF     0x405,0x2d8              User_Byte6 = Encoder_4_State;				// direction						                    C:\2007 final code\user_byte_166.c
0068d2   f2d8                                                                                                               
                                           	                                                                                C:\2007 final code\user_byte_166.c
                                               	  // set ub1 last so mixed data won't be picked up                          C:\2007 final code\user_byte_166.c
                                           		  User_Byte1 = ub_counter_slow;					// tell user what type of data             C:\2007 final code\user_byte_166.c
                                           		  ub_counter_fast++;							// start over again                                 C:\2007 final code\user_byte_166.c
0068d4   d04b     BRA       0x696c         		  break;                                                                       C:\2007 final code\user_byte_166.c
                                                                                                                            C:\2007 final code\user_byte_166.c
                                           		case ENCODER_5: 	                                                              C:\2007 final code\user_byte_166.c
                                                                                                                            C:\2007 final code\user_byte_166.c
                                           		  // Load user bytes with encoder data                                         C:\2007 final code\user_byte_166.c
0068d6   ec75     CALL      0x66ea,0x0               Encoder_5_Count = Get_Encoder_5_Count();                               C:\2007 final code\user_byte_166.c
0068d8   f033                                                                                                               
0068da   c01b     MOVFF     0x1b,0x3a4                                                                                      
0068dc   f3a4                                                                                                               
0068de   c01c     MOVFF     0x1c,0x3a5                                                                                      
0068e0   f3a5                                                                                                               
0068e2   c01d     MOVFF     0x1d,0x3a6                                                                                      
0068e4   f3a6                                                                                                               
0068e6   c01e     MOVFF     0x1e,0x3a7                                                                                      
0068e8   f3a7                                                                                                               
0068ea   c3a7     MOVFF     0x3a7,0x2e     		  User_Byte2 = (Encoder_5_Count & 0xFF000000) >> 24;	// encoder highest byte   C:\2007 final code\user_byte_166.c
0068ec   f02e                                                                                                               
0068ee   d84a     RCALL     0x6984                                                                                          
0068f0   d842     RCALL     0x6976                                                                                          
0068f2   e1fe     BNZ       0x68f0                                                                                          
0068f4   c02b     MOVFF     0x2b,0x2c0                                                                                      
0068f6   f2c0                                                                                                               
0068f8   c3a6     MOVFF     0x3a6,0x2d          	  User_Byte3 = (Encoder_5_Count & 0x00FF0000) >> 16;	// encoder next hi byte C:\2007 final code\user_byte_166.c
0068fa   f02d                                                                                                               
0068fc   d848     RCALL     0x698e                                                                                          
0068fe   d83b     RCALL     0x6976                                                                                          
006900   e1fe     BNZ       0x68fe                                                                                          
006902   c02b     MOVFF     0x2b,0x2d5                                                                                      
006904   f2d5                                                                                                               
006906   c3a5     MOVFF     0x3a5,0x2c               User_Byte4 = (Encoder_5_Count & 0x0000FF00) >> 8;		// encoder next to lo byte C:\2007 final code\user_byte_166.c
006908   f02c                                                                                                               
00690a   d846     RCALL     0x6998                                                                                          
00690c   d834     RCALL     0x6976                                                                                          
00690e   e1fe     BNZ       0x690c                                                                                          
006910   c02b     MOVFF     0x2b,0x2d6                                                                                      
006912   f2d6                                                                                                               
006914   0103     MOVLB     0x3                      User_Byte5 = (Encoder_5_Count & 0x000000FF);			// encoder lowest byte  C:\2007 final code\user_byte_166.c
006916   51a4     MOVF      0xa4,0x0,0x1                                                                                    
006918   0102     MOVLB     0x2                                                                                             
00691a   6fd7     MOVWF     0xd7,0x1                                                                                        
00691c   c406     MOVFF     0x406,0x2d8              User_Byte6 = Encoder_5_State;				// direction                          C:\2007 final code\user_byte_166.c
00691e   f2d8                                                                                                               
                                                                                                                            C:\2007 final code\user_byte_166.c
                                               	  // set ub1 last so mixed data won't be picked up                          C:\2007 final code\user_byte_166.c
                                           		  User_Byte1 = ub_counter_slow;				// tell user what type of data              C:\2007 final code\user_byte_166.c
                                           		  ub_counter_fast++;                                                           C:\2007 final code\user_byte_166.c
006920   d025     BRA       0x696c         		  break;                                                                       C:\2007 final code\user_byte_166.c
                                           	                                                                                C:\2007 final code\user_byte_166.c
                                           		case ENCODER_6: 	                                                              C:\2007 final code\user_byte_166.c
                                                                                                                            C:\2007 final code\user_byte_166.c
                                           		  // Load user bytes with encoder data                                         C:\2007 final code\user_byte_166.c
006922   eca2     CALL      0x6744,0x0               Encoder_6_Count = Get_Encoder_6_Count();                               C:\2007 final code\user_byte_166.c
006924   f033                                                                                                               
006926   c01b     MOVFF     0x1b,0x3a8                                                                                      
006928   f3a8                                                                                                               
00692a   c01c     MOVFF     0x1c,0x3a9                                                                                      
00692c   f3a9                                                                                                               
00692e   c01d     MOVFF     0x1d,0x3aa                                                                                      
006930   f3aa                                                                                                               
006932   c01e     MOVFF     0x1e,0x3ab                                                                                      
006934   f3ab                                                                                                               
006936   c3ab     MOVFF     0x3ab,0x2e     		  User_Byte2 = (Encoder_6_Count & 0xFF000000) >> 24;	// encoder highest byte   C:\2007 final code\user_byte_166.c
006938   f02e                                                                                                               
00693a   d824     RCALL     0x6984                                                                                          
00693c   d81c     RCALL     0x6976                                                                                          
00693e   e1fe     BNZ       0x693c                                                                                          
006940   c02b     MOVFF     0x2b,0x2c0                                                                                      
006942   f2c0                                                                                                               
006984   6a2b     CLRF      0x2b,0x0                                                                                        
006986   6a2c     CLRF      0x2c,0x0                                                                                        
006988   6a2d     CLRF      0x2d,0x0                                                                                        
00698a   0e18     MOVLW     0x18                                                                                            
00698c   0012     RETURN    0x0                                                                                             
006944   c3aa     MOVFF     0x3aa,0x2d          	  User_Byte3 = (Encoder_6_Count & 0x00FF0000) >> 16;	// encoder next hi byte C:\2007 final code\user_byte_166.c
006946   f02d                                                                                                               
006948   d822     RCALL     0x698e                                                                                          
00694a   d815     RCALL     0x6976                                                                                          
00694c   e1fe     BNZ       0x694a                                                                                          
00694e   c02b     MOVFF     0x2b,0x2d5                                                                                      
006950   f2d5                                                                                                               
00698e   6a2b     CLRF      0x2b,0x0                                                                                        
006990   6a2c     CLRF      0x2c,0x0                                                                                        
006992   6a2e     CLRF      0x2e,0x0                                                                                        
006994   0e10     MOVLW     0x10                                                                                            
006996   0012     RETURN    0x0                                                                                             
006952   c3a9     MOVFF     0x3a9,0x2c               User_Byte4 = (Encoder_6_Count & 0x0000FF00) >> 8;		// encoder next to lo byte C:\2007 final code\user_byte_166.c
006954   f02c                                                                                                               
006956   d820     RCALL     0x6998                                                                                          
006958   d80e     RCALL     0x6976                                                                                          
00695a   e1fe     BNZ       0x6958                                                                                          
00695c   c02b     MOVFF     0x2b,0x2d6                                                                                      
00695e   f2d6                                                                                                               
006976   90d8     BCF       0xd8,0x0,0x0                                                                                    
006978   322e     RRCF      0x2e,0x1,0x0                                                                                    
00697a   322d     RRCF      0x2d,0x1,0x0                                                                                    
00697c   322c     RRCF      0x2c,0x1,0x0                                                                                    
00697e   322b     RRCF      0x2b,0x1,0x0                                                                                    
006980   06e8     DECF      0xe8,0x1,0x0                                                                                    
006982   0012     RETURN    0x0                                                                                             
006998   6a2b     CLRF      0x2b,0x0                                                                                        
00699a   6a2d     CLRF      0x2d,0x0                                                                                        
00699c   6a2e     CLRF      0x2e,0x0                                                                                        
00699e   0e08     MOVLW     0x8                                                                                             
0069a0   0012     RETURN    0x0                                                                                             
006960   0103     MOVLB     0x3                      User_Byte5 = (Encoder_6_Count & 0x000000FF);			// encoder lowest byte  C:\2007 final code\user_byte_166.c
006962   51a8     MOVF      0xa8,0x0,0x1                                                                                    
006964   0102     MOVLB     0x2                                                                                             
006966   6fd7     MOVWF     0xd7,0x1                                                                                        
006968   c407     MOVFF     0x407,0x2d8              User_Byte6 = Encoder_6_State;				// direction                          C:\2007 final code\user_byte_166.c
00696a   f2d8                                                                                                               
                                                                                                                            C:\2007 final code\user_byte_166.c
                                               	  // set ub1 last so mixed data won't be picked up                          C:\2007 final code\user_byte_166.c
00696c   c40f     MOVFF     0x40f,0x2bf    		  User_Byte1 = ub_counter_slow;					// tell user what type of data             C:\2007 final code\user_byte_166.c
00696e   f2bf                                                                                                               
006970   0104     MOVLB     0x4            		  ub_counter_fast++;							// start over again                                 C:\2007 final code\user_byte_166.c
006972   2b10     INCF      0x10,0x1,0x1                                                                                    
                                           		  break;                                                                       C:\2007 final code\user_byte_166.c
                                           	}                                                                               C:\2007 final code\user_byte_166.c
006974   0012     RETURN    0x0            }                                                                                C:\2007 final code\user_byte_166.c
                                           /******************************************************************************* C:\2007 final code\manipulator.c
                                           * FILE NAME: manipulator.c                                                       C:\2007 final code\manipulator.c
                                           *                                                                                C:\2007 final code\manipulator.c
                                           * WRITTEN BY:	Robert Harris	--	General Coding and Debugging                      C:\2007 final code\manipulator.c
                                           *			 	Eric Finn		--	Debugging                                                    C:\2007 final code\manipulator.c
                                           *				Beth Finn		--	Mentor                                                        C:\2007 final code\manipulator.c
                                           *				Per Hamnqvist	--	Mentor                                                     C:\2007 final code\manipulator.c
                                           *                                                                                C:\2007 final code\manipulator.c
                                           * DESCRIPTION:                                                                   C:\2007 final code\manipulator.c
                                           *  This file contains the functions created for the manipulator                  C:\2007 final code\manipulator.c
                                           *                                                                                C:\2007 final code\manipulator.c
                                           * USAGE:                                                                         C:\2007 final code\manipulator.c
                                           *  Functions created for the manipulator can be used inside of user_routines.c   C:\2007 final code\manipulator.c
                                           *  and autonomous modes.                                                         C:\2007 final code\manipulator.c
                                           *                                                                                C:\2007 final code\manipulator.c
                                           *******************************************************************************/ C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           #include <stdio.h>                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           #include "ifi_aliases.h"                                                         C:\2007 final code\manipulator.c
                                           #include "ifi_default.h"                                                         C:\2007 final code\manipulator.c
                                           #include "ifi_utilities.h"                                                       C:\2007 final code\manipulator.c
                                           #include "user_routines.h"                                                       C:\2007 final code\manipulator.c
                                           #include "serial_ports.h"                                                        C:\2007 final code\manipulator.c
                                           #include "camera.h"                                                              C:\2007 final code\manipulator.c
                                           #include "encoder.h"                                                             C:\2007 final code\manipulator.c
                                           #include "eeprom.h"                                                              C:\2007 final code\manipulator.c
                                           #include "manipulator.h"                                                         C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           #define MANIP_DEBUG 0                                                            C:\2007 final code\manipulator.c
                                           #define LED_DEBUG 0                                                              C:\2007 final code\manipulator.c
                                           #define MANIP_GENERAL_INFO 0                                                     C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           char direction_base = 0; // direction of base encoder count                      C:\2007 final code\manipulator.c
                                           char direction_elbow = 0; // direction of elbow encoder count                    C:\2007 final code\manipulator.c
                                           char direction_wrist = 0; // direction of wrist encoder count                    C:\2007 final code\manipulator.c
                                           char direction_gripper = 0; // direction of gripper encoder count                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           extern unsigned char rotary_dial; // value from rotary dial on copilot box       C:\2007 final code\manipulator.c
                                           extern char rocker_3_position_switch; // value from rocker switch on copilot box C:\2007 final code\manipulator.c
                                           extern unsigned char mini_joystick_1; // value from joystick 1 on copilot box    C:\2007 final code\manipulator.c
                                           extern unsigned char mini_joystick_2; // value from joystick 2 on copilot box    C:\2007 final code\manipulator.c
                                           extern unsigned char mini_joystick_3; // value from joystick 3 on copilot box    C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           unsigned char manipulator_counter = 0; // counter used in manipulator code       C:\2007 final code\manipulator.c
                                           unsigned char auto_counter = 0; // print throttle counter                        C:\2007 final code\manipulator.c
                                           int encoder_base = 0; // variable used to hold base encoder count                C:\2007 final code\manipulator.c
                                           int encoder_elbow = 0; // variable used to hold elbow encoder count              C:\2007 final code\manipulator.c
                                           int encoder_wrist = 0; // variable used to hold wrist encoder count              C:\2007 final code\manipulator.c
                                           int encoder_gripper = 0; // variable used to hold gripper encoder count          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           extern int Base_Position_Box; // value used to hold preset position from EEPROM  C:\2007 final code\manipulator.c
                                           extern int Base_Position_Floor;	// value used to hold preset position from EEPROM	 C:\2007 final code\manipulator.c
                                           extern int Base_Position_Low; // value used to hold preset position from EEPROM		 C:\2007 final code\manipulator.c
                                           extern int Base_Position_Middle; // value used to hold preset position from EEPROM	 C:\2007 final code\manipulator.c
                                           extern int Base_Position_High; // value used to hold preset position from EEPROM	 C:\2007 final code\manipulator.c
                                           extern int Elbow_Position_Box; // value used to hold preset position from EEPROM	 C:\2007 final code\manipulator.c
                                           extern int Elbow_Position_Floor; // value used to hold preset position from EEPROM C:\2007 final code\manipulator.c
                                           extern int Elbow_Position_Low; // value used to hold preset position from EEPROM	 C:\2007 final code\manipulator.c
                                           extern int Elbow_Position_Middle; // value used to hold preset position from EEPROM	 C:\2007 final code\manipulator.c
                                           extern int Elbow_Position_High;	// value used to hold preset position from EEPROM	 C:\2007 final code\manipulator.c
                                           extern int Wrist_Position_Box; // value used to hold preset position from EEPROM	 C:\2007 final code\manipulator.c
                                           extern int Wrist_Position_Floor; // value used to hold preset position from EEPROM	 C:\2007 final code\manipulator.c
                                           extern int Wrist_Position_Low; // value used to hold preset position from EEPROM		 C:\2007 final code\manipulator.c
                                           extern int Wrist_Position_Middle; // value used to hold preset position from EEPROM	 C:\2007 final code\manipulator.c
                                           extern int Wrist_Position_High;	// value used to hold preset position from EEPROM	 C:\2007 final code\manipulator.c
                                           extern int Gripper_Open; // value used to hold preset position from EEPROM			    C:\2007 final code\manipulator.c
                                           extern int Gripper_Closed; // value used to hold preset position from EEPROM		   C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           /***************** Manipulator Automatic Adjustment Code ************************** C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           Inputs:                                                                          C:\2007 final code\manipulator.c
                                           	long goal_joint_position: the desired value for the joint in question           C:\2007 final code\manipulator.c
                                           	unsigned char joint_to_be_moved: the joint in question, where 5 = base joint, 6 = elbow joint, 7 = wrist joint, 8 = gripper joint	 C:\2007 final code\manipulator.c
                                           	unsigned char desired_speed of movement: the desired speed of movement, where 0 is no movement and 127 is maximum speed C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           Output:                                                                          C:\2007 final code\manipulator.c
                                           	A value from 0 to 254 for the motor on the joint in question                    C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           **********************************************************************************/ C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0008d4   ecb5     CALL      0x1b6a,0x0     unsigned char manipulator_automatic_adjustment(long goal_joint_position, unsigned char joint_to_be_moved, unsigned char desired_speed_of_movement, long upper_soft_stop, long lower_soft_stop) C:\2007 final code\manipulator.c
0008d6   f00d                                                                                                               
0008d8   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           unsigned char hold_value; // hold value for different steps of the function      C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           #if 0                                                                            C:\2007 final code\manipulator.c
                                           auto_counter++;                                                                  C:\2007 final code\manipulator.c
                                           //if (auto_counter >= 6)                                                         C:\2007 final code\manipulator.c
                                           {                                                                                C:\2007 final code\manipulator.c
                                           //printf("manipulator_automatic_adjustment: joint to be moved= %d\r", joint_to_be_moved); C:\2007 final code\manipulator.c
                                           printf("encoder_gripper =  %d\r", encoder_gripper);                              C:\2007 final code\manipulator.c
                                           auto_counter=0;                                                                  C:\2007 final code\manipulator.c
                                           }                                                                                C:\2007 final code\manipulator.c
                                           #endif                                                                           C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0008da   0efa     MOVLW     0xfa           	switch(joint_to_be_moved) // determines which joint's encoder needs to be used and compares it to the goal position C:\2007 final code\manipulator.c
0008dc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0008de   0a08     XORLW     0x8                                                                                             
0008e0   e101     BNZ       0x8e4                                                                                           
0008e2   d0f2     BRA       0xac8                                                                                           
0008e4   0a0f     XORLW     0xf                                                                                             
0008e6   e101     BNZ       0x8ea                                                                                           
0008e8   d0a2     BRA       0xa2e                                                                                           
0008ea   0a01     XORLW     0x1                                                                                             
0008ec   e053     BZ        0x994                                                                                           
0008ee   0a03     XORLW     0x3                                                                                             
0008f0   e001     BZ        0x8f4                                                                                           
0008f2   d142     BRA       0xb78                                                                                           
                                           	{                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case BASE:		//base (shoulder) joint                                             C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           		                                                                               C:\2007 final code\manipulator.c
                                           #if MANIP_DEBUG                                                                  C:\2007 final code\manipulator.c
                                           if (manipulator_counter == 1)                                                    C:\2007 final code\manipulator.c
                                           printf("base encoder value %d\r", encoder_base);                                 C:\2007 final code\manipulator.c
                                           #endif                                                                           C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0008f4   ecc7     CALL      0x1b8e,0x0     if((encoder_base >= (goal_joint_position - ENCODER_BASE_DEAD_ZONE)) && (encoder_base <= (goal_joint_position + ENCODER_BASE_DEAD_ZONE))) // if they are within the dead zone, the correct position C:\2007 final code\manipulator.c
0008f6   f00d                                                                                                               
0008f8   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
0008fa   d002     BRA       0x900                                                                                           
0008fc   682d     SETF      0x2d,0x0                                                                                        
0008fe   682e     SETF      0x2e,0x0                                                                                        
000900   ec76     CALL      0x1cec,0x0                                                                                      
000902   f00e                                                                                                               
000904   0e02     MOVLW     0x2                                                                                             
000906   eca6     CALL      0x1d4c,0x0                                                                                      
000908   f00e                                                                                                               
00090a   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
00090c   d002     BRA       0x912                                                                                           
00090e   3432     RLCF      0x32,0x0,0x0                                                                                    
000910   d002     BRA       0x916                                                                                           
000912   ec7e     CALL      0x1afc,0x0                                                                                      
000914   f00d                                                                                                               
000916   e315     BNC       0x942                                                                                           
000918   c3b3     MOVFF     0x3b3,0x33                                                                                      
00091a   f033                                                                                                               
00091c   c3b4     MOVFF     0x3b4,0x34                                                                                      
00091e   f034                                                                                                               
000920   6a35     CLRF      0x35,0x0                                                                                        
000922   6a36     CLRF      0x36,0x0                                                                                        
000924   ae34     BTFSS     0x34,0x7,0x0                                                                                    
000926   d002     BRA       0x92c                                                                                           
000928   6835     SETF      0x35,0x0                                                                                        
00092a   6836     SETF      0x36,0x0                                                                                        
00092c   0e02     MOVLW     0x2                                                                                             
00092e   ec0c     CALL      0x1a18,0x0                                                                                      
000930   f00d                                                                                                               
000932   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000934   d002     BRA       0x93a                                                                                           
000936   3436     RLCF      0x36,0x0,0x0                                                                                    
000938   d002     BRA       0x93e                                                                                           
00093a   ec87     CALL      0x1b0e,0x0                                                                                      
00093c   f00d                                                                                                               
00093e   e301     BNC       0x942                                                                                           
000940   d13e     BRA       0xbbe                                                                                           
001cec   0efb     MOVLW     0xfb                                                                                            
001cee   cfdb     MOVFF     0xfdb,0x2f                                                                                      
001cf0   f02f                                                                                                               
001cf2   0efc     MOVLW     0xfc                                                                                            
001cf4   cfdb     MOVFF     0xfdb,0x30                                                                                      
001cf6   f030                                                                                                               
001cf8   0efd     MOVLW     0xfd                                                                                            
001cfa   cfdb     MOVFF     0xfdb,0x31                                                                                      
001cfc   f031                                                                                                               
001cfe   0efe     MOVLW     0xfe                                                                                            
001d00   cfdb     MOVFF     0xfdb,0x32                                                                                      
001d02   f032                                                                                                               
001d04   0012     RETURN    0x0                                                                                             
001d4c   5e2f     SUBWF     0x2f,0x1,0x0                                                                                    
001d4e   0e00     MOVLW     0x0                                                                                             
001d50   5a30     SUBWFB    0x30,0x1,0x0                                                                                    
001d52   5a31     SUBWFB    0x31,0x1,0x0                                                                                    
001d54   5a32     SUBWFB    0x32,0x1,0x0                                                                                    
001d56   502e     MOVF      0x2e,0x0,0x0                                                                                    
001d58   1832     XORWF     0x32,0x0,0x0                                                                                    
001d5a   0012     RETURN    0x0                                                                                             
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           			return 127; // do not move the motor                                          C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                           		else	// if they aren't equal                                                   C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
000942   ecc7     CALL      0x1b8e,0x0     			if(encoder_base < goal_joint_position)	// if the goal joint position is higher than the current value C:\2007 final code\manipulator.c
000944   f00d                                                                                                               
000946   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
000948   d002     BRA       0x94e                                                                                           
00094a   682d     SETF      0x2d,0x0                                                                                        
00094c   682e     SETF      0x2e,0x0                                                                                        
00094e   ec35     CALL      0x1a6a,0x0                                                                                      
000950   f00d                                                                                                               
000952   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000954   d002     BRA       0x95a                                                                                           
000956   341f     RLCF      0x1f,0x0,0x0                                                                                    
000958   d002     BRA       0x95e                                                                                           
00095a   ec28     CALL      0x1a50,0x0                                                                                      
00095c   f00d                                                                                                               
00095e   e205     BC        0x96a                                                                                           
                                           			{                                                                             C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000960   6adf     CLRF      0xdf,0x0       				hold_value = 0;	// set hold value to correspond to scenario                  C:\2007 final code\manipulator.c
000962   0103     MOVLB     0x3            				direction_base = 1; // set the encoder direction to positive                 C:\2007 final code\manipulator.c
000964   0e01     MOVLW     0x1                                                                                             
000966   6fad     MOVWF     0xad,0x1                                                                                        
                                           			}                                                                             C:\2007 final code\manipulator.c
000968   d107     BRA       0xb78          			else                                                                          C:\2007 final code\manipulator.c
                                           			{                                                                             C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00096a   ecc7     CALL      0x1b8e,0x0     				if(encoder_base < lower_soft_stop)	// if the goal joint position is lower than the current value C:\2007 final code\manipulator.c
00096c   f00d                                                                                                               
00096e   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
000970   d002     BRA       0x976                                                                                           
000972   682d     SETF      0x2d,0x0                                                                                        
000974   682e     SETF      0x2e,0x0                                                                                        
000976   ec44     CALL      0x1a88,0x0                                                                                      
000978   f00d                                                                                                               
00097a   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
00097c   d002     BRA       0x982                                                                                           
00097e   341f     RLCF      0x1f,0x0,0x0                                                                                    
000980   d002     BRA       0x986                                                                                           
000982   ec28     CALL      0x1a50,0x0                                                                                      
000984   f00d                                                                                                               
000986   e201     BC        0x98a                                                                                           
000988   d11a     BRA       0xbbe                                                                                           
001b8e   c3b3     MOVFF     0x3b3,0x2b                                                                                      
001b90   f02b                                                                                                               
001b92   c3b4     MOVFF     0x3b4,0x2c                                                                                      
001b94   f02c                                                                                                               
001b96   6a2d     CLRF      0x2d,0x0                                                                                        
001b98   6a2e     CLRF      0x2e,0x0                                                                                        
001b9a   0012     RETURN    0x0                                                                                             
                                           					return 127; // return neutral                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00098a   0e01     MOVLW     0x1            				hold_value = 1;  // set hold value to correspond to scenario                 C:\2007 final code\manipulator.c
00098c   6edf     MOVWF     0xdf,0x0                                                                                        
00098e   0103     MOVLB     0x3            				direction_base = -1; // set the encoder direction to negative                C:\2007 final code\manipulator.c
000990   69ad     SETF      0xad,0x1                                                                                        
                                           			}                                                                             C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000992   d0f2     BRA       0xb78          	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case ELBOW:		//elbow (middle) joint                                             C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           #if MANIP_DEBUG                                                                  C:\2007 final code\manipulator.c
                                           	if (manipulator_counter == 2) {                                                 C:\2007 final code\manipulator.c
                                           		printf("elbow encoder value %d\r", encoder_elbow);                             C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                           #endif                                                                           C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000994   ecce     CALL      0x1b9c,0x0     		if((encoder_elbow >= (goal_joint_position - ENCODER_ELBOW_DEAD_ZONE)) && (encoder_elbow <= (goal_joint_position + ENCODER_ELBOW_DEAD_ZONE))) // if they are within the dead zone, the correct position C:\2007 final code\manipulator.c
000996   f00d                                                                                                               
000998   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
00099a   d002     BRA       0x9a0                                                                                           
00099c   682d     SETF      0x2d,0x0                                                                                        
00099e   682e     SETF      0x2e,0x0                                                                                        
0009a0   ec31     CALL      0x1a62,0x0                                                                                      
0009a2   f00d                                                                                                               
0009a4   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0009a6   d002     BRA       0x9ac                                                                                           
0009a8   3432     RLCF      0x32,0x0,0x0                                                                                    
0009aa   d002     BRA       0x9b0                                                                                           
0009ac   ec7e     CALL      0x1afc,0x0                                                                                      
0009ae   f00d                                                                                                               
0009b0   e315     BNC       0x9dc                                                                                           
0009b2   c3b5     MOVFF     0x3b5,0x33                                                                                      
0009b4   f033                                                                                                               
0009b6   c3b6     MOVFF     0x3b6,0x34                                                                                      
0009b8   f034                                                                                                               
0009ba   6a35     CLRF      0x35,0x0                                                                                        
0009bc   6a36     CLRF      0x36,0x0                                                                                        
0009be   ae34     BTFSS     0x34,0x7,0x0                                                                                    
0009c0   d002     BRA       0x9c6                                                                                           
0009c2   6835     SETF      0x35,0x0                                                                                        
0009c4   6836     SETF      0x36,0x0                                                                                        
0009c6   0e05     MOVLW     0x5                                                                                             
0009c8   ec0c     CALL      0x1a18,0x0                                                                                      
0009ca   f00d                                                                                                               
0009cc   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0009ce   d002     BRA       0x9d4                                                                                           
0009d0   3436     RLCF      0x36,0x0,0x0                                                                                    
0009d2   d002     BRA       0x9d8                                                                                           
0009d4   ec87     CALL      0x1b0e,0x0                                                                                      
0009d6   f00d                                                                                                               
0009d8   e301     BNC       0x9dc                                                                                           
0009da   d0f1     BRA       0xbbe                                                                                           
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           			return 127; // do not move the motor                                          C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                           		else	// if they aren't equal                                                   C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
0009dc   ecce     CALL      0x1b9c,0x0     			if(encoder_elbow < goal_joint_position)	// if the goal joint position is higher than the current value C:\2007 final code\manipulator.c
0009de   f00d                                                                                                               
0009e0   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
0009e2   d002     BRA       0x9e8                                                                                           
0009e4   682d     SETF      0x2d,0x0                                                                                        
0009e6   682e     SETF      0x2e,0x0                                                                                        
0009e8   ec35     CALL      0x1a6a,0x0                                                                                      
0009ea   f00d                                                                                                               
0009ec   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0009ee   d002     BRA       0x9f4                                                                                           
0009f0   341f     RLCF      0x1f,0x0,0x0                                                                                    
0009f2   d002     BRA       0x9f8                                                                                           
0009f4   ec28     CALL      0x1a50,0x0                                                                                      
0009f6   f00d                                                                                                               
0009f8   e205     BC        0xa04                                                                                           
                                           			{                                                                             C:\2007 final code\manipulator.c
                                           			                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0009fa   6adf     CLRF      0xdf,0x0       				hold_value = 0;	// set hold value to correspond to scenario                  C:\2007 final code\manipulator.c
0009fc   0103     MOVLB     0x3            				direction_elbow = 1; // set the encoder direction to positive                C:\2007 final code\manipulator.c
0009fe   0e01     MOVLW     0x1                                                                                             
000a00   6fae     MOVWF     0xae,0x1                                                                                        
                                           			}                                                                             C:\2007 final code\manipulator.c
000a02   d0ba     BRA       0xb78          			else                                                                          C:\2007 final code\manipulator.c
                                           			{                                                                             C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000a04   ecce     CALL      0x1b9c,0x0     				if(encoder_elbow < lower_soft_stop)	// if the goal joint position is lower than the current value C:\2007 final code\manipulator.c
000a06   f00d                                                                                                               
000a08   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
000a0a   d002     BRA       0xa10                                                                                           
000a0c   682d     SETF      0x2d,0x0                                                                                        
000a0e   682e     SETF      0x2e,0x0                                                                                        
000a10   ec44     CALL      0x1a88,0x0                                                                                      
000a12   f00d                                                                                                               
000a14   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000a16   d002     BRA       0xa1c                                                                                           
000a18   341f     RLCF      0x1f,0x0,0x0                                                                                    
000a1a   d002     BRA       0xa20                                                                                           
000a1c   ec28     CALL      0x1a50,0x0                                                                                      
000a1e   f00d                                                                                                               
000a20   e201     BC        0xa24                                                                                           
000a22   d0cd     BRA       0xbbe                                                                                           
001b9c   c3b5     MOVFF     0x3b5,0x2b                                                                                      
001b9e   f02b                                                                                                               
001ba0   c3b6     MOVFF     0x3b6,0x2c                                                                                      
001ba2   f02c                                                                                                               
001ba4   6a2d     CLRF      0x2d,0x0                                                                                        
001ba6   6a2e     CLRF      0x2e,0x0                                                                                        
001ba8   0012     RETURN    0x0                                                                                             
                                           					return 127; // return neutral                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000a24   0e01     MOVLW     0x1            				hold_value = 1;  // set hold value to correspond to scenario                 C:\2007 final code\manipulator.c
000a26   6edf     MOVWF     0xdf,0x0                                                                                        
000a28   0103     MOVLB     0x3            				direction_elbow = -1; // set the encoder direction to negative               C:\2007 final code\manipulator.c
000a2a   69ae     SETF      0xae,0x1                                                                                        
                                           			}                                                                             C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000a2c   d0a5     BRA       0xb78          	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case WRIST:		//wrist joint                                                      C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           #if MANIP_DEBUG                                                                  C:\2007 final code\manipulator.c
                                           if (manipulator_counter == 3)                                                    C:\2007 final code\manipulator.c
                                           printf("wrist encoder value %d\r", encoder_wrist);                               C:\2007 final code\manipulator.c
                                           #endif                                                                           C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000a2e   ecd5     CALL      0x1baa,0x0     if((encoder_wrist >= (goal_joint_position - ENCODER_WRIST_DEAD_ZONE)) && (encoder_wrist <= (goal_joint_position + ENCODER_WRIST_DEAD_ZONE))) // if they are within the dead zone, the correct position C:\2007 final code\manipulator.c
000a30   f00d                                                                                                               
000a32   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
000a34   d002     BRA       0xa3a                                                                                           
000a36   682d     SETF      0x2d,0x0                                                                                        
000a38   682e     SETF      0x2e,0x0                                                                                        
000a3a   ec31     CALL      0x1a62,0x0                                                                                      
000a3c   f00d                                                                                                               
000a3e   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000a40   d002     BRA       0xa46                                                                                           
000a42   3432     RLCF      0x32,0x0,0x0                                                                                    
000a44   d002     BRA       0xa4a                                                                                           
000a46   ec7e     CALL      0x1afc,0x0                                                                                      
000a48   f00d                                                                                                               
000a4a   e315     BNC       0xa76                                                                                           
000a4c   c3b7     MOVFF     0x3b7,0x33                                                                                      
000a4e   f033                                                                                                               
000a50   c3b8     MOVFF     0x3b8,0x34                                                                                      
000a52   f034                                                                                                               
000a54   6a35     CLRF      0x35,0x0                                                                                        
000a56   6a36     CLRF      0x36,0x0                                                                                        
000a58   ae34     BTFSS     0x34,0x7,0x0                                                                                    
000a5a   d002     BRA       0xa60                                                                                           
000a5c   6835     SETF      0x35,0x0                                                                                        
000a5e   6836     SETF      0x36,0x0                                                                                        
000a60   0e05     MOVLW     0x5                                                                                             
000a62   ec0c     CALL      0x1a18,0x0                                                                                      
000a64   f00d                                                                                                               
000a66   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000a68   d002     BRA       0xa6e                                                                                           
000a6a   3436     RLCF      0x36,0x0,0x0                                                                                    
000a6c   d002     BRA       0xa72                                                                                           
000a6e   ec87     CALL      0x1b0e,0x0                                                                                      
000a70   f00d                                                                                                               
000a72   e301     BNC       0xa76                                                                                           
000a74   d0a4     BRA       0xbbe                                                                                           
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           			return 127; // do not move the motor                                          C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                           		else	// if they aren't equal                                                   C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
000a76   ecd5     CALL      0x1baa,0x0     			if(encoder_wrist < goal_joint_position)	// if the goal joint position is higher than the current value C:\2007 final code\manipulator.c
000a78   f00d                                                                                                               
000a7a   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
000a7c   d002     BRA       0xa82                                                                                           
000a7e   682d     SETF      0x2d,0x0                                                                                        
000a80   682e     SETF      0x2e,0x0                                                                                        
000a82   ec35     CALL      0x1a6a,0x0                                                                                      
000a84   f00d                                                                                                               
000a86   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000a88   d002     BRA       0xa8e                                                                                           
000a8a   341f     RLCF      0x1f,0x0,0x0                                                                                    
000a8c   d002     BRA       0xa92                                                                                           
000a8e   ec28     CALL      0x1a50,0x0                                                                                      
000a90   f00d                                                                                                               
000a92   e205     BC        0xa9e                                                                                           
                                           			{                                                                             C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           #if MANIP_DEBUG                                                                  C:\2007 final code\manipulator.c
                                           				if (manipulator_counter == 2)	{                                              C:\2007 final code\manipulator.c
                                           					printf("DID NOT STOP");                                                     C:\2007 final code\manipulator.c
                                           				}                                                                            C:\2007 final code\manipulator.c
                                           #endif                                                                           C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000a94   6adf     CLRF      0xdf,0x0       				hold_value = 0;	// set hold value to correspond to scenario                  C:\2007 final code\manipulator.c
000a96   0103     MOVLB     0x3            				direction_wrist = 1; // set the encoder direction to positive                C:\2007 final code\manipulator.c
000a98   0e01     MOVLW     0x1                                                                                             
000a9a   6faf     MOVWF     0xaf,0x1                                                                                        
                                           			}                                                                             C:\2007 final code\manipulator.c
000a9c   d06d     BRA       0xb78          			else                                                                          C:\2007 final code\manipulator.c
                                           			{                                                                             C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000a9e   ecd5     CALL      0x1baa,0x0     				if(encoder_wrist < lower_soft_stop)	// if the goal joint position is lower than the current value C:\2007 final code\manipulator.c
000aa0   f00d                                                                                                               
000aa2   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
000aa4   d002     BRA       0xaaa                                                                                           
000aa6   682d     SETF      0x2d,0x0                                                                                        
000aa8   682e     SETF      0x2e,0x0                                                                                        
000aaa   ec44     CALL      0x1a88,0x0                                                                                      
000aac   f00d                                                                                                               
000aae   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000ab0   d002     BRA       0xab6                                                                                           
000ab2   341f     RLCF      0x1f,0x0,0x0                                                                                    
000ab4   d002     BRA       0xaba                                                                                           
000ab6   ec28     CALL      0x1a50,0x0                                                                                      
000ab8   f00d                                                                                                               
000aba   e201     BC        0xabe                                                                                           
000abc   d080     BRA       0xbbe                                                                                           
001baa   c3b7     MOVFF     0x3b7,0x2b                                                                                      
001bac   f02b                                                                                                               
001bae   c3b8     MOVFF     0x3b8,0x2c                                                                                      
001bb0   f02c                                                                                                               
001bb2   6a2d     CLRF      0x2d,0x0                                                                                        
001bb4   6a2e     CLRF      0x2e,0x0                                                                                        
001bb6   0012     RETURN    0x0                                                                                             
                                           					return 127; // return neutral                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           				#if MANIP_DEBUG                                                              C:\2007 final code\manipulator.c
                                           				if (manipulator_counter == 2)                                                C:\2007 final code\manipulator.c
                                           				printf("did not stop");                                                      C:\2007 final code\manipulator.c
                                           				#endif                                                                       C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000abe   0e01     MOVLW     0x1            				hold_value = 1;  // set hold value to correspond to scenario                 C:\2007 final code\manipulator.c
000ac0   6edf     MOVWF     0xdf,0x0                                                                                        
000ac2   0103     MOVLB     0x3            				direction_wrist = -1; // set the encoder direction to negative               C:\2007 final code\manipulator.c
000ac4   69af     SETF      0xaf,0x1                                                                                        
                                           			}                                                                             C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000ac6   d058     BRA       0xb78          	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case GRIPPER:		//gripper joint                                                  C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	                                                                                C:\2007 final code\manipulator.c
                                           #if 1                                                                            C:\2007 final code\manipulator.c
000ac8   0e04     MOVLW     0x4            	if (manipulator_counter == 4) {                                                 C:\2007 final code\manipulator.c
000aca   0103     MOVLB     0x3                                                                                             
000acc   5db1     SUBWF     0xb1,0x0,0x1                                                                                    
000ace   e10b     BNZ       0xae6                                                                                           
000ad0   c3b9     MOVFF     0x3b9,0xfe6    		printf("\gripper encoder value %d\r", encoder_gripper);                        C:\2007 final code\manipulator.c
000ad2   ffe6                                                                                                               
000ad4   c3ba     MOVFF     0x3ba,0xfe6                                                                                     
000ad6   ffe6                                                                                                               
000ad8   0eb1     MOVLW     0xb1                                                                                            
000ada   6ee6     MOVWF     0xe6,0x0                                                                                        
000adc   0e47     MOVLW     0x47                                                                                            
000ade   6ee6     MOVWF     0xe6,0x0                                                                                        
000ae0   0e00     MOVLW     0x0                                                                                             
000ae2   ec9e     CALL      0x1b3c,0x0                                                                                      
000ae4   f00d                                                                                                               
                                           	}                                                                               C:\2007 final code\manipulator.c
                                           #endif                                                                           C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000ae6   ecdc     CALL      0x1bb8,0x0     		if((encoder_gripper >= (goal_joint_position - ENCODER_GRIPPER_DEAD_ZONE)) && (encoder_gripper <= (goal_joint_position + ENCODER_GRIPPER_DEAD_ZONE))) // if they are within the dead zone, the correct position C:\2007 final code\manipulator.c
000ae8   f00d                                                                                                               
000aea   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
000aec   d002     BRA       0xaf2                                                                                           
000aee   682d     SETF      0x2d,0x0                                                                                        
000af0   682e     SETF      0x2e,0x0                                                                                        
000af2   ec31     CALL      0x1a62,0x0                                                                                      
000af4   f00d                                                                                                               
000af6   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000af8   d002     BRA       0xafe                                                                                           
000afa   3432     RLCF      0x32,0x0,0x0                                                                                    
000afc   d002     BRA       0xb02                                                                                           
000afe   ec7e     CALL      0x1afc,0x0                                                                                      
000b00   f00d                                                                                                               
000b02   e314     BNC       0xb2c                                                                                           
000b04   c3b9     MOVFF     0x3b9,0x33                                                                                      
000b06   f033                                                                                                               
000b08   c3ba     MOVFF     0x3ba,0x34                                                                                      
000b0a   f034                                                                                                               
000b0c   6a35     CLRF      0x35,0x0                                                                                        
000b0e   6a36     CLRF      0x36,0x0                                                                                        
000b10   ae34     BTFSS     0x34,0x7,0x0                                                                                    
000b12   d002     BRA       0xb18                                                                                           
000b14   6835     SETF      0x35,0x0                                                                                        
000b16   6836     SETF      0x36,0x0                                                                                        
000b18   0e05     MOVLW     0x5                                                                                             
000b1a   ec0c     CALL      0x1a18,0x0                                                                                      
000b1c   f00d                                                                                                               
000b1e   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000b20   d002     BRA       0xb26                                                                                           
000b22   3436     RLCF      0x36,0x0,0x0                                                                                    
000b24   d002     BRA       0xb2a                                                                                           
000b26   ec87     CALL      0x1b0e,0x0                                                                                      
000b28   f00d                                                                                                               
000b2a   e249     BC        0xbbe                                                                                           
001a18   6e37     MOVWF     0x37,0x0                                                                                        
001a1a   6a38     CLRF      0x38,0x0                                                                                        
001a1c   6a39     CLRF      0x39,0x0                                                                                        
001a1e   6a3a     CLRF      0x3a,0x0                                                                                        
001a20   50d9     MOVF      0xd9,0x0,0x0                                                                                    
001a22   0ffb     ADDLW     0xfb                                                                                            
001a24   6ee9     MOVWF     0xe9,0x0                                                                                        
001a26   0eff     MOVLW     0xff                                                                                            
001a28   20da     ADDWFC    0xda,0x0,0x0                                                                                    
001a2a   6eea     MOVWF     0xea,0x0                                                                                        
001a2c   50ee     MOVF      0xee,0x0,0x0                                                                                    
001a2e   2637     ADDWF     0x37,0x1,0x0                                                                                    
001a30   50ee     MOVF      0xee,0x0,0x0                                                                                    
001a32   2238     ADDWFC    0x38,0x1,0x0                                                                                    
001a34   50ee     MOVF      0xee,0x0,0x0                                                                                    
001a36   2239     ADDWFC    0x39,0x1,0x0                                                                                    
001a38   50ee     MOVF      0xee,0x0,0x0                                                                                    
001a3a   223a     ADDWFC    0x3a,0x1,0x0                                                                                    
001a3c   503a     MOVF      0x3a,0x0,0x0                                                                                    
001a3e   1836     XORWF     0x36,0x0,0x0                                                                                    
001a40   0012     RETURN    0x0                                                                                             
001a62   d944     RCALL     0x1cec                                                                                          
001a64   0e05     MOVLW     0x5                                                                                             
001a66   efa6     GOTO      0x1d4c                                                                                          
001a68   f00e                                                                                                               
001afc   502f     MOVF      0x2f,0x0,0x0                                                                                    
001afe   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
001b00   5030     MOVF      0x30,0x0,0x0                                                                                    
001b02   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
001b04   5031     MOVF      0x31,0x0,0x0                                                                                    
001b06   582d     SUBWFB    0x2d,0x0,0x0                                                                                    
001b08   5032     MOVF      0x32,0x0,0x0                                                                                    
001b0a   582e     SUBWFB    0x2e,0x0,0x0                                                                                    
001b0c   0012     RETURN    0x0                                                                                             
001b0e   5033     MOVF      0x33,0x0,0x0                                                                                    
001b10   5c37     SUBWF     0x37,0x0,0x0                                                                                    
001b12   5034     MOVF      0x34,0x0,0x0                                                                                    
001b14   5838     SUBWFB    0x38,0x0,0x0                                                                                    
001b16   5035     MOVF      0x35,0x0,0x0                                                                                    
001b18   5839     SUBWFB    0x39,0x0,0x0                                                                                    
001b1a   5036     MOVF      0x36,0x0,0x0                                                                                    
001b1c   583a     SUBWFB    0x3a,0x0,0x0                                                                                    
001b1e   0012     RETURN    0x0                                                                                             
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           			return 127; // do not move the motor                                          C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                           		else                                                                           C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
000b2c   ecdc     CALL      0x1bb8,0x0     			if(encoder_gripper < goal_joint_position)	// if the goal joint position is higher than the current value C:\2007 final code\manipulator.c
000b2e   f00d                                                                                                               
000b30   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
000b32   d002     BRA       0xb38                                                                                           
000b34   682d     SETF      0x2d,0x0                                                                                        
000b36   682e     SETF      0x2e,0x0                                                                                        
000b38   ec35     CALL      0x1a6a,0x0                                                                                      
000b3a   f00d                                                                                                               
000b3c   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000b3e   d002     BRA       0xb44                                                                                           
000b40   341f     RLCF      0x1f,0x0,0x0                                                                                    
000b42   d002     BRA       0xb48                                                                                           
000b44   ec28     CALL      0x1a50,0x0                                                                                      
000b46   f00d                                                                                                               
000b48   e204     BC        0xb52                                                                                           
001a6a   0efb     MOVLW     0xfb                                                                                            
001a6c   cfdb     MOVFF     0xfdb,0x1c                                                                                      
001a6e   f01c                                                                                                               
001a70   0efc     MOVLW     0xfc                                                                                            
001a72   cfdb     MOVFF     0xfdb,0x1d                                                                                      
001a74   f01d                                                                                                               
001a76   0efd     MOVLW     0xfd                                                                                            
001a78   cfdb     MOVFF     0xfdb,0x1e                                                                                      
001a7a   f01e                                                                                                               
001a7c   0efe     MOVLW     0xfe                                                                                            
001a7e   cfdb     MOVFF     0xfdb,0x1f                                                                                      
001a80   f01f                                                                                                               
001a82   502e     MOVF      0x2e,0x0,0x0                                                                                    
001a84   181f     XORWF     0x1f,0x0,0x0                                                                                    
001a86   0012     RETURN    0x0                                                                                             
                                           			{                                                                             C:\2007 final code\manipulator.c
                                           //				if(encoder_gripper > upper_soft_stop) // if the current value exceeds the upper soft stop C:\2007 final code\manipulator.c
                                           //					return 127;	// return neutral                                             C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           //				if(encoder_gripper < lower_soft_stop)	// if the goal joint position is lower than the current value C:\2007 final code\manipulator.c
                                           //					return 127; // return neutral                                             C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000b4a   6adf     CLRF      0xdf,0x0       				hold_value = 0;	// set hold value to correspond to scenario                  C:\2007 final code\manipulator.c
000b4c   0103     MOVLB     0x3            				direction_gripper = -1; // set the encoder direction to negative             C:\2007 final code\manipulator.c
000b4e   69b0     SETF      0xb0,0x1                                                                                        
                                           			}                                                                             C:\2007 final code\manipulator.c
000b50   d013     BRA       0xb78          			else                                                                          C:\2007 final code\manipulator.c
                                           			{                                                                             C:\2007 final code\manipulator.c
                                           //				if(encoder_gripper > upper_soft_stop) // if the current value exceeds the upper soft stop C:\2007 final code\manipulator.c
                                           //					return 127;	// return neutral                                             C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000b52   ecdc     CALL      0x1bb8,0x0     				if(encoder_gripper < lower_soft_stop)	// if the goal joint position is lower than the current value C:\2007 final code\manipulator.c
000b54   f00d                                                                                                               
000b56   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
000b58   d002     BRA       0xb5e                                                                                           
000b5a   682d     SETF      0x2d,0x0                                                                                        
000b5c   682e     SETF      0x2e,0x0                                                                                        
000b5e   ec44     CALL      0x1a88,0x0                                                                                      
000b60   f00d                                                                                                               
000b62   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000b64   d002     BRA       0xb6a                                                                                           
000b66   341f     RLCF      0x1f,0x0,0x0                                                                                    
000b68   d002     BRA       0xb6e                                                                                           
000b6a   ec28     CALL      0x1a50,0x0                                                                                      
000b6c   f00d                                                                                                               
000b6e   e327     BNC       0xbbe                                                                                           
001a50   501c     MOVF      0x1c,0x0,0x0                                                                                    
001a52   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
001a54   501d     MOVF      0x1d,0x0,0x0                                                                                    
001a56   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
001a58   501e     MOVF      0x1e,0x0,0x0                                                                                    
001a5a   582d     SUBWFB    0x2d,0x0,0x0                                                                                    
001a5c   501f     MOVF      0x1f,0x0,0x0                                                                                    
001a5e   582e     SUBWFB    0x2e,0x0,0x0                                                                                    
001a60   0012     RETURN    0x0                                                                                             
001a88   0ef1     MOVLW     0xf1                                                                                            
001a8a   cfdb     MOVFF     0xfdb,0x1c                                                                                      
001a8c   f01c                                                                                                               
001a8e   0ef2     MOVLW     0xf2                                                                                            
001a90   cfdb     MOVFF     0xfdb,0x1d                                                                                      
001a92   f01d                                                                                                               
001a94   0ef3     MOVLW     0xf3                                                                                            
001a96   cfdb     MOVFF     0xfdb,0x1e                                                                                      
001a98   f01e                                                                                                               
001a9a   0ef4     MOVLW     0xf4                                                                                            
001a9c   cfdb     MOVFF     0xfdb,0x1f                                                                                      
001a9e   f01f                                                                                                               
001aa0   502e     MOVF      0x2e,0x0,0x0                                                                                    
001aa2   181f     XORWF     0x1f,0x0,0x0                                                                                    
001aa4   0012     RETURN    0x0                                                                                             
001bb8   c3b9     MOVFF     0x3b9,0x2b                                                                                      
001bba   f02b                                                                                                               
001bbc   c3ba     MOVFF     0x3ba,0x2c                                                                                      
001bbe   f02c                                                                                                               
001bc0   6a2d     CLRF      0x2d,0x0                                                                                        
001bc2   6a2e     CLRF      0x2e,0x0                                                                                        
001bc4   0012     RETURN    0x0                                                                                             
                                           					return 127; // return neutral                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000b70   0e01     MOVLW     0x1            				hold_value = 1;  // set hold value to correspond to scenario                 C:\2007 final code\manipulator.c
000b72   6edf     MOVWF     0xdf,0x0                                                                                        
000b74   0103     MOVLB     0x3            				direction_gripper = 1; // set the encoder direction to positive              C:\2007 final code\manipulator.c
000b76   6fb0     MOVWF     0xb0,0x1                                                                                        
                                           			}                                                                             C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000b78   04df     DECF      0xdf,0x0,0x0   	if(hold_value == 1)	// if scenario where the goal joint position is higher than the current value	 C:\2007 final code\manipulator.c
000b7a   e10c     BNZ       0xb94                                                                                           
                                           	{                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000b7c   0ef9     MOVLW     0xf9           		hold_value = 127 + desired_speed_of_movement; // set output to hold_value      C:\2007 final code\manipulator.c
000b7e   50db     MOVF      0xdb,0x0,0x0                                                                                    
000b80   0f7f     ADDLW     0x7f                                                                                            
000b82   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            C:\2007 final code\manipulator.c
000b84   0efa     MOVLW     0xfa           		if((joint_to_be_moved == GRIPPER) && (LIMIT_SWITCH_GRIPPER == 1)) // if the gripper is the joint in question and the gripper override is on C:\2007 final code\manipulator.c
000b86   50db     MOVF      0xdb,0x0,0x0                                                                                    
000b88   0808     SUBLW     0x8                                                                                             
000b8a   e123     BNZ       0xbd2                                                                                           
000b8c   5087     MOVF      0x87,0x0,0x0                                                                                    
000b8e   0b08     ANDLW     0x8                                                                                             
000b90   e020     BZ        0xbd2                                                                                           
000b92   d015     BRA       0xbbe          			return 127; // return neutral                                                 C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                           	else	// if scenario where the goal joint position is higher than the current value	 C:\2007 final code\manipulator.c
                                           	{                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000b94   0efa     MOVLW     0xfa           		if((joint_to_be_moved == BASE) && (LIMIT_SWITCH_BASE == 1)) // if the base is the joint in question and the base override is on C:\2007 final code\manipulator.c
000b96   50db     MOVF      0xdb,0x0,0x0                                                                                    
000b98   0805     SUBLW     0x5                                                                                             
000b9a   e103     BNZ       0xba2                                                                                           
000b9c   5087     MOVF      0x87,0x0,0x0                                                                                    
000b9e   0b01     ANDLW     0x1                                                                                             
000ba0   e10e     BNZ       0xbbe                                                                                           
                                           			return 127; // return neutral                                                 C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000ba2   0efa     MOVLW     0xfa           		if((joint_to_be_moved == ELBOW) && (LIMIT_SWITCH_ELBOW == 1)) // if the elbow is the joint in question and the elbow override is on C:\2007 final code\manipulator.c
000ba4   50db     MOVF      0xdb,0x0,0x0                                                                                    
000ba6   0806     SUBLW     0x6                                                                                             
000ba8   e103     BNZ       0xbb0                                                                                           
000baa   5087     MOVF      0x87,0x0,0x0                                                                                    
000bac   0b02     ANDLW     0x2                                                                                             
000bae   e107     BNZ       0xbbe                                                                                           
                                           			return 127; // return neutral                                                 C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000bb0   0efa     MOVLW     0xfa           		if((joint_to_be_moved == WRIST) && (LIMIT_SWITCH_WRIST == 1)) // if the wrist is the joint in question and the wrist override is on C:\2007 final code\manipulator.c
000bb2   50db     MOVF      0xdb,0x0,0x0                                                                                    
000bb4   0807     SUBLW     0x7                                                                                             
000bb6   e105     BNZ       0xbc2                                                                                           
000bb8   5087     MOVF      0x87,0x0,0x0                                                                                    
000bba   0b04     ANDLW     0x4                                                                                             
000bbc   e002     BZ        0xbc2                                                                                           
000bbe   0e7f     MOVLW     0x7f           			return 127; // return neutral                                                 C:\2007 final code\manipulator.c
000bc0   d009     BRA       0xbd4                                                                                           
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000bc2   0ef9     MOVLW     0xf9           		hold_value = 127 - desired_speed_of_movement; // set output to hold value      C:\2007 final code\manipulator.c
000bc4   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
000bc6   ffe6                                                                                                               
000bc8   0e7f     MOVLW     0x7f                                                                                            
000bca   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000bcc   80d8     BSF       0xd8,0x0,0x0                                                                                    
000bce   54e7     SUBFWB    0xe7,0x0,0x0                                                                                    
000bd0   6edf     MOVWF     0xdf,0x0                                                                                        
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000bd2   50df     MOVF      0xdf,0x0,0x0   	return hold_value; // return the value determined by the mathematical logic     C:\2007 final code\manipulator.c
000bd4   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\manipulator.c
000bd6   efba     GOTO      0x1b74                                                                                          
000bd8   f00d                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           /********************* Manipulator Manual Adjustment Code ************************* C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           Inputs:                                                                          C:\2007 final code\manipulator.c
                                           	unsigned char input_value: 0-254 value from analog input device                 C:\2007 final code\manipulator.c
                                           	unsigned char reduction_factor: a percentage of 0-100                           C:\2007 final code\manipulator.c
                                           Output:                                                                          C:\2007 final code\manipulator.c
                                           	A value from 0 to 254 for a joint motor                                         C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           **********************************************************************************/ C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000bda   ecc2     CALL      0x1d84,0x0     unsigned char manipulator_manual_adjustment(int input_value, unsigned char reduction_factor, unsigned char joint_to_be_moved) C:\2007 final code\manipulator.c
000bdc   f00e                                                                                                               
                                           {                                                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	int hold_value;	// hold value for different steps of the function               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000bde   0efb     MOVLW     0xfb           	switch(joint_to_be_moved) //  set encoder direction values and check limit switches based on which joint is inputed C:\2007 final code\manipulator.c
000be0   50db     MOVF      0xdb,0x0,0x0                                                                                    
000be2   0a07     XORLW     0x7                                                                                             
000be4   e03e     BZ        0xc62                                                                                           
000be6   0a01     XORLW     0x1                                                                                             
000be8   e01f     BZ        0xc28                                                                                           
000bea   0a03     XORLW     0x3                                                                                             
000bec   e159     BNZ       0xca0                                                                                           
                                           	{                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case BASE:                                                                      C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000bee   ec72     CALL      0x1ce4,0x0     		if(input_value < (127 - 7)) // if base value is backwards                      C:\2007 final code\manipulator.c
000bf0   f00e                                                                                                               
000bf2   e602     BN        0xbf8                                                                                           
000bf4   ecbe     CALL      0x1b7c,0x0                                                                                      
000bf6   f00d                                                                                                               
000bf8   e204     BC        0xc02                                                                                           
                                           		{                                                                              C:\2007 final code\manipulator.c
000bfa   0103     MOVLB     0x3            			direction_base = 1; // set encoder direction as positive                      C:\2007 final code\manipulator.c
000bfc   0e01     MOVLW     0x1                                                                                             
000bfe   6fad     MOVWF     0xad,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\manipulator.c
000c00   d009     BRA       0xc14          		else if(input_value > (127 + 7)) // if base direction is forwards              C:\2007 final code\manipulator.c
000c02   ec21     CALL      0x1a42,0x0                                                                                      
000c04   f00d                                                                                                               
000c06   342c     RLCF      0x2c,0x0,0x0                                                                                    
000c08   e302     BNC       0xc0e                                                                                           
000c0a   ec50     CALL      0x1ca0,0x0                                                                                      
000c0c   f00e                                                                                                               
000c0e   e202     BC        0xc14                                                                                           
                                           		{                                                                              C:\2007 final code\manipulator.c
000c10   0103     MOVLB     0x3            			direction_base = -1; // set encoder direction as negative                     C:\2007 final code\manipulator.c
000c12   69ad     SETF      0xad,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000c14   ec72     CALL      0x1ce4,0x0     		if((input_value < (127 - 7)) && (LIMIT_SWITCH_BASE == 1)) // if base value is backwards and base is at home C:\2007 final code\manipulator.c
000c16   f00e                                                                                                               
000c18   e602     BN        0xc1e                                                                                           
000c1a   ecbe     CALL      0x1b7c,0x0                                                                                      
000c1c   f00d                                                                                                               
000c1e   e240     BC        0xca0                                                                                           
000c20   5087     MOVF      0x87,0x0,0x0                                                                                    
000c22   0b01     ANDLW     0x1                                                                                             
000c24   e03d     BZ        0xca0                                                                                           
                                           		{                                                                              C:\2007 final code\manipulator.c
000c26   d04f     BRA       0xcc6          			return 127; // return neutral                                                 C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case ELBOW:                                                                     C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000c28   ec72     CALL      0x1ce4,0x0     		if(input_value < (127 - 7)) // if elbow value is backwards                     C:\2007 final code\manipulator.c
000c2a   f00e                                                                                                               
000c2c   e602     BN        0xc32                                                                                           
000c2e   ecbe     CALL      0x1b7c,0x0                                                                                      
000c30   f00d                                                                                                               
000c32   e204     BC        0xc3c                                                                                           
                                           		{                                                                              C:\2007 final code\manipulator.c
000c34   0103     MOVLB     0x3            			direction_elbow = 1; // set encoder direction as positive                     C:\2007 final code\manipulator.c
000c36   0e01     MOVLW     0x1                                                                                             
000c38   6fae     MOVWF     0xae,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\manipulator.c
000c3a   d009     BRA       0xc4e          		else if(input_value > (127 + 7)) // if elbow direction is forwards             C:\2007 final code\manipulator.c
000c3c   ec21     CALL      0x1a42,0x0                                                                                      
000c3e   f00d                                                                                                               
000c40   342c     RLCF      0x2c,0x0,0x0                                                                                    
000c42   e302     BNC       0xc48                                                                                           
000c44   ec50     CALL      0x1ca0,0x0                                                                                      
000c46   f00e                                                                                                               
000c48   e202     BC        0xc4e                                                                                           
                                           		{                                                                              C:\2007 final code\manipulator.c
000c4a   0103     MOVLB     0x3            			direction_elbow = -1; // set encoder  direction as negative                   C:\2007 final code\manipulator.c
000c4c   69ae     SETF      0xae,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000c4e   ec72     CALL      0x1ce4,0x0     		if((input_value < (127 - 7)) && (LIMIT_SWITCH_ELBOW == 1)) // if elbow value is backwards and elbow is at home C:\2007 final code\manipulator.c
000c50   f00e                                                                                                               
000c52   e602     BN        0xc58                                                                                           
000c54   ecbe     CALL      0x1b7c,0x0                                                                                      
000c56   f00d                                                                                                               
000c58   e223     BC        0xca0                                                                                           
000c5a   5087     MOVF      0x87,0x0,0x0                                                                                    
000c5c   0b02     ANDLW     0x2                                                                                             
000c5e   e020     BZ        0xca0                                                                                           
                                           		{                                                                              C:\2007 final code\manipulator.c
000c60   d032     BRA       0xcc6          			return 127; // return neutral                                                 C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                           		                                                                               C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case WRIST:                                                                     C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000c62   ec72     CALL      0x1ce4,0x0     		if(input_value < (127 - 7)) // if wrist value is backwards                     C:\2007 final code\manipulator.c
000c64   f00e                                                                                                               
000c66   e602     BN        0xc6c                                                                                           
000c68   ecbe     CALL      0x1b7c,0x0                                                                                      
000c6a   f00d                                                                                                               
000c6c   e204     BC        0xc76                                                                                           
                                           		{                                                                              C:\2007 final code\manipulator.c
000c6e   0103     MOVLB     0x3            			direction_wrist = 1; // set encoder direction as positive                     C:\2007 final code\manipulator.c
000c70   0e01     MOVLW     0x1                                                                                             
000c72   6faf     MOVWF     0xaf,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\manipulator.c
000c74   d009     BRA       0xc88          		else if(input_value > (127 + 7)) // if wrist value is forwards                 C:\2007 final code\manipulator.c
000c76   ec21     CALL      0x1a42,0x0                                                                                      
000c78   f00d                                                                                                               
000c7a   342c     RLCF      0x2c,0x0,0x0                                                                                    
000c7c   e302     BNC       0xc82                                                                                           
000c7e   ec50     CALL      0x1ca0,0x0                                                                                      
000c80   f00e                                                                                                               
000c82   e202     BC        0xc88                                                                                           
001ca0   502b     MOVF      0x2b,0x0,0x0                                                                                    
001ca2   0886     SUBLW     0x86                                                                                            
001ca4   0eff     MOVLW     0xff                                                                                            
001ca6   542c     SUBFWB    0x2c,0x0,0x0                                                                                    
001ca8   0012     RETURN    0x0                                                                                             
                                           		{                                                                              C:\2007 final code\manipulator.c
000c84   0103     MOVLB     0x3            			direction_wrist = -1; // set encoder direction as negative                    C:\2007 final code\manipulator.c
000c86   69af     SETF      0xaf,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000c88   ec72     CALL      0x1ce4,0x0     		if((input_value < (127 - 7)) && (LIMIT_SWITCH_WRIST == 1) && (rotary_dial)) // if wrist direction is backwards and wrist is at home, and we're not in full override C:\2007 final code\manipulator.c
000c8a   f00e                                                                                                               
000c8c   e602     BN        0xc92                                                                                           
000c8e   ecbe     CALL      0x1b7c,0x0                                                                                      
000c90   f00d                                                                                                               
000c92   e206     BC        0xca0                                                                                           
000c94   5087     MOVF      0x87,0x0,0x0                                                                                    
000c96   0b04     ANDLW     0x4                                                                                             
000c98   e003     BZ        0xca0                                                                                           
000c9a   0103     MOVLB     0x3                                                                                             
000c9c   5131     MOVF      0x31,0x0,0x1                                                                                    
000c9e   e113     BNZ       0xcc6                                                                                           
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           			return 127; // return neutral                                                 C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                           		break;                                                                         C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000ca0   ec72     CALL      0x1ce4,0x0     	if ((input_value >= (127 - 7)) && (input_value <= (127 + 7))) //if in the dead zone C:\2007 final code\manipulator.c
000ca2   f00e                                                                                                               
000ca4   e602     BN        0xcaa                                                                                           
000ca6   ecbe     CALL      0x1b7c,0x0                                                                                      
000ca8   f00d                                                                                                               
000caa   e30f     BNC       0xcca                                                                                           
000cac   0efd     MOVLW     0xfd                                                                                            
000cae   cfdb     MOVFF     0xfdb,0x2d                                                                                      
000cb0   f02d                                                                                                               
000cb2   0efe     MOVLW     0xfe                                                                                            
000cb4   cfdb     MOVFF     0xfdb,0x2e                                                                                      
000cb6   f02e                                                                                                               
000cb8   342e     RLCF      0x2e,0x0,0x0                                                                                    
000cba   e307     BNC       0xcca                                                                                           
000cbc   502d     MOVF      0x2d,0x0,0x0                                                                                    
000cbe   0886     SUBLW     0x86                                                                                            
000cc0   0eff     MOVLW     0xff                                                                                            
000cc2   542e     SUBFWB    0x2e,0x0,0x0                                                                                    
000cc4   e302     BNC       0xcca                                                                                           
001b7c   0e78     MOVLW     0x78                                                                                            
001b7e   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
001b80   0e00     MOVLW     0x0                                                                                             
001b82   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
001b84   0012     RETURN    0x0                                                                                             
000cc6   0e7f     MOVLW     0x7f           		return 127;	//return neutral                                                   C:\2007 final code\manipulator.c
000cc8   d058     BRA       0xd7a                                                                                           
                                                                                                                            C:\2007 final code\manipulator.c
000cca   ec72     CALL      0x1ce4,0x0     	if (input_value < 127)						// if backwards                                     C:\2007 final code\manipulator.c
000ccc   f00e                                                                                                               
000cce   e604     BN        0xcd8                                                                                           
000cd0   0e7f     MOVLW     0x7f                                                                                            
000cd2   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
000cd4   0e00     MOVLW     0x0                                                                                             
000cd6   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
000cd8   e20b     BC        0xcf0                                                                                           
                                           	{                                                                               C:\2007 final code\manipulator.c
000cda   ecb5     CALL      0x1d6a,0x0     		hold_value = -1 * (input_value - 127);	// convert to 0 - 127 number            C:\2007 final code\manipulator.c
000cdc   f00e                                                                                                               
000cde   681d     SETF      0x1d,0x0                                                                                        
000ce0   681e     SETF      0x1e,0x0                                                                                        
000ce2   c02b     MOVFF     0x2b,0x22                                                                                       
000ce4   f022                                                                                                               
000ce6   c02c     MOVFF     0x2c,0x23                                                                                       
000ce8   f023                                                                                                               
000cea   ecf5     CALL      0x1bea,0x0                                                                                      
000cec   f00d                                                                                                               
001bea   ec98     CALL      0x6d30,0x0                                                                                      
001bec   f036                                                                                                               
001bee   c01b     MOVFF     0x1b,0xfde                                                                                      
001bf0   ffde                                                                                                               
001bf2   c01c     MOVFF     0x1c,0xfdd                                                                                      
001bf4   ffdd                                                                                                               
001bf6   0012     RETURN    0x0                                                                                             
001d6a   de6b     RCALL     0x1a42                                                                                          
001d6c   0e7f     MOVLW     0x7f                                                                                            
001d6e   5e2b     SUBWF     0x2b,0x1,0x0                                                                                    
001d70   0e00     MOVLW     0x0                                                                                             
001d72   5a2c     SUBWFB    0x2c,0x1,0x0                                                                                    
001d74   0012     RETURN    0x0                                                                                             
                                           	}                                                                               C:\2007 final code\manipulator.c
000cee   d006     BRA       0xcfc          	else										// if forwards                                                    C:\2007 final code\manipulator.c
                                           	{                                                                               C:\2007 final code\manipulator.c
000cf0   ecb5     CALL      0x1d6a,0x0     		hold_value = input_value - 127;		// convert to 0 - 127 number	                 C:\2007 final code\manipulator.c
000cf2   f00e                                                                                                               
000cf4   c02b     MOVFF     0x2b,0xfde                                                                                      
000cf6   ffde                                                                                                               
000cf8   c02c     MOVFF     0x2c,0xfdd                                                                                      
000cfa   ffdd                                                                                                               
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000cfc   0efc     MOVLW     0xfc           	hold_value = hold_value * reduction_factor ; //multiply by percentage input_value * reduction_factor  C:\2007 final code\manipulator.c
000cfe   50db     MOVF      0xdb,0x0,0x0                                                                                    
000d00   6e2b     MOVWF     0x2b,0x0                                                                                        
000d02   6a2c     CLRF      0x2c,0x0                                                                                        
000d04   6e1d     MOVWF     0x1d,0x0                                                                                        
000d06   c02c     MOVFF     0x2c,0x1e                                                                                       
000d08   f01e                                                                                                               
000d0a   cfde     MOVFF     0xfde,0x22                                                                                      
000d0c   f022                                                                                                               
000d0e   cfdd     MOVFF     0xfdd,0x23                                                                                      
000d10   f023                                                                                                               
000d12   ecf5     CALL      0x1bea,0x0                                                                                      
000d14   f00d                                                                                                               
000d16   0e64     MOVLW     0x64           	hold_value = hold_value / 100;	//divide by 100 to regain 0-127 value            C:\2007 final code\manipulator.c
000d18   6e2b     MOVWF     0x2b,0x0                                                                                        
000d1a   6a2c     CLRF      0x2c,0x0                                                                                        
000d1c   6e22     MOVWF     0x22,0x0                                                                                        
000d1e   c02c     MOVFF     0x2c,0x23                                                                                       
000d20   f023                                                                                                               
000d22   cfde     MOVFF     0xfde,0x1d                                                                                      
000d24   f01d                                                                                                               
000d26   cfdd     MOVFF     0xfdd,0x1e                                                                                      
000d28   f01e                                                                                                               
000d2a   ec3e     CALL      0x6c7c,0x0                                                                                      
000d2c   f036                                                                                                               
000d2e   c01d     MOVFF     0x1d,0xfde                                                                                      
000d30   ffde                                                                                                               
000d32   c01e     MOVFF     0x1e,0xfdd                                                                                      
000d34   ffdd                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
000d36   ec72     CALL      0x1ce4,0x0     	if (input_value < 127)						// if backwards                                     C:\2007 final code\manipulator.c
000d38   f00e                                                                                                               
000d3a   e604     BN        0xd44                                                                                           
000d3c   0e7f     MOVLW     0x7f                                                                                            
000d3e   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
000d40   0e00     MOVLW     0x0                                                                                             
000d42   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
000d44   e20d     BC        0xd60                                                                                           
001a42   0efd     MOVLW     0xfd                                                                                            
001a44   cfdb     MOVFF     0xfdb,0x2b                                                                                      
001a46   f02b                                                                                                               
001a48   0efe     MOVLW     0xfe                                                                                            
001a4a   cfdb     MOVFF     0xfdb,0x2c                                                                                      
001a4c   f02c                                                                                                               
001a4e   0012     RETURN    0x0                                                                                             
001ce4   deae     RCALL     0x1a42                                                                                          
001ce6   90d8     BCF       0xd8,0x0,0x0                                                                                    
001ce8   502c     MOVF      0x2c,0x0,0x0                                                                                    
001cea   0012     RETURN    0x0                                                                                             
                                           	{                                                                               C:\2007 final code\manipulator.c
000d46   681d     SETF      0x1d,0x0       		hold_value = (-1 * hold_value) + 127;	// convert to 0 - 254 number             C:\2007 final code\manipulator.c
000d48   681e     SETF      0x1e,0x0                                                                                        
000d4a   cfde     MOVFF     0xfde,0x22                                                                                      
000d4c   f022                                                                                                               
000d4e   cfdd     MOVFF     0xfdd,0x23                                                                                      
000d50   f023                                                                                                               
000d52   ec98     CALL      0x6d30,0x0                                                                                      
000d54   f036                                                                                                               
000d56   c01b     MOVFF     0x1b,0x2b                                                                                       
000d58   f02b                                                                                                               
000d5a   c01c     MOVFF     0x1c,0x2c                                                                                       
000d5c   f02c                                                                                                               
                                           	}                                                                               C:\2007 final code\manipulator.c
000d5e   d004     BRA       0xd68          	else										// if forwards                                                    C:\2007 final code\manipulator.c
                                           	{                                                                               C:\2007 final code\manipulator.c
000d60   cfde     MOVFF     0xfde,0x2b     		hold_value = hold_value + 127;			// convert to 0 - 254 number	                 C:\2007 final code\manipulator.c
000d62   f02b                                                                                                               
000d64   cfdd     MOVFF     0xfdd,0x2c                                                                                      
000d66   f02c                                                                                                               
000d68   0e7f     MOVLW     0x7f                                                                                            
000d6a   262b     ADDWF     0x2b,0x1,0x0                                                                                    
000d6c   0e00     MOVLW     0x0                                                                                             
000d6e   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
000d70   c02b     MOVFF     0x2b,0xfde                                                                                      
000d72   ffde                                                                                                               
000d74   c02c     MOVFF     0x2c,0xfdd                                                                                      
000d76   ffdd                                                                                                               
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000d78   50df     MOVF      0xdf,0x0,0x0   return hold_value; //return the determined value                                 C:\2007 final code\manipulator.c
000d7a   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\manipulator.c
000d7c   ffe1                                                                                                               
000d7e   efba     GOTO      0x1b74                                                                                          
000d80   f00d                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           /**************** Teleoperated Manipulator Master Control Code ******************** C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           Inputs:                                                                          C:\2007 final code\manipulator.c
                                           	Uses global variables from copilot box and home base limit switches as well as encoders functions (but no inputs are passed into function) C:\2007 final code\manipulator.c
                                           Output:                                                                          C:\2007 final code\manipulator.c
                                           	Sets PWM05, PWM06, PWM07 and PWM08 (but no direct output)                       C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           **********************************************************************************/ C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000d82   ecb5     CALL      0x1b6a,0x0     void teleoperated_manipulator_master_control(void)                               C:\2007 final code\manipulator.c
000d84   f00d                                                                                                               
000d86   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           static unsigned char 	base_override = 0; // used to hold base override on or off C:\2007 final code\manipulator.c
                                           static unsigned char	elbow_override = 0; // used to hold elbow override on or off C:\2007 final code\manipulator.c
                                           static unsigned char	wrist_override = 0; // used to hold wrist override on or off C:\2007 final code\manipulator.c
                                           static unsigned char	last_rotary_dial = 0; // used to reset overrides when rotary dial changes C:\2007 final code\manipulator.c
                                           unsigned char			hold_value; // used as a general value holder in this function   C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           #if LED_DEBUG                                                                    C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           printf("in teleoperated_master control \r");                                     C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           #endif                                                                           C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000d88   0103     MOVLB     0x3            	manipulator_counter ++; // add to the counter	                                  C:\2007 final code\manipulator.c
000d8a   2bb1     INCF      0xb1,0x1,0x1                                                                                    
000d8c   0e10     MOVLW     0x10           	if (manipulator_counter == 16) // if counter equals 16                          C:\2007 final code\manipulator.c
000d8e   5db1     SUBWF     0xb1,0x0,0x1                                                                                    
000d90   e101     BNZ       0xd94                                                                                           
000d92   6bb1     CLRF      0xb1,0x1       		manipulator_counter = 0; // reset counter                                      C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           #if MANIP_DEBUG                                                                  C:\2007 final code\manipulator.c
                                           	if (manipulator_counter == 0)                                                   C:\2007 final code\manipulator.c
                                           		printf("MANIPULATOR DEBUG LOOP RESET\r\r");                                    C:\2007 final code\manipulator.c
                                           	if (manipulator_counter == 5)                                                   C:\2007 final code\manipulator.c
                                           		printf("teleoperated_manipulator_mc: Rotary Dial: %d\r",rotary_dial);          C:\2007 final code\manipulator.c
                                           #endif                                                                           C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000d94   0e0f     MOVLW     0xf            	if(manipulator_counter == 15) // if counter equals 15                           C:\2007 final code\manipulator.c
000d96   5db1     SUBWF     0xb1,0x0,0x1                                                                                    
000d98   e102     BNZ       0xd9e                                                                                           
                                           	{                                                                               C:\2007 final code\manipulator.c
000d9a   ec5d     CALL      0x1aba,0x0     		encoder_base = (int)ENCODER_BASE;  //  set base encoder global variable to current value from base encoder C:\2007 final code\manipulator.c
000d9c   f00d                                                                                                               
001aba   ec1b     CALL      0x6636,0x0                                                                                      
001abc   f033                                                                                                               
001abe   c01b     MOVFF     0x1b,0x3b3                                                                                      
001ac0   f3b3                                                                                                               
001ac2   c01c     MOVFF     0x1c,0x3b4                                                                                      
001ac4   f3b4                                                                                                               
001ac6   ec48     CALL      0x6690,0x0     		encoder_elbow = (int)ENCODER_ELBOW; //  set elbow encoder global variable to current value from elbow encoder C:\2007 final code\manipulator.c
001ac8   f033                                                                                                               
001aca   c01b     MOVFF     0x1b,0x3b5                                                                                      
001acc   f3b5                                                                                                               
001ace   c01c     MOVFF     0x1c,0x3b6                                                                                      
001ad0   f3b6                                                                                                               
001ad2   ec75     CALL      0x66ea,0x0     		encoder_wrist = (int)ENCODER_WRIST; //  set wrist encoder global variable to current value from wrist encoder C:\2007 final code\manipulator.c
001ad4   f033                                                                                                               
001ad6   c01b     MOVFF     0x1b,0x3b7                                                                                      
001ad8   f3b7                                                                                                               
001ada   c01c     MOVFF     0x1c,0x3b8                                                                                      
001adc   f3b8                                                                                                               
001ade   eca2     CALL      0x6744,0x0     		encoder_gripper = (int)ENCODER_GRIPPER; //  set gripper encoder global variable to current value from gripper encoder C:\2007 final code\manipulator.c
001ae0   f033                                                                                                               
001ae2   c01b     MOVFF     0x1b,0x3b9                                                                                      
001ae4   f3b9                                                                                                               
001ae6   c01c     MOVFF     0x1c,0x3ba                                                                                      
001ae8   f3ba                                                                                                               
001aea   0012     RETURN    0x0                                                                                             
                                           #if MANIP_DEBUG                                                                  C:\2007 final code\manipulator.c
                                           		printf("checking encoder counts");                                             C:\2007 final code\manipulator.c
                                           #endif                                                                           C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           #if MANIP_GENERAL_INFO                                                           C:\2007 final code\manipulator.c
                                           printf("encoders: base, elbow, wrist, gripper, \r%d,%d,%d,%d\r", encoder_base, encoder_elbow, encoder_wrist, encoder_gripper); C:\2007 final code\manipulator.c
                                           #endif                                                                           C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000d9e   a087     BTFSS     0x87,0x0,0x0   	if(LIMIT_SWITCH_BASE == 1)	//home for encoder 3                                 C:\2007 final code\manipulator.c
000da0   d002     BRA       0xda6                                                                                           
000da2   ec2a     CALL      0x6654,0x0     		Reset_Encoder_3_Count();		//resets encoder 3                                   C:\2007 final code\manipulator.c
000da4   f033                                                                                                               
                                           	                                                                                C:\2007 final code\manipulator.c
000da6   a287     BTFSS     0x87,0x1,0x0   	if(LIMIT_SWITCH_ELBOW == 1)	//home for encoder 4                                C:\2007 final code\manipulator.c
000da8   d002     BRA       0xdae                                                                                           
000daa   ec57     CALL      0x66ae,0x0     		Reset_Encoder_4_Count();		//resets encoder 4                                   C:\2007 final code\manipulator.c
000dac   f033                                                                                                               
                                           	                                                                                C:\2007 final code\manipulator.c
000dae   a487     BTFSS     0x87,0x2,0x0   	if(LIMIT_SWITCH_WRIST == 1)	//home for encoder 5                                C:\2007 final code\manipulator.c
000db0   d002     BRA       0xdb6                                                                                           
000db2   ec84     CALL      0x6708,0x0     		Reset_Encoder_5_Count();		//resets encoder 5                                   C:\2007 final code\manipulator.c
000db4   f033                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
000db6   a687     BTFSS     0x87,0x3,0x0   	if(LIMIT_SWITCH_GRIPPER == 1)	//home for encoder 6                              C:\2007 final code\manipulator.c
000db8   d002     BRA       0xdbe                                                                                           
000dba   ecb1     CALL      0x6762,0x0     		Reset_Encoder_6_Count();		//resets encoder 6                                   C:\2007 final code\manipulator.c
000dbc   f033                                                                                                               
                                           		                                                                               C:\2007 final code\manipulator.c
                                           #if MANIP_GENERAL_INFO		                                                         C:\2007 final code\manipulator.c
                                           printf("limit switches: base, elbow, wrist, gripper, \r%d,%d,%d,%d\r\r", rc_dig_in07, rc_dig_in08, rc_dig_in09, rc_dig_in10); C:\2007 final code\manipulator.c
                                           #endif                                                                           C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000dbe   0e78     MOVLW     0x78           	if((mini_joystick_1 < (127 - BASE_DEAD_ZONE)) || (mini_joystick_1 > (127 + BASE_DEAD_ZONE))) //if base analog stick leaves dead zone C:\2007 final code\manipulator.c
000dc0   0103     MOVLB     0x3                                                                                             
000dc2   5d33     SUBWF     0x33,0x0,0x1                                                                                    
000dc4   e303     BNC       0xdcc                                                                                           
000dc6   5133     MOVF      0x33,0x0,0x1                                                                                    
000dc8   0886     SUBLW     0x86                                                                                            
000dca   e203     BC        0xdd2                                                                                           
000dcc   0103     MOVLB     0x3            		base_override = 1;	// turn on base override                                    C:\2007 final code\manipulator.c
000dce   0e01     MOVLW     0x1                                                                                             
000dd0   6fbb     MOVWF     0xbb,0x1                                                                                        
                                                                                                                            C:\2007 final code\manipulator.c
000dd2   0e78     MOVLW     0x78           	if((mini_joystick_2 < (127 - ELBOW_DEAD_ZONE)) || (mini_joystick_2 > (127 + ELBOW_DEAD_ZONE))) //if elbow analog stick leaves dead zone C:\2007 final code\manipulator.c
000dd4   0103     MOVLB     0x3                                                                                             
000dd6   5d34     SUBWF     0x34,0x0,0x1                                                                                    
000dd8   e303     BNC       0xde0                                                                                           
000dda   5134     MOVF      0x34,0x0,0x1                                                                                    
000ddc   0886     SUBLW     0x86                                                                                            
000dde   e203     BC        0xde6                                                                                           
000de0   0103     MOVLB     0x3            		elbow_override = 1;	// turn on elbow override                                  C:\2007 final code\manipulator.c
000de2   0e01     MOVLW     0x1                                                                                             
000de4   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                                                                                            C:\2007 final code\manipulator.c
000de6   0e78     MOVLW     0x78           	if((mini_joystick_3 < (127 - WRIST_DEAD_ZONE)) || (mini_joystick_3 > (127 + WRIST_DEAD_ZONE))) //if wrist analog stick leaves dead zone C:\2007 final code\manipulator.c
000de8   0103     MOVLB     0x3                                                                                             
000dea   5d35     SUBWF     0x35,0x0,0x1                                                                                    
000dec   e303     BNC       0xdf4                                                                                           
000dee   5135     MOVF      0x35,0x0,0x1                                                                                    
000df0   0886     SUBLW     0x86                                                                                            
000df2   e203     BC        0xdfa                                                                                           
000df4   0103     MOVLB     0x3            		wrist_override = 1;	// turn on wrist override                                  C:\2007 final code\manipulator.c
000df6   0e01     MOVLW     0x1                                                                                             
000df8   6fbd     MOVWF     0xbd,0x1                                                                                        
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000dfa   0103     MOVLB     0x3            	if(last_rotary_dial != rotary_dial)	// if the rotary dial has changed           C:\2007 final code\manipulator.c
000dfc   5131     MOVF      0x31,0x0,0x1                                                                                    
000dfe   0103     MOVLB     0x3                                                                                             
000e00   5dbe     SUBWF     0xbe,0x0,0x1                                                                                    
000e02   e005     BZ        0xe0e                                                                                           
                                           	{                                                                               C:\2007 final code\manipulator.c
000e04   c331     MOVFF     0x331,0x3be    		last_rotary_dial = rotary_dial;	// adjust the last known information for the rotary dial C:\2007 final code\manipulator.c
000e06   f3be                                                                                                               
000e08   6bbb     CLRF      0xbb,0x1       		base_override = 0; // remove the base override	                                C:\2007 final code\manipulator.c
000e0a   6bbc     CLRF      0xbc,0x1       		elbow_override = 0; // remove the elbow override                               C:\2007 final code\manipulator.c
000e0c   6bbd     CLRF      0xbd,0x1       		wrist_override = 0; // remove the wrist override                               C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	//RED LED code                                                                  C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000e0e   05bb     DECF      0xbb,0x0,0x1   	if((base_override == 1) || (elbow_override == 1) || (wrist_override == 1))  // If any of the overrides are on C:\2007 final code\manipulator.c
000e10   e004     BZ        0xe1a                                                                                           
000e12   05bc     DECF      0xbc,0x0,0x1                                                                                    
000e14   e002     BZ        0xe1a                                                                                           
000e16   05bd     DECF      0xbd,0x0,0x1                                                                                    
000e18   e103     BNZ       0xe20                                                                                           
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           		#if LED_DEBUG                                                                  C:\2007 final code\manipulator.c
                                           		printf("Red LED on \r");                                                       C:\2007 final code\manipulator.c
                                           		#endif                                                                         C:\2007 final code\manipulator.c
000e1a   0102     MOVLB     0x2            		Relay2_red = 1;  // turn on the red LED                                        C:\2007 final code\manipulator.c
000e1c   8dbd     BSF       0xbd,0x6,0x1                                                                                    
                                           		}                                                                              C:\2007 final code\manipulator.c
000e1e   d002     BRA       0xe24          	else // if an override is on                                                    C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           		#if LED_DEBUG                                                                  C:\2007 final code\manipulator.c
                                           		printf("Red LED off \r");                                                      C:\2007 final code\manipulator.c
                                           		#endif                                                                         C:\2007 final code\manipulator.c
000e20   0102     MOVLB     0x2            		Relay2_red = 0; // turn off the red LED                                        C:\2007 final code\manipulator.c
000e22   9dbd     BCF       0xbd,0x6,0x1                                                                                    
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	//GREEN LED code                                                                C:\2007 final code\manipulator.c
                                           	                                                                                C:\2007 final code\manipulator.c
000e24   0103     MOVLB     0x3            	switch(rotary_dial)                                                             C:\2007 final code\manipulator.c
000e26   5131     MOVF      0x31,0x0,0x1                                                                                    
000e28   0a05     XORLW     0x5                                                                                             
000e2a   e101     BNZ       0xe2e                                                                                           
000e2c   d17b     BRA       0x1124                                                                                          
000e2e   0a01     XORLW     0x1                                                                                             
000e30   e101     BNZ       0xe34                                                                                           
000e32   d11e     BRA       0x1070                                                                                          
000e34   0a07     XORLW     0x7                                                                                             
000e36   e101     BNZ       0xe3a                                                                                           
000e38   d0c0     BRA       0xfba                                                                                           
000e3a   0a01     XORLW     0x1                                                                                             
000e3c   e061     BZ        0xf00                                                                                           
000e3e   0a03     XORLW     0x3                                                                                             
000e40   e004     BZ        0xe4a                                                                                           
000e42   0a01     XORLW     0x1                                                                                             
000e44   e001     BZ        0xe48                                                                                           
000e46   d1c7     BRA       0x11d6                                                                                          
                                           	{                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 0: // override                                                             C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           		Relay2_green = 0;                                                              C:\2007 final code\manipulator.c
000e48   d1c4     BRA       0x11d2         	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 1: // BOX                                                                  C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000e4a   c336     MOVFF     0x336,0x2b     		if((encoder_base >= (BASE_POSITION_BOX - ENCODER_BASE_DEAD_ZONE)) && (encoder_base <= (BASE_POSITION_BOX + ENCODER_BASE_DEAD_ZONE))) // if base is within the dead zone C:\2007 final code\manipulator.c
000e4c   f02b                                                                                                               
000e4e   c337     MOVFF     0x337,0x2c                                                                                      
000e50   f02c                                                                                                               
000e52   ec76     CALL      0x1aec,0x0                                                                                      
000e54   f00d                                                                                                               
000e56   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000e58   d002     BRA       0xe5e                                                                                           
000e5a   342c     RLCF      0x2c,0x0,0x0                                                                                    
000e5c   d002     BRA       0xe62                                                                                           
000e5e   ec90     CALL      0x1b20,0x0                                                                                      
000e60   f00d                                                                                                               
000e62   e201     BC        0xe66                                                                                           
000e64   d1b6     BRA       0x11d2                                                                                          
000e66   0e02     MOVLW     0x2                                                                                             
000e68   0103     MOVLB     0x3                                                                                             
000e6a   6a2e     CLRF      0x2e,0x0                                                                                        
000e6c   2536     ADDWF     0x36,0x0,0x1                                                                                    
000e6e   6e2d     MOVWF     0x2d,0x0                                                                                        
000e70   5137     MOVF      0x37,0x0,0x1                                                                                    
000e72   ec53     CALL      0x1aa6,0x0                                                                                      
000e74   f00d                                                                                                               
000e76   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000e78   d002     BRA       0xe7e                                                                                           
000e7a   35b4     RLCF      0xb4,0x0,0x1                                                                                    
000e7c   d002     BRA       0xe82                                                                                           
000e7e   ec58     CALL      0x1ab0,0x0                                                                                      
000e80   f00d                                                                                                               
000e82   e201     BC        0xe86                                                                                           
000e84   d1a6     BRA       0x11d2                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
000e86   c340     MOVFF     0x340,0x2b     			if((encoder_elbow >= (ELBOW_POSITION_BOX - ENCODER_ELBOW_DEAD_ZONE)) && (encoder_base <= (ELBOW_POSITION_BOX + ENCODER_ELBOW_DEAD_ZONE))) // if base is within the dead zone C:\2007 final code\manipulator.c
000e88   f02b                                                                                                               
000e8a   c341     MOVFF     0x341,0x2c                                                                                      
000e8c   f02c                                                                                                               
000e8e   ec90     CALL      0x1d20,0x0                                                                                      
000e90   f00e                                                                                                               
000e92   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000e94   d002     BRA       0xe9a                                                                                           
000e96   342c     RLCF      0x2c,0x0,0x0                                                                                    
000e98   d002     BRA       0xe9e                                                                                           
000e9a   ece3     CALL      0x1bc6,0x0                                                                                      
000e9c   f00d                                                                                                               
000e9e   e201     BC        0xea2                                                                                           
000ea0   d198     BRA       0x11d2                                                                                          
000ea2   0e05     MOVLW     0x5                                                                                             
000ea4   0103     MOVLB     0x3                                                                                             
000ea6   6a2e     CLRF      0x2e,0x0                                                                                        
000ea8   2540     ADDWF     0x40,0x0,0x1                                                                                    
000eaa   6e2d     MOVWF     0x2d,0x0                                                                                        
000eac   5141     MOVF      0x41,0x0,0x1                                                                                    
000eae   ec53     CALL      0x1aa6,0x0                                                                                      
000eb0   f00d                                                                                                               
000eb2   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000eb4   d002     BRA       0xeba                                                                                           
000eb6   35b4     RLCF      0xb4,0x0,0x1                                                                                    
000eb8   d002     BRA       0xebe                                                                                           
000eba   ec58     CALL      0x1ab0,0x0                                                                                      
000ebc   f00d                                                                                                               
000ebe   e201     BC        0xec2                                                                                           
000ec0   d188     BRA       0x11d2                                                                                          
                                           			{                                                                             C:\2007 final code\manipulator.c
000ec2   c34a     MOVFF     0x34a,0x2b     				if((encoder_base >= (WRIST_POSITION_BOX - ENCODER_WRIST_DEAD_ZONE)) && (encoder_base <= (WRIST_POSITION_BOX + ENCODER_WRIST_DEAD_ZONE))) // if wrist is within the dead zone C:\2007 final code\manipulator.c
000ec4   f02b                                                                                                               
000ec6   c34b     MOVFF     0x34b,0x2c                                                                                      
000ec8   f02c                                                                                                               
000eca   ec94     CALL      0x1d28,0x0                                                                                      
000ecc   f00e                                                                                                               
000ece   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000ed0   d002     BRA       0xed6                                                                                           
000ed2   342c     RLCF      0x2c,0x0,0x0                                                                                    
000ed4   d002     BRA       0xeda                                                                                           
000ed6   ec90     CALL      0x1b20,0x0                                                                                      
000ed8   f00d                                                                                                               
000eda   e201     BC        0xede                                                                                           
000edc   d17a     BRA       0x11d2                                                                                          
000ede   0e05     MOVLW     0x5                                                                                             
000ee0   0103     MOVLB     0x3                                                                                             
000ee2   6a2e     CLRF      0x2e,0x0                                                                                        
000ee4   254a     ADDWF     0x4a,0x0,0x1                                                                                    
000ee6   6e2d     MOVWF     0x2d,0x0                                                                                        
000ee8   514b     MOVF      0x4b,0x0,0x1                                                                                    
000eea   ec53     CALL      0x1aa6,0x0                                                                                      
000eec   f00d                                                                                                               
000eee   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000ef0   d002     BRA       0xef6                                                                                           
000ef2   35b4     RLCF      0xb4,0x0,0x1                                                                                    
000ef4   d002     BRA       0xefa                                                                                           
000ef6   ec58     CALL      0x1ab0,0x0                                                                                      
000ef8   f00d                                                                                                               
000efa   e201     BC        0xefe                                                                                           
000efc   d16a     BRA       0x11d2                                                                                          
                                           				{		                                                                          C:\2007 final code\manipulator.c
                                           					Relay2_green = 1; // turn on the green LED because we are in alignment      C:\2007 final code\manipulator.c
                                           					#if LED_DEBUG                                                               C:\2007 final code\manipulator.c
                                           					printf("Green LED on \r");                                                  C:\2007 final code\manipulator.c
                                           					#endif                                                                      C:\2007 final code\manipulator.c
                                           				}                                                                            C:\2007 final code\manipulator.c
000efe   d110     BRA       0x1120         				else // if wrist is not in alignment                                         C:\2007 final code\manipulator.c
                                           				{	                                                                           C:\2007 final code\manipulator.c
                                           					#if LED_DEBUG                                                               C:\2007 final code\manipulator.c
                                           					printf("Green LED off \r");                                                 C:\2007 final code\manipulator.c
                                           					#endif                                                                      C:\2007 final code\manipulator.c
                                           					Relay2_green = 0; // turn off the green LED because we are not in alignment C:\2007 final code\manipulator.c
                                           				}                                                                            C:\2007 final code\manipulator.c
                                           			}                                                                             C:\2007 final code\manipulator.c
                                           			else  // if elbow is not in alignment                                         C:\2007 final code\manipulator.c
                                           			{                                                                             C:\2007 final code\manipulator.c
                                           				#if LED_DEBUG                                                                C:\2007 final code\manipulator.c
                                           				printf("Green LED off \r");                                                  C:\2007 final code\manipulator.c
                                           				#endif                                                                       C:\2007 final code\manipulator.c
                                           				Relay2_green = 0; // turn off the green LED because we are not in alignment  C:\2007 final code\manipulator.c
                                           			}                                                                             C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                           		else // if base is not in alignment                                            C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           			#if LED_DEBUG                                                                 C:\2007 final code\manipulator.c
                                           			printf("Green LED off \r");                                                   C:\2007 final code\manipulator.c
                                           			#endif                                                                        C:\2007 final code\manipulator.c
                                           			Relay2_green = 0; // turn off the green LED because we are not in alignment   C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 2: // FLOOR                                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000f00   c338     MOVFF     0x338,0x2b     		if((encoder_base >= (BASE_POSITION_FLOOR - ENCODER_BASE_DEAD_ZONE)) && (encoder_base <= (BASE_POSITION_FLOOR + ENCODER_BASE_DEAD_ZONE))) // if base is within the dead zone C:\2007 final code\manipulator.c
000f02   f02b                                                                                                               
000f04   c339     MOVFF     0x339,0x2c                                                                                      
000f06   f02c                                                                                                               
000f08   ec76     CALL      0x1aec,0x0                                                                                      
000f0a   f00d                                                                                                               
000f0c   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000f0e   d002     BRA       0xf14                                                                                           
000f10   342c     RLCF      0x2c,0x0,0x0                                                                                    
000f12   d002     BRA       0xf18                                                                                           
000f14   ec90     CALL      0x1b20,0x0                                                                                      
000f16   f00d                                                                                                               
000f18   e201     BC        0xf1c                                                                                           
000f1a   d15b     BRA       0x11d2                                                                                          
000f1c   0e02     MOVLW     0x2                                                                                             
000f1e   0103     MOVLB     0x3                                                                                             
000f20   6a2e     CLRF      0x2e,0x0                                                                                        
000f22   2538     ADDWF     0x38,0x0,0x1                                                                                    
000f24   6e2d     MOVWF     0x2d,0x0                                                                                        
000f26   5139     MOVF      0x39,0x0,0x1                                                                                    
000f28   ec53     CALL      0x1aa6,0x0                                                                                      
000f2a   f00d                                                                                                               
000f2c   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000f2e   d002     BRA       0xf34                                                                                           
000f30   35b4     RLCF      0xb4,0x0,0x1                                                                                    
000f32   d002     BRA       0xf38                                                                                           
000f34   ec58     CALL      0x1ab0,0x0                                                                                      
000f36   f00d                                                                                                               
000f38   e201     BC        0xf3c                                                                                           
000f3a   d14b     BRA       0x11d2                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
000f3c   c342     MOVFF     0x342,0x2b     			if((encoder_elbow >= (ELBOW_POSITION_FLOOR - ENCODER_ELBOW_DEAD_ZONE)) && (encoder_base <= (ELBOW_POSITION_FLOOR + ENCODER_ELBOW_DEAD_ZONE))) // if base is within the dead zone C:\2007 final code\manipulator.c
000f3e   f02b                                                                                                               
000f40   c343     MOVFF     0x343,0x2c                                                                                      
000f42   f02c                                                                                                               
000f44   ec90     CALL      0x1d20,0x0                                                                                      
000f46   f00e                                                                                                               
000f48   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000f4a   d002     BRA       0xf50                                                                                           
000f4c   342c     RLCF      0x2c,0x0,0x0                                                                                    
000f4e   d002     BRA       0xf54                                                                                           
000f50   ece3     CALL      0x1bc6,0x0                                                                                      
000f52   f00d                                                                                                               
000f54   e201     BC        0xf58                                                                                           
000f56   d13d     BRA       0x11d2                                                                                          
000f58   0e05     MOVLW     0x5                                                                                             
000f5a   0103     MOVLB     0x3                                                                                             
000f5c   6a2e     CLRF      0x2e,0x0                                                                                        
000f5e   2542     ADDWF     0x42,0x0,0x1                                                                                    
000f60   6e2d     MOVWF     0x2d,0x0                                                                                        
000f62   5143     MOVF      0x43,0x0,0x1                                                                                    
000f64   ec53     CALL      0x1aa6,0x0                                                                                      
000f66   f00d                                                                                                               
000f68   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000f6a   d002     BRA       0xf70                                                                                           
000f6c   35b4     RLCF      0xb4,0x0,0x1                                                                                    
000f6e   d002     BRA       0xf74                                                                                           
000f70   ec58     CALL      0x1ab0,0x0                                                                                      
000f72   f00d                                                                                                               
000f74   e201     BC        0xf78                                                                                           
000f76   d12d     BRA       0x11d2                                                                                          
                                           			{                                                                             C:\2007 final code\manipulator.c
000f78   c34c     MOVFF     0x34c,0x2b     				if((encoder_base >= (WRIST_POSITION_FLOOR - ENCODER_WRIST_DEAD_ZONE)) && (encoder_base <= (WRIST_POSITION_FLOOR + ENCODER_WRIST_DEAD_ZONE))) // if wrist is within the dead zone C:\2007 final code\manipulator.c
000f7a   f02b                                                                                                               
000f7c   c34d     MOVFF     0x34d,0x2c                                                                                      
000f7e   f02c                                                                                                               
000f80   ec94     CALL      0x1d28,0x0                                                                                      
000f82   f00e                                                                                                               
000f84   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000f86   d002     BRA       0xf8c                                                                                           
000f88   342c     RLCF      0x2c,0x0,0x0                                                                                    
000f8a   d002     BRA       0xf90                                                                                           
000f8c   ec90     CALL      0x1b20,0x0                                                                                      
000f8e   f00d                                                                                                               
000f90   e201     BC        0xf94                                                                                           
000f92   d11f     BRA       0x11d2                                                                                          
000f94   0e05     MOVLW     0x5                                                                                             
000f96   0103     MOVLB     0x3                                                                                             
000f98   6a2e     CLRF      0x2e,0x0                                                                                        
000f9a   254c     ADDWF     0x4c,0x0,0x1                                                                                    
000f9c   6e2d     MOVWF     0x2d,0x0                                                                                        
000f9e   514d     MOVF      0x4d,0x0,0x1                                                                                    
000fa0   ec53     CALL      0x1aa6,0x0                                                                                      
000fa2   f00d                                                                                                               
000fa4   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000fa6   d002     BRA       0xfac                                                                                           
000fa8   35b4     RLCF      0xb4,0x0,0x1                                                                                    
000faa   d002     BRA       0xfb0                                                                                           
000fac   ec58     CALL      0x1ab0,0x0                                                                                      
000fae   f00d                                                                                                               
000fb0   e201     BC        0xfb4                                                                                           
000fb2   d10f     BRA       0x11d2                                                                                          
                                           				{		                                                                          C:\2007 final code\manipulator.c
000fb4   0102     MOVLB     0x2            					Relay2_green = 1; // turn on the green LED because we are in alignment      C:\2007 final code\manipulator.c
000fb6   8fbd     BSF       0xbd,0x7,0x1                                                                                    
                                           					#if LED_DEBUG                                                               C:\2007 final code\manipulator.c
                                           					printf("Green LED on \r");                                                  C:\2007 final code\manipulator.c
                                           					#endif                                                                      C:\2007 final code\manipulator.c
                                           					Relay2_green = 1; // turn on the green LED because we are in alignment      C:\2007 final code\manipulator.c
                                           				}                                                                            C:\2007 final code\manipulator.c
000fb8   d10a     BRA       0x11ce         				else // if wrist is not in alignment                                         C:\2007 final code\manipulator.c
                                           				{	                                                                           C:\2007 final code\manipulator.c
                                           					#if LED_DEBUG                                                               C:\2007 final code\manipulator.c
                                           					printf("Green LED off \r");                                                 C:\2007 final code\manipulator.c
                                           					#endif                                                                      C:\2007 final code\manipulator.c
                                           					Relay2_green = 0; // turn off the green LED because we are not in alignment C:\2007 final code\manipulator.c
                                           				}                                                                            C:\2007 final code\manipulator.c
                                           			}                                                                             C:\2007 final code\manipulator.c
                                           			else  // if elbow is not in alignment                                         C:\2007 final code\manipulator.c
                                           			{                                                                             C:\2007 final code\manipulator.c
                                           				#if LED_DEBUG                                                                C:\2007 final code\manipulator.c
                                           				printf("Green LED off \r");                                                  C:\2007 final code\manipulator.c
                                           				#endif                                                                       C:\2007 final code\manipulator.c
                                           				Relay2_green = 0; // turn off the green LED because we are not in alignment  C:\2007 final code\manipulator.c
                                           			}                                                                             C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                           		else // if base is not in alignment                                            C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           			#if LED_DEBUG                                                                 C:\2007 final code\manipulator.c
                                           			printf("Green LED off \r");                                                   C:\2007 final code\manipulator.c
                                           			#endif                                                                        C:\2007 final code\manipulator.c
                                           			Relay2_green = 0; // turn off the green LED because we are not in alignment   C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 3: // LOW                                                                  C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
000fba   c33a     MOVFF     0x33a,0x2b     		if((encoder_base >= (BASE_POSITION_LOW - ENCODER_BASE_DEAD_ZONE)) && (encoder_base <= (BASE_POSITION_LOW + ENCODER_BASE_DEAD_ZONE))) // if base is within the dead zone C:\2007 final code\manipulator.c
000fbc   f02b                                                                                                               
000fbe   c33b     MOVFF     0x33b,0x2c                                                                                      
000fc0   f02c                                                                                                               
000fc2   ec76     CALL      0x1aec,0x0                                                                                      
000fc4   f00d                                                                                                               
000fc6   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000fc8   d002     BRA       0xfce                                                                                           
000fca   342c     RLCF      0x2c,0x0,0x0                                                                                    
000fcc   d002     BRA       0xfd2                                                                                           
000fce   ec90     CALL      0x1b20,0x0                                                                                      
000fd0   f00d                                                                                                               
000fd2   e201     BC        0xfd6                                                                                           
000fd4   d0fe     BRA       0x11d2                                                                                          
000fd6   0e02     MOVLW     0x2                                                                                             
000fd8   0103     MOVLB     0x3                                                                                             
000fda   6a2e     CLRF      0x2e,0x0                                                                                        
000fdc   253a     ADDWF     0x3a,0x0,0x1                                                                                    
000fde   6e2d     MOVWF     0x2d,0x0                                                                                        
000fe0   513b     MOVF      0x3b,0x0,0x1                                                                                    
000fe2   ec53     CALL      0x1aa6,0x0                                                                                      
000fe4   f00d                                                                                                               
000fe6   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000fe8   d002     BRA       0xfee                                                                                           
000fea   35b4     RLCF      0xb4,0x0,0x1                                                                                    
000fec   d002     BRA       0xff2                                                                                           
000fee   ec58     CALL      0x1ab0,0x0                                                                                      
000ff0   f00d                                                                                                               
000ff2   e201     BC        0xff6                                                                                           
000ff4   d0ee     BRA       0x11d2                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
000ff6   c344     MOVFF     0x344,0x2b     			if((encoder_elbow >= (ELBOW_POSITION_LOW - ENCODER_ELBOW_DEAD_ZONE)) && (encoder_base <= (ELBOW_POSITION_LOW + ENCODER_ELBOW_DEAD_ZONE))) // if base is within the dead zone C:\2007 final code\manipulator.c
000ff8   f02b                                                                                                               
000ffa   c345     MOVFF     0x345,0x2c                                                                                      
000ffc   f02c                                                                                                               
000ffe   ec90     CALL      0x1d20,0x0                                                                                      
001000   f00e                                                                                                               
001002   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
001004   d002     BRA       0x100a                                                                                          
001006   342c     RLCF      0x2c,0x0,0x0                                                                                    
001008   d002     BRA       0x100e                                                                                          
00100a   ece3     CALL      0x1bc6,0x0                                                                                      
00100c   f00d                                                                                                               
00100e   e201     BC        0x1012                                                                                          
001010   d0e0     BRA       0x11d2                                                                                          
001012   0e05     MOVLW     0x5                                                                                             
001014   0103     MOVLB     0x3                                                                                             
001016   6a2e     CLRF      0x2e,0x0                                                                                        
001018   2544     ADDWF     0x44,0x0,0x1                                                                                    
00101a   6e2d     MOVWF     0x2d,0x0                                                                                        
00101c   5145     MOVF      0x45,0x0,0x1                                                                                    
00101e   ec53     CALL      0x1aa6,0x0                                                                                      
001020   f00d                                                                                                               
001022   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
001024   d002     BRA       0x102a                                                                                          
001026   35b4     RLCF      0xb4,0x0,0x1                                                                                    
001028   d002     BRA       0x102e                                                                                          
00102a   ec58     CALL      0x1ab0,0x0                                                                                      
00102c   f00d                                                                                                               
00102e   e201     BC        0x1032                                                                                          
001030   d0d0     BRA       0x11d2                                                                                          
                                           			{                                                                             C:\2007 final code\manipulator.c
001032   c34e     MOVFF     0x34e,0x2b     				if((encoder_base >= (WRIST_POSITION_LOW - ENCODER_WRIST_DEAD_ZONE)) && (encoder_base <= (WRIST_POSITION_LOW + ENCODER_WRIST_DEAD_ZONE))) // if wrist is within the dead zone C:\2007 final code\manipulator.c
001034   f02b                                                                                                               
001036   c34f     MOVFF     0x34f,0x2c                                                                                      
001038   f02c                                                                                                               
00103a   ec94     CALL      0x1d28,0x0                                                                                      
00103c   f00e                                                                                                               
00103e   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
001040   d002     BRA       0x1046                                                                                          
001042   342c     RLCF      0x2c,0x0,0x0                                                                                    
001044   d002     BRA       0x104a                                                                                          
001046   ec90     CALL      0x1b20,0x0                                                                                      
001048   f00d                                                                                                               
00104a   e201     BC        0x104e                                                                                          
00104c   d0c2     BRA       0x11d2                                                                                          
00104e   0e05     MOVLW     0x5                                                                                             
001050   0103     MOVLB     0x3                                                                                             
001052   6a2e     CLRF      0x2e,0x0                                                                                        
001054   254e     ADDWF     0x4e,0x0,0x1                                                                                    
001056   6e2d     MOVWF     0x2d,0x0                                                                                        
001058   514f     MOVF      0x4f,0x0,0x1                                                                                    
00105a   ec53     CALL      0x1aa6,0x0                                                                                      
00105c   f00d                                                                                                               
00105e   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
001060   d002     BRA       0x1066                                                                                          
001062   35b4     RLCF      0xb4,0x0,0x1                                                                                    
001064   d002     BRA       0x106a                                                                                          
001066   ec58     CALL      0x1ab0,0x0                                                                                      
001068   f00d                                                                                                               
00106a   e201     BC        0x106e                                                                                          
00106c   d0b2     BRA       0x11d2                                                                                          
                                           				{		                                                                          C:\2007 final code\manipulator.c
                                           					Relay2_green = 1; // turn on the green LED because we are in alignment      C:\2007 final code\manipulator.c
                                           					#if LED_DEBUG                                                               C:\2007 final code\manipulator.c
                                           					printf("Green LED on \r");                                                  C:\2007 final code\manipulator.c
                                           					#endif                                                                      C:\2007 final code\manipulator.c
                                           				}                                                                            C:\2007 final code\manipulator.c
00106e   d058     BRA       0x1120         				else // if wrist is not in alignment                                         C:\2007 final code\manipulator.c
                                           				{	                                                                           C:\2007 final code\manipulator.c
                                           					#if LED_DEBUG                                                               C:\2007 final code\manipulator.c
                                           					printf("Green LED off \r");                                                 C:\2007 final code\manipulator.c
                                           					#endif                                                                      C:\2007 final code\manipulator.c
                                           					Relay2_green = 0; // turn off the green LED because we are not in alignment C:\2007 final code\manipulator.c
                                           				}                                                                            C:\2007 final code\manipulator.c
                                           			}                                                                             C:\2007 final code\manipulator.c
                                           			else  // if elbow is not in alignment                                         C:\2007 final code\manipulator.c
                                           			{                                                                             C:\2007 final code\manipulator.c
                                           				#if LED_DEBUG                                                                C:\2007 final code\manipulator.c
                                           				printf("Green LED off \r");                                                  C:\2007 final code\manipulator.c
                                           				#endif                                                                       C:\2007 final code\manipulator.c
                                           				Relay2_green = 0; // turn off the green LED because we are not in alignment  C:\2007 final code\manipulator.c
                                           			}                                                                             C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                           		else // if base is not in alignment                                            C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           			#if LED_DEBUG                                                                 C:\2007 final code\manipulator.c
                                           			printf("Green LED off \r");                                                   C:\2007 final code\manipulator.c
                                           			#endif                                                                        C:\2007 final code\manipulator.c
                                           			Relay2_green = 0; // turn off the green LED because we are not in alignment   C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 4: // MIDDLE                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001070   c33c     MOVFF     0x33c,0x2b     		if((encoder_base >= (BASE_POSITION_MIDDLE - ENCODER_BASE_DEAD_ZONE)) && (encoder_base <= (BASE_POSITION_MIDDLE + ENCODER_BASE_DEAD_ZONE))) // if base is within the dead zone C:\2007 final code\manipulator.c
001072   f02b                                                                                                               
001074   c33d     MOVFF     0x33d,0x2c                                                                                      
001076   f02c                                                                                                               
001078   ec76     CALL      0x1aec,0x0                                                                                      
00107a   f00d                                                                                                               
00107c   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
00107e   d002     BRA       0x1084                                                                                          
001080   342c     RLCF      0x2c,0x0,0x0                                                                                    
001082   d002     BRA       0x1088                                                                                          
001084   ec90     CALL      0x1b20,0x0                                                                                      
001086   f00d                                                                                                               
001088   e201     BC        0x108c                                                                                          
00108a   d0a3     BRA       0x11d2                                                                                          
00108c   0e02     MOVLW     0x2                                                                                             
00108e   0103     MOVLB     0x3                                                                                             
001090   6a2e     CLRF      0x2e,0x0                                                                                        
001092   253c     ADDWF     0x3c,0x0,0x1                                                                                    
001094   6e2d     MOVWF     0x2d,0x0                                                                                        
001096   513d     MOVF      0x3d,0x0,0x1                                                                                    
001098   ec53     CALL      0x1aa6,0x0                                                                                      
00109a   f00d                                                                                                               
00109c   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
00109e   d002     BRA       0x10a4                                                                                          
0010a0   35b4     RLCF      0xb4,0x0,0x1                                                                                    
0010a2   d002     BRA       0x10a8                                                                                          
0010a4   ec58     CALL      0x1ab0,0x0                                                                                      
0010a6   f00d                                                                                                               
0010a8   e201     BC        0x10ac                                                                                          
0010aa   d093     BRA       0x11d2                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
0010ac   c346     MOVFF     0x346,0x2b     			if((encoder_elbow >= (ELBOW_POSITION_MIDDLE - ENCODER_ELBOW_DEAD_ZONE)) && (encoder_base <= (ELBOW_POSITION_MIDDLE + ENCODER_ELBOW_DEAD_ZONE))) // if base is within the dead zone C:\2007 final code\manipulator.c
0010ae   f02b                                                                                                               
0010b0   c347     MOVFF     0x347,0x2c                                                                                      
0010b2   f02c                                                                                                               
0010b4   ec90     CALL      0x1d20,0x0                                                                                      
0010b6   f00e                                                                                                               
0010b8   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0010ba   d002     BRA       0x10c0                                                                                          
0010bc   342c     RLCF      0x2c,0x0,0x0                                                                                    
0010be   d002     BRA       0x10c4                                                                                          
0010c0   ece3     CALL      0x1bc6,0x0                                                                                      
0010c2   f00d                                                                                                               
0010c4   e201     BC        0x10c8                                                                                          
0010c6   d085     BRA       0x11d2                                                                                          
0010c8   0e05     MOVLW     0x5                                                                                             
0010ca   0103     MOVLB     0x3                                                                                             
0010cc   6a2e     CLRF      0x2e,0x0                                                                                        
0010ce   2546     ADDWF     0x46,0x0,0x1                                                                                    
0010d0   6e2d     MOVWF     0x2d,0x0                                                                                        
0010d2   5147     MOVF      0x47,0x0,0x1                                                                                    
0010d4   ec53     CALL      0x1aa6,0x0                                                                                      
0010d6   f00d                                                                                                               
0010d8   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0010da   d002     BRA       0x10e0                                                                                          
0010dc   35b4     RLCF      0xb4,0x0,0x1                                                                                    
0010de   d002     BRA       0x10e4                                                                                          
0010e0   ec58     CALL      0x1ab0,0x0                                                                                      
0010e2   f00d                                                                                                               
0010e4   e201     BC        0x10e8                                                                                          
0010e6   d075     BRA       0x11d2                                                                                          
                                           			{                                                                             C:\2007 final code\manipulator.c
0010e8   c350     MOVFF     0x350,0x2b     				if((encoder_base >= (WRIST_POSITION_MIDDLE - ENCODER_WRIST_DEAD_ZONE)) && (encoder_base <= (WRIST_POSITION_MIDDLE + ENCODER_WRIST_DEAD_ZONE))) // if wrist is within the dead zone C:\2007 final code\manipulator.c
0010ea   f02b                                                                                                               
0010ec   c351     MOVFF     0x351,0x2c                                                                                      
0010ee   f02c                                                                                                               
0010f0   ec94     CALL      0x1d28,0x0                                                                                      
0010f2   f00e                                                                                                               
0010f4   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0010f6   d002     BRA       0x10fc                                                                                          
0010f8   342c     RLCF      0x2c,0x0,0x0                                                                                    
0010fa   d002     BRA       0x1100                                                                                          
0010fc   ec90     CALL      0x1b20,0x0                                                                                      
0010fe   f00d                                                                                                               
001100   e368     BNC       0x11d2                                                                                          
001102   0e05     MOVLW     0x5                                                                                             
001104   0103     MOVLB     0x3                                                                                             
001106   6a2e     CLRF      0x2e,0x0                                                                                        
001108   2550     ADDWF     0x50,0x0,0x1                                                                                    
00110a   6e2d     MOVWF     0x2d,0x0                                                                                        
00110c   5151     MOVF      0x51,0x0,0x1                                                                                    
00110e   ec53     CALL      0x1aa6,0x0                                                                                      
001110   f00d                                                                                                               
001112   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
001114   d002     BRA       0x111a                                                                                          
001116   35b4     RLCF      0xb4,0x0,0x1                                                                                    
001118   d002     BRA       0x111e                                                                                          
00111a   ec58     CALL      0x1ab0,0x0                                                                                      
00111c   f00d                                                                                                               
00111e   e359     BNC       0x11d2                                                                                          
                                           				{			                                                                         C:\2007 final code\manipulator.c
001120   0102     MOVLB     0x2            					Relay2_green = 1; // turn on the green LED because we are in alignment      C:\2007 final code\manipulator.c
                                           					#if LED_DEBUG                                                               C:\2007 final code\manipulator.c
                                           					printf("Green LED on \r");                                                  C:\2007 final code\manipulator.c
                                           					#endif                                                                      C:\2007 final code\manipulator.c
                                           				}                                                                            C:\2007 final code\manipulator.c
001122   d055     BRA       0x11ce         				else // if wrist is not in alignment                                         C:\2007 final code\manipulator.c
                                           				{	                                                                           C:\2007 final code\manipulator.c
                                           					#if LED_DEBUG                                                               C:\2007 final code\manipulator.c
                                           					printf("Green LED off \r");                                                 C:\2007 final code\manipulator.c
                                           					#endif                                                                      C:\2007 final code\manipulator.c
                                           					Relay2_green = 0; // turn off the green LED because we are not in alignment C:\2007 final code\manipulator.c
                                           				}                                                                            C:\2007 final code\manipulator.c
                                           			}                                                                             C:\2007 final code\manipulator.c
                                           			else  // if elbow is not in alignment                                         C:\2007 final code\manipulator.c
                                           			{                                                                             C:\2007 final code\manipulator.c
                                           				#if LED_DEBUG                                                                C:\2007 final code\manipulator.c
                                           				printf("Green LED off \r");                                                  C:\2007 final code\manipulator.c
                                           				#endif                                                                       C:\2007 final code\manipulator.c
                                           				Relay2_green = 0; // turn off the green LED because we are not in alignment  C:\2007 final code\manipulator.c
                                           			}                                                                             C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                           		else // if base is not in alignment                                            C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           			#if LED_DEBUG                                                                 C:\2007 final code\manipulator.c
                                           			printf("Green LED off \r");                                                   C:\2007 final code\manipulator.c
                                           			#endif                                                                        C:\2007 final code\manipulator.c
                                           			Relay2_green = 0; // turn off the green LED because we are not in alignment   C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 5: // HIGH                                                                 C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001124   c33e     MOVFF     0x33e,0x2b     		if((encoder_base >= (BASE_POSITION_HIGH - ENCODER_BASE_DEAD_ZONE)) && (encoder_base <= (BASE_POSITION_HIGH + ENCODER_BASE_DEAD_ZONE))) // if base is within the dead zone C:\2007 final code\manipulator.c
001126   f02b                                                                                                               
001128   c33f     MOVFF     0x33f,0x2c                                                                                      
00112a   f02c                                                                                                               
00112c   ec76     CALL      0x1aec,0x0                                                                                      
00112e   f00d                                                                                                               
001130   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
001132   d002     BRA       0x1138                                                                                          
001134   342c     RLCF      0x2c,0x0,0x0                                                                                    
001136   d002     BRA       0x113c                                                                                          
001138   ec90     CALL      0x1b20,0x0                                                                                      
00113a   f00d                                                                                                               
00113c   e34a     BNC       0x11d2                                                                                          
00113e   0e02     MOVLW     0x2                                                                                             
001140   0103     MOVLB     0x3                                                                                             
001142   6a2e     CLRF      0x2e,0x0                                                                                        
001144   253e     ADDWF     0x3e,0x0,0x1                                                                                    
001146   6e2d     MOVWF     0x2d,0x0                                                                                        
001148   513f     MOVF      0x3f,0x0,0x1                                                                                    
00114a   ec53     CALL      0x1aa6,0x0                                                                                      
00114c   f00d                                                                                                               
00114e   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
001150   d002     BRA       0x1156                                                                                          
001152   35b4     RLCF      0xb4,0x0,0x1                                                                                    
001154   d002     BRA       0x115a                                                                                          
001156   ec58     CALL      0x1ab0,0x0                                                                                      
001158   f00d                                                                                                               
00115a   e33b     BNC       0x11d2                                                                                          
001aec   0e02     MOVLW     0x2                                                                                             
001aee   5e2b     SUBWF     0x2b,0x1,0x0                                                                                    
001af0   0e00     MOVLW     0x0                                                                                             
001af2   5a2c     SUBWFB    0x2c,0x1,0x0                                                                                    
001af4   0103     MOVLB     0x3                                                                                             
001af6   51b4     MOVF      0xb4,0x0,0x1                                                                                    
001af8   182c     XORWF     0x2c,0x0,0x0                                                                                    
001afa   0012     RETURN    0x0                                                                                             
                                           		{                                                                              C:\2007 final code\manipulator.c
00115c   c348     MOVFF     0x348,0x2b     			if((encoder_elbow >= (ELBOW_POSITION_HIGH - ENCODER_ELBOW_DEAD_ZONE)) && (encoder_base <= (ELBOW_POSITION_HIGH + ENCODER_ELBOW_DEAD_ZONE))) // if base is within the dead zone C:\2007 final code\manipulator.c
00115e   f02b                                                                                                               
001160   c349     MOVFF     0x349,0x2c                                                                                      
001162   f02c                                                                                                               
001164   ec90     CALL      0x1d20,0x0                                                                                      
001166   f00e                                                                                                               
001168   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
00116a   d002     BRA       0x1170                                                                                          
00116c   342c     RLCF      0x2c,0x0,0x0                                                                                    
00116e   d002     BRA       0x1174                                                                                          
001170   ece3     CALL      0x1bc6,0x0                                                                                      
001172   f00d                                                                                                               
001174   e32e     BNC       0x11d2                                                                                          
001176   0e05     MOVLW     0x5                                                                                             
001178   0103     MOVLB     0x3                                                                                             
00117a   6a2e     CLRF      0x2e,0x0                                                                                        
00117c   2548     ADDWF     0x48,0x0,0x1                                                                                    
00117e   6e2d     MOVWF     0x2d,0x0                                                                                        
001180   5149     MOVF      0x49,0x0,0x1                                                                                    
001182   ec53     CALL      0x1aa6,0x0                                                                                      
001184   f00d                                                                                                               
001186   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
001188   d002     BRA       0x118e                                                                                          
00118a   35b4     RLCF      0xb4,0x0,0x1                                                                                    
00118c   d002     BRA       0x1192                                                                                          
00118e   ec58     CALL      0x1ab0,0x0                                                                                      
001190   f00d                                                                                                               
001192   e31f     BNC       0x11d2                                                                                          
001b2a   0e05     MOVLW     0x5                                                                                             
001b2c   5e2b     SUBWF     0x2b,0x1,0x0                                                                                    
001b2e   0e00     MOVLW     0x0                                                                                             
001b30   5a2c     SUBWFB    0x2c,0x1,0x0                                                                                    
001b32   0012     RETURN    0x0                                                                                             
001bc6   502b     MOVF      0x2b,0x0,0x0                                                                                    
001bc8   5db5     SUBWF     0xb5,0x0,0x1                                                                                    
001bca   502c     MOVF      0x2c,0x0,0x0                                                                                    
001bcc   59b6     SUBWFB    0xb6,0x0,0x1                                                                                    
001bce   0012     RETURN    0x0                                                                                             
001d20   df04     RCALL     0x1b2a                                                                                          
001d22   51b6     MOVF      0xb6,0x0,0x1                                                                                    
001d24   182c     XORWF     0x2c,0x0,0x0                                                                                    
001d26   0012     RETURN    0x0                                                                                             
                                           			{                                                                             C:\2007 final code\manipulator.c
001194   c352     MOVFF     0x352,0x2b     				if((encoder_base >= (WRIST_POSITION_HIGH - ENCODER_WRIST_DEAD_ZONE)) && (encoder_base <= (WRIST_POSITION_HIGH + ENCODER_WRIST_DEAD_ZONE))) // if wrist is within the dead zone C:\2007 final code\manipulator.c
001196   f02b                                                                                                               
001198   c353     MOVFF     0x353,0x2c                                                                                      
00119a   f02c                                                                                                               
00119c   ec94     CALL      0x1d28,0x0                                                                                      
00119e   f00e                                                                                                               
0011a0   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0011a2   d002     BRA       0x11a8                                                                                          
0011a4   342c     RLCF      0x2c,0x0,0x0                                                                                    
0011a6   d002     BRA       0x11ac                                                                                          
0011a8   ec90     CALL      0x1b20,0x0                                                                                      
0011aa   f00d                                                                                                               
0011ac   e312     BNC       0x11d2                                                                                          
0011ae   0e05     MOVLW     0x5                                                                                             
0011b0   0103     MOVLB     0x3                                                                                             
0011b2   6a2e     CLRF      0x2e,0x0                                                                                        
0011b4   2552     ADDWF     0x52,0x0,0x1                                                                                    
0011b6   6e2d     MOVWF     0x2d,0x0                                                                                        
0011b8   5153     MOVF      0x53,0x0,0x1                                                                                    
0011ba   ec53     CALL      0x1aa6,0x0                                                                                      
0011bc   f00d                                                                                                               
0011be   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0011c0   d002     BRA       0x11c6                                                                                          
0011c2   35b4     RLCF      0xb4,0x0,0x1                                                                                    
0011c4   d002     BRA       0x11ca                                                                                          
0011c6   ec58     CALL      0x1ab0,0x0                                                                                      
0011c8   f00d                                                                                                               
0011ca   e303     BNC       0x11d2                                                                                          
001aa6   222e     ADDWFC    0x2e,0x1,0x0                                                                                    
001aa8   0103     MOVLB     0x3                                                                                             
001aaa   502e     MOVF      0x2e,0x0,0x0                                                                                    
001aac   19b4     XORWF     0xb4,0x0,0x1                                                                                    
001aae   0012     RETURN    0x0                                                                                             
001ab0   51b3     MOVF      0xb3,0x0,0x1                                                                                    
001ab2   5c2d     SUBWF     0x2d,0x0,0x0                                                                                    
001ab4   51b4     MOVF      0xb4,0x0,0x1                                                                                    
001ab6   582e     SUBWFB    0x2e,0x0,0x0                                                                                    
001ab8   0012     RETURN    0x0                                                                                             
001b20   502b     MOVF      0x2b,0x0,0x0                                                                                    
001b22   5db3     SUBWF     0xb3,0x0,0x1                                                                                    
001b24   502c     MOVF      0x2c,0x0,0x0                                                                                    
001b26   59b4     SUBWFB    0xb4,0x0,0x1                                                                                    
001b28   0012     RETURN    0x0                                                                                             
001d28   df00     RCALL     0x1b2a                                                                                          
001d2a   51b4     MOVF      0xb4,0x0,0x1                                                                                    
001d2c   182c     XORWF     0x2c,0x0,0x0                                                                                    
001d2e   0012     RETURN    0x0                                                                                             
                                           				{		                                                                          C:\2007 final code\manipulator.c
0011cc   0102     MOVLB     0x2            					Relay2_green = 1; // turn on the green LED because we are in alignment      C:\2007 final code\manipulator.c
0011ce   8fbd     BSF       0xbd,0x7,0x1                                                                                    
                                           					#if LED_DEBUG                                                               C:\2007 final code\manipulator.c
                                           					printf("Green LED on \r");                                                  C:\2007 final code\manipulator.c
                                           					#endif                                                                      C:\2007 final code\manipulator.c
                                           				}                                                                            C:\2007 final code\manipulator.c
0011d0   d002     BRA       0x11d6         				else // if wrist is not in alignment                                         C:\2007 final code\manipulator.c
                                           				{	                                                                           C:\2007 final code\manipulator.c
                                           					#if LED_DEBUG                                                               C:\2007 final code\manipulator.c
                                           					printf("Green LED off \r");                                                 C:\2007 final code\manipulator.c
                                           					#endif                                                                      C:\2007 final code\manipulator.c
                                           					Relay2_green = 0; // turn off the green LED because we are not in alignment C:\2007 final code\manipulator.c
                                           				}                                                                            C:\2007 final code\manipulator.c
                                           			}                                                                             C:\2007 final code\manipulator.c
                                           			else  // if elbow is not in alignment                                         C:\2007 final code\manipulator.c
                                           			{                                                                             C:\2007 final code\manipulator.c
                                           				#if LED_DEBUG                                                                C:\2007 final code\manipulator.c
                                           				printf("Green LED off \r");                                                  C:\2007 final code\manipulator.c
                                           				#endif                                                                       C:\2007 final code\manipulator.c
                                           				Relay2_green = 0; // turn off the green LED because we are not in alignment  C:\2007 final code\manipulator.c
                                           			}                                                                             C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                           		else // if base is not in alignment                                            C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           			#if LED_DEBUG                                                                 C:\2007 final code\manipulator.c
                                           			printf("Green LED off \r");                                                   C:\2007 final code\manipulator.c
                                           			#endif                                                                        C:\2007 final code\manipulator.c
0011d2   0102     MOVLB     0x2            			Relay2_green = 0; // turn off the green LED because we are not in alignment   C:\2007 final code\manipulator.c
0011d4   9fbd     BCF       0xbd,0x7,0x1                                                                                    
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	// since the manipulator is entirely manual during teleoperated mode,           C:\2007 final code\manipulator.c
                                           	// this switch statement handles the rocker switch for gripper code             C:\2007 final code\manipulator.c
0011d6   0103     MOVLB     0x3            	switch(rocker_3_position_switch)                                                C:\2007 final code\manipulator.c
0011d8   5132     MOVF      0x32,0x0,0x1                                                                                    
0011da   0aff     XORLW     0xff                                                                                            
0011dc   e012     BZ        0x1202                                                                                          
0011de   0afe     XORLW     0xfe                                                                                            
0011e0   e003     BZ        0x11e8                                                                                          
0011e2   0a01     XORLW     0x1                                                                                             
0011e4   e113     BNZ       0x120c                                                                                          
                                           	{                                                                               C:\2007 final code\manipulator.c
                                             	                                                                              C:\2007 final code\manipulator.c
                                           	case 0:	// switch is in center position                                         C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           		MOTOR_GRIPPER = 127; // no change                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0011e6   d002     BRA       0x11ec         	break;                                                                          C:\2007 final code\manipulator.c
                                           	                                                                                C:\2007 final code\manipulator.c
                                           	case 1: // switch is in forward position                                        C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0011e8   a687     BTFSS     0x87,0x3,0x0   		if(LIMIT_SWITCH_GRIPPER == 1) // if the gripper is at home                     C:\2007 final code\manipulator.c
0011ea   d004     BRA       0x11f4                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
0011ec   0102     MOVLB     0x2            			MOTOR_GRIPPER = 127; // return neutral                                        C:\2007 final code\manipulator.c
0011ee   0e7f     MOVLW     0x7f                                                                                            
0011f0   6fc8     MOVWF     0xc8,0x1                                                                                        
0011f2   d00c     BRA       0x120c         			break;                                                                        C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	//	if(encoder_gripper < BASE_UPPER_LIMIT) // if not beyond limit                C:\2007 final code\manipulator.c
                                           	//	{                                                                            C:\2007 final code\manipulator.c
0011f4   0102     MOVLB     0x2            		MOTOR_GRIPPER = 127 + GRIPPER_SPEED_FORWARD; // forward change                 C:\2007 final code\manipulator.c
0011f6   0eb1     MOVLW     0xb1                                                                                            
0011f8   6fc8     MOVWF     0xc8,0x1                                                                                        
0011fa   0103     MOVLB     0x3            		direction_gripper = 1; // set encoder direction to positive                    C:\2007 final code\manipulator.c
0011fc   0e01     MOVLW     0x1                                                                                             
0011fe   6fb0     MOVWF     0xb0,0x1                                                                                        
                                                                                                                            C:\2007 final code\manipulator.c
                                           	//	}                                                                            C:\2007 final code\manipulator.c
                                           	//	else	// if beyond limit                                                      C:\2007 final code\manipulator.c
                                           	//	{                                                                            C:\2007 final code\manipulator.c
                                           	//	MOTOR_GRIPPER = 127; // return neutral                                       C:\2007 final code\manipulator.c
                                           	//	}                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001200   d005     BRA       0x120c         	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case -1: // switch is in backward position                                      C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	//	if(encoder_gripper > BASE_LOWER_LIMIT) // if not beyond limit                C:\2007 final code\manipulator.c
                                           	//	{                                                                            C:\2007 final code\manipulator.c
001202   0102     MOVLB     0x2            		MOTOR_GRIPPER = 127 - GRIPPER_SPEED_BACKWARD; // backward change               C:\2007 final code\manipulator.c
001204   0e5c     MOVLW     0x5c                                                                                            
001206   6fc8     MOVWF     0xc8,0x1                                                                                        
001208   0103     MOVLB     0x3            		direction_gripper = -1; // set encoder direction to negative                   C:\2007 final code\manipulator.c
00120a   69b0     SETF      0xb0,0x1                                                                                        
                                           	//	}                                                                            C:\2007 final code\manipulator.c
                                           	//	else	// if beyond limit                                                      C:\2007 final code\manipulator.c
                                           	//	{                                                                            C:\2007 final code\manipulator.c
                                           	//	MOTOR_GRIPPER = 127; // return neutral                                       C:\2007 final code\manipulator.c
                                           	//	}                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           //OI input not going to be 0, 1, etc                                             C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00120c   0103     MOVLB     0x3            	switch(rotary_dial) //various positions on hieght selector dial                 C:\2007 final code\manipulator.c
00120e   5131     MOVF      0x31,0x0,0x1                                                                                    
001210   0a05     XORLW     0x5                                                                                             
001212   e101     BNZ       0x1216                                                                                          
001214   d0bc     BRA       0x138e                                                                                          
001216   0a01     XORLW     0x1                                                                                             
001218   e101     BNZ       0x121c                                                                                          
00121a   d08f     BRA       0x133a                                                                                          
00121c   0a07     XORLW     0x7                                                                                             
00121e   e063     BZ        0x12e6                                                                                          
001220   0a01     XORLW     0x1                                                                                             
001222   e036     BZ        0x1290                                                                                          
001224   0a03     XORLW     0x3                                                                                             
001226   e018     BZ        0x1258                                                                                          
001228   0a01     XORLW     0x1                                                                                             
00122a   e001     BZ        0x122e                                                                                          
00122c   d0e3     BRA       0x13f4                                                                                          
                                           	{                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 0: // manual override                                                      C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00122e   ec58     CALL      0x1cb0,0x0     		MOTOR_BASE = manipulator_manual_adjustment(mini_joystick_1, BASE_MANUAL_REDUCTION,BASE); // use manual adjustment for the base C:\2007 final code\manipulator.c
001230   f00e                                                                                                               
001232   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001234   0102     MOVLB     0x2                                                                                             
001236   6fc5     MOVWF     0xc5,0x1                                                                                        
001238   ec5e     CALL      0x1cbc,0x0     		MOTOR_ELBOW = manipulator_manual_adjustment(mini_joystick_2, ELBOW_MANUAL_REDUCTION, ELBOW); // use manual adjustment for the elbow C:\2007 final code\manipulator.c
00123a   f00e                                                                                                               
00123c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00123e   0102     MOVLB     0x2                                                                                             
001240   6fc6     MOVWF     0xc6,0x1                                                                                        
001242   ec9e     CALL      0x1d3c,0x0     		MOTOR_WRIST = manipulator_manual_adjustment(mini_joystick_3, WRIST_MANUAL_REDUCTION,WRIST); // use manual adjustment for the wrist		 C:\2007 final code\manipulator.c
001244   f00e                                                                                                               
001246   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001248   0102     MOVLB     0x2                                                                                             
00124a   6fc7     MOVWF     0xc7,0x1                                                                                        
001d3c   0e07     MOVLW     0x7                                                                                             
001d3e   6ee6     MOVWF     0xe6,0x0                                                                                        
001d40   0e28     MOVLW     0x28                                                                                            
001d42   6ee6     MOVWF     0xe6,0x0                                                                                        
001d44   0103     MOVLB     0x3                                                                                             
001d46   5135     MOVF      0x35,0x0,0x1                                                                                    
001d48   ef04     GOTO      0x1a08                                                                                          
001d4a   f00d                                                                                                               
00124c   0103     MOVLB     0x3            		base_override = 1; // set base override variable to 1 to trigger red LED       C:\2007 final code\manipulator.c
00124e   0e01     MOVLW     0x1                                                                                             
001250   6fbb     MOVWF     0xbb,0x1                                                                                        
001252   6fbc     MOVWF     0xbc,0x1       		elbow_override = 1; // set elbow override variable to 1 to trigger red LED     C:\2007 final code\manipulator.c
001254   6fbd     MOVWF     0xbd,0x1       		wrist_override = 1; // set wrist override variable to 1 to trigger red LED     C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001256   d0d7     BRA       0x1406         	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 1: 	// position BOX	                                                       C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           #if MANIP_DEBUG                                                                  C:\2007 final code\manipulator.c
                                           if (manipulator_counter == 6)                                                    C:\2007 final code\manipulator.c
                                           {	                                                                               C:\2007 final code\manipulator.c
                                           printf("base_override= %d   elbow_override= %d  wrist_override= %d  \r", base_override, elbow_override, wrist_override); C:\2007 final code\manipulator.c
                                           printf("base goto value, base upper stop, base lower stop %d,%d,%d\r", Base_Position_Box, BASE_UPPER_LIMIT, BASE_LOWER_LIMIT); C:\2007 final code\manipulator.c
                                           printf("elbow goto value, elbow upper stop, elbow lower stop %d,%d,%d\r", Elbow_Position_Box, ELBOW_UPPER_LIMIT, ELBOW_LOWER_LIMIT); C:\2007 final code\manipulator.c
                                           printf("wrist goto value, wrist upper stop, wrist lower stop %d,%d,%d\r", Wrist_Position_Box, WRIST_UPPER_LIMIT, WRIST_LOWER_LIMIT); C:\2007 final code\manipulator.c
                                           }                                                                                C:\2007 final code\manipulator.c
                                           #endif                                                                           C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001258   0103     MOVLB     0x3            		if(base_override == 0)  // if the base override is off                         C:\2007 final code\manipulator.c
00125a   51bb     MOVF      0xbb,0x0,0x1                                                                                    
00125c   e104     BNZ       0x1266                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
00125e   0e05     MOVLW     0x5            			MOTOR_BASE = goto_box(BASE); // use special go home function to move base     C:\2007 final code\manipulator.c
001260   ecf2     CALL      0x1be4,0x0                                                                                      
001262   f00d                                                                                                               
                                           		}                                                                              C:\2007 final code\manipulator.c
001264   d002     BRA       0x126a         		else // if the base override is on                                             C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
001266   ec58     CALL      0x1cb0,0x0     			MOTOR_BASE = manipulator_manual_adjustment(mini_joystick_1, BASE_MANUAL_REDUCTION,BASE); // use manual adjustment for the base C:\2007 final code\manipulator.c
001268   f00e                                                                                                               
00126a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00126c   ece8     CALL      0x1bd0,0x0                                                                                      
00126e   f00d                                                                                                               
                                           		}                                                                              C:\2007 final code\manipulator.c
001270   e104     BNZ       0x127a         		if(elbow_override == 0)  // if the elbow override is off                       C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
001272   0e06     MOVLW     0x6            			MOTOR_ELBOW = goto_box(ELBOW); // use special go home function to move elbow  C:\2007 final code\manipulator.c
001274   ecf2     CALL      0x1be4,0x0                                                                                      
001276   f00d                                                                                                               
                                           		}                                                                              C:\2007 final code\manipulator.c
001278   d002     BRA       0x127e         		else // if the elbow override is on                                            C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
00127a   ec5e     CALL      0x1cbc,0x0     			MOTOR_ELBOW = manipulator_manual_adjustment(mini_joystick_2, ELBOW_MANUAL_REDUCTION, ELBOW); // use manual adjustment for the elbow C:\2007 final code\manipulator.c
00127c   f00e                                                                                                               
00127e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001280   eced     CALL      0x1bda,0x0                                                                                      
001282   f00d                                                                                                               
                                           		}                                                                              C:\2007 final code\manipulator.c
001284   e001     BZ        0x1288         		if(wrist_override == 0)  // if the wrist override is off                       C:\2007 final code\manipulator.c
001286   d0b0     BRA       0x13e8                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
001288   0e07     MOVLW     0x7            			MOTOR_WRIST = goto_box(WRIST); // use special go home function to more wrist  C:\2007 final code\manipulator.c
00128a   ecf2     CALL      0x1be4,0x0                                                                                      
00128c   f00d                                                                                                               
                                           		}                                                                              C:\2007 final code\manipulator.c
00128e   d0ae     BRA       0x13ec         		else // if the wrist override is on                                            C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           			MOTOR_WRIST = manipulator_manual_adjustment(mini_joystick_3, WRIST_MANUAL_REDUCTION,WRIST); // use manual adjustment for the wrist C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 2: 	// position FLOOR                                                      C:\2007 final code\manipulator.c
                                           		                                                                               C:\2007 final code\manipulator.c
001290   0103     MOVLB     0x3            		if(base_override == 0)  // if the base override is off                         C:\2007 final code\manipulator.c
001292   51bb     MOVF      0xbb,0x0,0x1                                                                                    
001294   e10a     BNZ       0x12aa                                                                                          
                                           `		{                                                                             C:\2007 final code\manipulator.c
001296   ec6e     CALL      0x1cdc,0x0     			MOTOR_BASE = manipulator_automatic_adjustment(BASE_POSITION_FLOOR,BASE,BASE_SPEED,BASE_UPPER_LIMIT,BASE_LOWER_LIMIT); // use automatic adjustment for the base C:\2007 final code\manipulator.c
001298   f00e                                                                                                               
00129a   ecfc     CALL      0x1bf8,0x0                                                                                      
00129c   f00d                                                                                                               
00129e   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
0012a0   d002     BRA       0x12a6                                                                                          
0012a2   682d     SETF      0x2d,0x0                                                                                        
0012a4   682e     SETF      0x2e,0x0                                                                                        
0012a6   db89     RCALL     0x19ba                                                                                          
001bf8   c338     MOVFF     0x338,0x2b                                                                                      
001bfa   f02b                                                                                                               
001bfc   c339     MOVFF     0x339,0x2c                                                                                      
001bfe   f02c                                                                                                               
001c00   6a2d     CLRF      0x2d,0x0                                                                                        
001c02   6a2e     CLRF      0x2e,0x0                                                                                        
001c04   0012     RETURN    0x0                                                                                             
                                           		}                                                                              C:\2007 final code\manipulator.c
0012a8   d003     BRA       0x12b0         		else // if the base override is on                                             C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
0012aa   ec58     CALL      0x1cb0,0x0     			MOTOR_BASE = manipulator_manual_adjustment(mini_joystick_1, BASE_MANUAL_REDUCTION,BASE); // use manual adjustment for the base C:\2007 final code\manipulator.c
0012ac   f00e                                                                                                               
0012ae   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0012b0   ece8     CALL      0x1bd0,0x0                                                                                      
0012b2   f00d                                                                                                               
                                           		}                                                                              C:\2007 final code\manipulator.c
0012b4   e10a     BNZ       0x12ca         		if(elbow_override == 0)  // if the elbow override is off                       C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
0012b6   ecc6     CALL      0x1d8c,0x0     			MOTOR_ELBOW = manipulator_automatic_adjustment(ELBOW_POSITION_FLOOR,ELBOW,ELBOW_SPEED,ELBOW_UPPER_LIMIT,ELBOW_LOWER_LIMIT); // use automatic adjustment for the elbow C:\2007 final code\manipulator.c
0012b8   f00e                                                                                                               
0012ba   ec03     CALL      0x1c06,0x0                                                                                      
0012bc   f00e                                                                                                               
0012be   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
0012c0   d002     BRA       0x12c6                                                                                          
0012c2   682d     SETF      0x2d,0x0                                                                                        
0012c4   682e     SETF      0x2e,0x0                                                                                        
0012c6   db79     RCALL     0x19ba                                                                                          
001c06   c342     MOVFF     0x342,0x2b                                                                                      
001c08   f02b                                                                                                               
001c0a   c343     MOVFF     0x343,0x2c                                                                                      
001c0c   f02c                                                                                                               
001c0e   6a2d     CLRF      0x2d,0x0                                                                                        
001c10   6a2e     CLRF      0x2e,0x0                                                                                        
001c12   0012     RETURN    0x0                                                                                             
                                           		}                                                                              C:\2007 final code\manipulator.c
0012c8   d003     BRA       0x12d0         		else // if the elbow override is on                                            C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
0012ca   ec5e     CALL      0x1cbc,0x0     			MOTOR_ELBOW = manipulator_manual_adjustment(mini_joystick_2, ELBOW_MANUAL_REDUCTION,ELBOW); // use manual adjustment for the elbow C:\2007 final code\manipulator.c
0012cc   f00e                                                                                                               
0012ce   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0012d0   eced     CALL      0x1bda,0x0                                                                                      
0012d2   f00d                                                                                                               
                                           		}                                                                              C:\2007 final code\manipulator.c
0012d4   e001     BZ        0x12d8         		if(wrist_override == 0)  // if the wrist override is off                       C:\2007 final code\manipulator.c
0012d6   d088     BRA       0x13e8                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
0012d8   ecca     CALL      0x1d94,0x0     			MOTOR_WRIST = manipulator_automatic_adjustment(WRIST_POSITION_FLOOR,WRIST,WRIST_SPEED,WRIST_UPPER_LIMIT,WRIST_LOWER_LIMIT); // use automatic adjustment for the wrist C:\2007 final code\manipulator.c
0012da   f00e                                                                                                               
0012dc   ec0a     CALL      0x1c14,0x0                                                                                      
0012de   f00e                                                                                                               
0012e0   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
0012e2   d080     BRA       0x13e4                                                                                          
001c14   c34c     MOVFF     0x34c,0x2b                                                                                      
001c16   f02b                                                                                                               
001c18   c34d     MOVFF     0x34d,0x2c                                                                                      
001c1a   f02c                                                                                                               
001c1c   6a2d     CLRF      0x2d,0x0                                                                                        
001c1e   6a2e     CLRF      0x2e,0x0                                                                                        
001c20   0012     RETURN    0x0                                                                                             
                                           		}                                                                              C:\2007 final code\manipulator.c
0012e4   d07d     BRA       0x13e0         		else // if the wrist override is on                                            C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           			MOTOR_WRIST = manipulator_manual_adjustment(mini_joystick_3, WRIST_MANUAL_REDUCTION,WRIST); // use manual adjustment for the wrist C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 3: 	// position LOW                                                        C:\2007 final code\manipulator.c
                                           		                                                                               C:\2007 final code\manipulator.c
0012e6   0103     MOVLB     0x3            		if(base_override == 0)  // if the base override is off                         C:\2007 final code\manipulator.c
0012e8   51bb     MOVF      0xbb,0x0,0x1                                                                                    
0012ea   e10a     BNZ       0x1300                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
0012ec   ec6e     CALL      0x1cdc,0x0     			MOTOR_BASE = manipulator_automatic_adjustment(BASE_POSITION_LOW,BASE,BASE_SPEED,BASE_UPPER_LIMIT,BASE_LOWER_LIMIT); // use automatic adjustment for the base C:\2007 final code\manipulator.c
0012ee   f00e                                                                                                               
0012f0   ec11     CALL      0x1c22,0x0                                                                                      
0012f2   f00e                                                                                                               
0012f4   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
0012f6   d002     BRA       0x12fc                                                                                          
0012f8   682d     SETF      0x2d,0x0                                                                                        
0012fa   682e     SETF      0x2e,0x0                                                                                        
0012fc   db5e     RCALL     0x19ba                                                                                          
001c22   c33a     MOVFF     0x33a,0x2b                                                                                      
001c24   f02b                                                                                                               
001c26   c33b     MOVFF     0x33b,0x2c                                                                                      
001c28   f02c                                                                                                               
001c2a   6a2d     CLRF      0x2d,0x0                                                                                        
001c2c   6a2e     CLRF      0x2e,0x0                                                                                        
001c2e   0012     RETURN    0x0                                                                                             
                                           		}                                                                              C:\2007 final code\manipulator.c
0012fe   d003     BRA       0x1306         		else // if the base override is on                                             C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
001300   ec58     CALL      0x1cb0,0x0     			MOTOR_BASE = manipulator_manual_adjustment(mini_joystick_1, BASE_MANUAL_REDUCTION,BASE); // use manual adjustment for the base C:\2007 final code\manipulator.c
001302   f00e                                                                                                               
001304   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001306   ece8     CALL      0x1bd0,0x0                                                                                      
001308   f00d                                                                                                               
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00130a   e10a     BNZ       0x1320         		if(elbow_override == 0)  // if the elbow override is off                       C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
00130c   ecc6     CALL      0x1d8c,0x0     			MOTOR_ELBOW = manipulator_automatic_adjustment(ELBOW_POSITION_LOW,ELBOW,ELBOW_SPEED,ELBOW_UPPER_LIMIT,ELBOW_LOWER_LIMIT); // use automatic adjustment for the elbow C:\2007 final code\manipulator.c
00130e   f00e                                                                                                               
001310   ec18     CALL      0x1c30,0x0                                                                                      
001312   f00e                                                                                                               
001314   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
001316   d002     BRA       0x131c                                                                                          
001318   682d     SETF      0x2d,0x0                                                                                        
00131a   682e     SETF      0x2e,0x0                                                                                        
00131c   db4e     RCALL     0x19ba                                                                                          
001c30   c344     MOVFF     0x344,0x2b                                                                                      
001c32   f02b                                                                                                               
001c34   c345     MOVFF     0x345,0x2c                                                                                      
001c36   f02c                                                                                                               
001c38   6a2d     CLRF      0x2d,0x0                                                                                        
001c3a   6a2e     CLRF      0x2e,0x0                                                                                        
001c3c   0012     RETURN    0x0                                                                                             
                                           		}                                                                              C:\2007 final code\manipulator.c
00131e   d003     BRA       0x1326         		else // if the elbow override is on                                            C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
001320   ec5e     CALL      0x1cbc,0x0     			MOTOR_ELBOW = manipulator_manual_adjustment(mini_joystick_2, ELBOW_MANUAL_REDUCTION,ELBOW); // use manual adjustment for the elbow C:\2007 final code\manipulator.c
001322   f00e                                                                                                               
001324   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001326   eced     CALL      0x1bda,0x0                                                                                      
001328   f00d                                                                                                               
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00132a   e15e     BNZ       0x13e8         		if(wrist_override == 0)  // if the wrist override is off                       C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
00132c   ecca     CALL      0x1d94,0x0     			MOTOR_WRIST = manipulator_automatic_adjustment(WRIST_POSITION_LOW,WRIST,WRIST_SPEED,WRIST_UPPER_LIMIT,WRIST_LOWER_LIMIT); // use automatic adjustment for the wrist C:\2007 final code\manipulator.c
00132e   f00e                                                                                                               
001330   ec1f     CALL      0x1c3e,0x0                                                                                      
001332   f00e                                                                                                               
001334   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
001336   d056     BRA       0x13e4                                                                                          
001c3e   c34e     MOVFF     0x34e,0x2b                                                                                      
001c40   f02b                                                                                                               
001c42   c34f     MOVFF     0x34f,0x2c                                                                                      
001c44   f02c                                                                                                               
001c46   6a2d     CLRF      0x2d,0x0                                                                                        
001c48   6a2e     CLRF      0x2e,0x0                                                                                        
001c4a   0012     RETURN    0x0                                                                                             
                                           		}                                                                              C:\2007 final code\manipulator.c
001338   d053     BRA       0x13e0         		else // if the wrist override is on                                            C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           			MOTOR_WRIST = manipulator_manual_adjustment(mini_joystick_3, WRIST_MANUAL_REDUCTION, WRIST); // use manual adjustment for the wrist C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 4: 	// position MIDDLE                                                     C:\2007 final code\manipulator.c
                                           		                                                                               C:\2007 final code\manipulator.c
00133a   0103     MOVLB     0x3            		if(base_override == 0)  // if the base override is off                         C:\2007 final code\manipulator.c
00133c   51bb     MOVF      0xbb,0x0,0x1                                                                                    
00133e   e10a     BNZ       0x1354                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
001340   ec6e     CALL      0x1cdc,0x0     			MOTOR_BASE = manipulator_automatic_adjustment(BASE_POSITION_MIDDLE,BASE,BASE_SPEED,BASE_UPPER_LIMIT,BASE_LOWER_LIMIT); // use automatic adjustment for the base C:\2007 final code\manipulator.c
001342   f00e                                                                                                               
001344   ec26     CALL      0x1c4c,0x0                                                                                      
001346   f00e                                                                                                               
001348   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
00134a   d002     BRA       0x1350                                                                                          
00134c   682d     SETF      0x2d,0x0                                                                                        
00134e   682e     SETF      0x2e,0x0                                                                                        
001350   db34     RCALL     0x19ba                                                                                          
001c4c   c33c     MOVFF     0x33c,0x2b                                                                                      
001c4e   f02b                                                                                                               
001c50   c33d     MOVFF     0x33d,0x2c                                                                                      
001c52   f02c                                                                                                               
001c54   6a2d     CLRF      0x2d,0x0                                                                                        
001c56   6a2e     CLRF      0x2e,0x0                                                                                        
001c58   0012     RETURN    0x0                                                                                             
                                           		}                                                                              C:\2007 final code\manipulator.c
001352   d003     BRA       0x135a         		else // if the base override is on                                             C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
001354   ec58     CALL      0x1cb0,0x0     			MOTOR_BASE = manipulator_manual_adjustment(mini_joystick_1, BASE_MANUAL_REDUCTION,BASE); // use manual adjustment for the base C:\2007 final code\manipulator.c
001356   f00e                                                                                                               
001358   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00135a   ece8     CALL      0x1bd0,0x0                                                                                      
00135c   f00d                                                                                                               
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00135e   e10a     BNZ       0x1374         		if(elbow_override == 0)  // if the elbow override is off                       C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
001360   ecc6     CALL      0x1d8c,0x0     			MOTOR_ELBOW = manipulator_automatic_adjustment(ELBOW_POSITION_MIDDLE,ELBOW,ELBOW_SPEED,ELBOW_UPPER_LIMIT,ELBOW_LOWER_LIMIT); // use automatic adjustment for the elbow C:\2007 final code\manipulator.c
001362   f00e                                                                                                               
001364   ec2d     CALL      0x1c5a,0x0                                                                                      
001366   f00e                                                                                                               
001368   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
00136a   d002     BRA       0x1370                                                                                          
00136c   682d     SETF      0x2d,0x0                                                                                        
00136e   682e     SETF      0x2e,0x0                                                                                        
001370   db24     RCALL     0x19ba                                                                                          
001c5a   c346     MOVFF     0x346,0x2b                                                                                      
001c5c   f02b                                                                                                               
001c5e   c347     MOVFF     0x347,0x2c                                                                                      
001c60   f02c                                                                                                               
001c62   6a2d     CLRF      0x2d,0x0                                                                                        
001c64   6a2e     CLRF      0x2e,0x0                                                                                        
001c66   0012     RETURN    0x0                                                                                             
                                           		}                                                                              C:\2007 final code\manipulator.c
001372   d003     BRA       0x137a         		else // if the elbow override is on                                            C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
001374   ec5e     CALL      0x1cbc,0x0     			MOTOR_ELBOW = manipulator_manual_adjustment(mini_joystick_2, ELBOW_MANUAL_REDUCTION, ELBOW); // use manual adjustment for the elbow C:\2007 final code\manipulator.c
001376   f00e                                                                                                               
001378   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00137a   eced     CALL      0x1bda,0x0                                                                                      
00137c   f00d                                                                                                               
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00137e   e134     BNZ       0x13e8         		if(wrist_override == 0)  // if the wrist override is off                       C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
001380   ecca     CALL      0x1d94,0x0     			MOTOR_WRIST = manipulator_automatic_adjustment(WRIST_POSITION_MIDDLE,WRIST,WRIST_SPEED,WRIST_UPPER_LIMIT,WRIST_LOWER_LIMIT); // use automatic adjustment for the wrist C:\2007 final code\manipulator.c
001382   f00e                                                                                                               
001384   ec34     CALL      0x1c68,0x0                                                                                      
001386   f00e                                                                                                               
001388   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
00138a   d02c     BRA       0x13e4                                                                                          
001c68   c350     MOVFF     0x350,0x2b                                                                                      
001c6a   f02b                                                                                                               
001c6c   c351     MOVFF     0x351,0x2c                                                                                      
001c6e   f02c                                                                                                               
001c70   6a2d     CLRF      0x2d,0x0                                                                                        
001c72   6a2e     CLRF      0x2e,0x0                                                                                        
001c74   0012     RETURN    0x0                                                                                             
                                           		}                                                                              C:\2007 final code\manipulator.c
00138c   d029     BRA       0x13e0         		else // if the wrist override is on                                            C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           			MOTOR_WRIST = manipulator_manual_adjustment(mini_joystick_3, WRIST_MANUAL_REDUCTION,WRIST); // use manual adjustment for the wrist C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 5: 	// position HIGH	                                                      C:\2007 final code\manipulator.c
                                           		                                                                               C:\2007 final code\manipulator.c
00138e   0103     MOVLB     0x3            		if(base_override == 0)  // if the base override is off                         C:\2007 final code\manipulator.c
001390   51bb     MOVF      0xbb,0x0,0x1                                                                                    
001392   e10a     BNZ       0x13a8                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
001394   ec6e     CALL      0x1cdc,0x0     			MOTOR_BASE = manipulator_automatic_adjustment(BASE_POSITION_HIGH,BASE,BASE_SPEED,BASE_UPPER_LIMIT,BASE_LOWER_LIMIT); // use automatic adjustment for the base C:\2007 final code\manipulator.c
001396   f00e                                                                                                               
001398   ec3b     CALL      0x1c76,0x0                                                                                      
00139a   f00e                                                                                                               
00139c   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
00139e   d002     BRA       0x13a4                                                                                          
0013a0   682d     SETF      0x2d,0x0                                                                                        
0013a2   682e     SETF      0x2e,0x0                                                                                        
0013a4   db0a     RCALL     0x19ba                                                                                          
001c76   c33e     MOVFF     0x33e,0x2b                                                                                      
001c78   f02b                                                                                                               
001c7a   c33f     MOVFF     0x33f,0x2c                                                                                      
001c7c   f02c                                                                                                               
001c7e   6a2d     CLRF      0x2d,0x0                                                                                        
001c80   6a2e     CLRF      0x2e,0x0                                                                                        
001c82   0012     RETURN    0x0                                                                                             
                                           		}                                                                              C:\2007 final code\manipulator.c
0013a6   d003     BRA       0x13ae         		else // if the base override is on                                             C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
0013a8   ec58     CALL      0x1cb0,0x0     			MOTOR_BASE = manipulator_manual_adjustment(mini_joystick_1, BASE_MANUAL_REDUCTION,BASE); // use manual adjustment for the base C:\2007 final code\manipulator.c
0013aa   f00e                                                                                                               
0013ac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0013ae   ece8     CALL      0x1bd0,0x0                                                                                      
0013b0   f00d                                                                                                               
001bd0   0102     MOVLB     0x2                                                                                             
001bd2   6fc5     MOVWF     0xc5,0x1                                                                                        
001cb0   0e05     MOVLW     0x5                                                                                             
001cb2   df69     RCALL     0x1b86                                                                                          
001cb4   0103     MOVLB     0x3                                                                                             
001cb6   5133     MOVF      0x33,0x0,0x1                                                                                    
001cb8   ef04     GOTO      0x1a08                                                                                          
001cba   f00d                                                                                                               
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0013b2   e10a     BNZ       0x13c8         		if(elbow_override == 0)  // if the elbow override is off                       C:\2007 final code\manipulator.c
001bd4   0103     MOVLB     0x3                                                                                             
001bd6   51bc     MOVF      0xbc,0x0,0x1                                                                                    
001bd8   0012     RETURN    0x0                                                                                             
                                           		{                                                                              C:\2007 final code\manipulator.c
0013b4   ecc6     CALL      0x1d8c,0x0     			MOTOR_ELBOW = manipulator_automatic_adjustment(ELBOW_POSITION_HIGH,ELBOW,ELBOW_SPEED,ELBOW_UPPER_LIMIT,ELBOW_LOWER_LIMIT); // use automatic adjustment for the elbow C:\2007 final code\manipulator.c
0013b6   f00e                                                                                                               
0013b8   ec42     CALL      0x1c84,0x0                                                                                      
0013ba   f00e                                                                                                               
0013bc   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
0013be   d002     BRA       0x13c4                                                                                          
0013c0   682d     SETF      0x2d,0x0                                                                                        
0013c2   682e     SETF      0x2e,0x0                                                                                        
0013c4   dafa     RCALL     0x19ba                                                                                          
001c84   c348     MOVFF     0x348,0x2b                                                                                      
001c86   f02b                                                                                                               
001c88   c349     MOVFF     0x349,0x2c                                                                                      
001c8a   f02c                                                                                                               
001c8c   6a2d     CLRF      0x2d,0x0                                                                                        
001c8e   6a2e     CLRF      0x2e,0x0                                                                                        
001c90   0012     RETURN    0x0                                                                                             
                                           		}                                                                              C:\2007 final code\manipulator.c
0013c6   d003     BRA       0x13ce         		else // if the elbow override is on                                            C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
0013c8   ec5e     CALL      0x1cbc,0x0     			MOTOR_ELBOW = manipulator_manual_adjustment(mini_joystick_2, ELBOW_MANUAL_REDUCTION,ELBOW); // use manual adjustment for the elbow C:\2007 final code\manipulator.c
0013ca   f00e                                                                                                               
0013cc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0013ce   eced     CALL      0x1bda,0x0                                                                                      
0013d0   f00d                                                                                                               
001a08   6ee6     MOVWF     0xe6,0x0                                                                                        
001a0a   6ae6     CLRF      0xe6,0x0                                                                                        
001a0c   eced     CALL      0xbda,0x0                                                                                       
001a0e   f005                                                                                                               
001a10   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001a12   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001a14   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001a16   0012     RETURN    0x0                                                                                             
001b86   6ee6     MOVWF     0xe6,0x0                                                                                        
001b88   0e1e     MOVLW     0x1e                                                                                            
001b8a   6ee6     MOVWF     0xe6,0x0                                                                                        
001b8c   0012     RETURN    0x0                                                                                             
001bda   0102     MOVLB     0x2                                                                                             
001bdc   6fc6     MOVWF     0xc6,0x1                                                                                        
001cbc   0e06     MOVLW     0x6                                                                                             
001cbe   df63     RCALL     0x1b86                                                                                          
001cc0   0103     MOVLB     0x3                                                                                             
001cc2   5134     MOVF      0x34,0x0,0x1                                                                                    
001cc4   ef04     GOTO      0x1a08                                                                                          
001cc6   f00d                                                                                                               
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0013d2   e10a     BNZ       0x13e8         		if(wrist_override == 0)  // if the wrist override is off                       C:\2007 final code\manipulator.c
001bde   0103     MOVLB     0x3                                                                                             
001be0   51bd     MOVF      0xbd,0x0,0x1                                                                                    
001be2   0012     RETURN    0x0                                                                                             
                                           		{                                                                              C:\2007 final code\manipulator.c
0013d4   ecca     CALL      0x1d94,0x0     			MOTOR_WRIST = manipulator_automatic_adjustment(WRIST_POSITION_HIGH,WRIST,WRIST_SPEED,WRIST_UPPER_LIMIT,WRIST_LOWER_LIMIT); // use automatic adjustment for the wrist C:\2007 final code\manipulator.c
0013d6   f00e                                                                                                               
0013d8   ec49     CALL      0x1c92,0x0                                                                                      
0013da   f00e                                                                                                               
0013dc   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
0013de   d002     BRA       0x13e4                                                                                          
0013e0   682d     SETF      0x2d,0x0                                                                                        
0013e2   682e     SETF      0x2e,0x0                                                                                        
0013e4   daea     RCALL     0x19ba                                                                                          
001c92   c352     MOVFF     0x352,0x2b                                                                                      
001c94   f02b                                                                                                               
001c96   c353     MOVFF     0x353,0x2c                                                                                      
001c98   f02c                                                                                                               
001c9a   6a2d     CLRF      0x2d,0x0                                                                                        
001c9c   6a2e     CLRF      0x2e,0x0                                                                                        
001c9e   0012     RETURN    0x0                                                                                             
                                           		}                                                                              C:\2007 final code\manipulator.c
0013e6   d003     BRA       0x13ee         		else // if the wrist override is on                                            C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
0013e8   ec9e     CALL      0x1d3c,0x0     			MOTOR_WRIST = manipulator_manual_adjustment(mini_joystick_3, WRIST_MANUAL_REDUCTION,WRIST); // use manual adjustment for the wrist C:\2007 final code\manipulator.c
0013ea   f00e                                                                                                               
0013ec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0013ee   0102     MOVLB     0x2                                                                                             
0013f0   6fc7     MOVWF     0xc7,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0013f2   d009     BRA       0x1406         	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	default:  // should not get here                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0013f4   5131     MOVF      0x31,0x0,0x1   printf("code error in teleoperated_manipulator_master_control: rotary_dial= %d  \r", rotary_dial); C:\2007 final code\manipulator.c
0013f6   6ee6     MOVWF     0xe6,0x0                                                                                        
0013f8   6ae6     CLRF      0xe6,0x0                                                                                        
0013fa   0e67     MOVLW     0x67                                                                                            
0013fc   6ee6     MOVWF     0xe6,0x0                                                                                        
0013fe   0e47     MOVLW     0x47                                                                                            
001400   6ee6     MOVWF     0xe6,0x0                                                                                        
001402   0e00     MOVLW     0x0                                                                                             
001404   db9b     RCALL     0x1b3c                                                                                          
                                                                                                                            C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
001406   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\manipulator.c
001408   d3b5     BRA       0x1b74                                                                                          
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           /****************** Autonmous Manipulator Master Control Code ********************* C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           Inputs:                                                                          C:\2007 final code\manipulator.c
                                           	unsigned char desired_position: desired position of arm, where 1 = BOX, 2 = FLOOR, 3 = LOW, 4 = MIDDLE, and 5 = HIGH  C:\2007 final code\manipulator.c
                                           	unsigned char gripper_open_or_close: desired position of gripper, where 0 = OPEN and 1 = CLOSED C:\2007 final code\manipulator.c
                                           	Uses global variables from copilot box                                          C:\2007 final code\manipulator.c
                                           Output:                                                                          C:\2007 final code\manipulator.c
                                           	Sets PWM05, PWM06, PWM07 and PWM08 (but no direct output)                       C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           **********************************************************************************/ C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00140a   dbaf     RCALL     0x1b6a         void autonomous_manipulator_master_control(unsigned char desired_position, unsigned char gripper_open_or_close) C:\2007 final code\manipulator.c
                                           {		                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00140c   0efe     MOVLW     0xfe           	switch(desired_position) // choose position that has been called                C:\2007 final code\manipulator.c
00140e   50db     MOVF      0xdb,0x0,0x0                                                                                    
001410   0a05     XORLW     0x5                                                                                             
001412   e053     BZ        0x14ba                                                                                          
001414   0a01     XORLW     0x1                                                                                             
001416   e03d     BZ        0x1492                                                                                          
001418   0a07     XORLW     0x7                                                                                             
00141a   e027     BZ        0x146a                                                                                          
00141c   0a01     XORLW     0x1                                                                                             
00141e   e011     BZ        0x1442                                                                                          
001420   0a03     XORLW     0x3                                                                                             
001422   e164     BNZ       0x14ec                                                                                          
                                           	{                                                                               C:\2007 final code\manipulator.c
                                           	                                                                                C:\2007 final code\manipulator.c
                                           	case 1: 	// position BOX	                                                       C:\2007 final code\manipulator.c
                                           		                                                                               C:\2007 final code\manipulator.c
001424   0e05     MOVLW     0x5            			MOTOR_BASE = goto_box(BASE); // use special go home function to move base     C:\2007 final code\manipulator.c
001426   ecf2     CALL      0x1be4,0x0                                                                                      
001428   f00d                                                                                                               
00142a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00142c   0102     MOVLB     0x2                                                                                             
00142e   6fc5     MOVWF     0xc5,0x1                                                                                        
001430   0e06     MOVLW     0x6            			MOTOR_ELBOW = goto_box(ELBOW); // use special go home function to move elbow  C:\2007 final code\manipulator.c
001432   dbd8     RCALL     0x1be4                                                                                          
001434   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001436   0102     MOVLB     0x2                                                                                             
001438   6fc6     MOVWF     0xc6,0x1                                                                                        
00143a   0e07     MOVLW     0x7            			MOTOR_WRIST = goto_box(WRIST); // use special go home function to move wrist  C:\2007 final code\manipulator.c
00143c   dbd3     RCALL     0x1be4                                                                                          
00143e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001be4   6ee6     MOVWF     0xe6,0x0                                                                                        
001be6   ef99     GOTO      0x1932                                                                                          
001be8   f00c                                                                                                               
                                           		                                                                               C:\2007 final code\manipulator.c
001440   d052     BRA       0x14e6         	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 2: 	// position FLOOR                                                      C:\2007 final code\manipulator.c
                                           		                                                                               C:\2007 final code\manipulator.c
001442   ec6e     CALL      0x1cdc,0x0     			MOTOR_BASE = manipulator_automatic_adjustment(BASE_POSITION_FLOOR,BASE,BASE_SPEED,BASE_UPPER_LIMIT,BASE_LOWER_LIMIT); // use automatic adjustment for the base C:\2007 final code\manipulator.c
001444   f00e                                                                                                               
001446   dbd8     RCALL     0x1bf8                                                                                          
001448   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
00144a   d002     BRA       0x1450                                                                                          
00144c   682d     SETF      0x2d,0x0                                                                                        
00144e   682e     SETF      0x2e,0x0                                                                                        
001450   ec64     CALL      0x1cc8,0x0                                                                                      
001452   f00e                                                                                                               
001b4c   0e1e     MOVLW     0x1e                                                                                            
001b4e   6ee6     MOVWF     0xe6,0x0                                                                                        
001b50   0e05     MOVLW     0x5                                                                                             
001b52   6ee6     MOVWF     0xe6,0x0                                                                                        
001b54   0012     RETURN    0x0                                                                                             
001cdc   0ee3     MOVLW     0xe3                                                                                            
001cde   de80     RCALL     0x19e0                                                                                          
001ce0   efa6     GOTO      0x1b4c                                                                                          
001ce2   f00d                                                                                                               
001454   dbd8     RCALL     0x1c06         			MOTOR_ELBOW = manipulator_automatic_adjustment(ELBOW_POSITION_FLOOR,ELBOW,ELBOW_SPEED,ELBOW_UPPER_LIMIT,ELBOW_LOWER_LIMIT); // use automatic adjustment for the elbow C:\2007 final code\manipulator.c
001456   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
001458   d002     BRA       0x145e                                                                                          
00145a   682d     SETF      0x2d,0x0                                                                                        
00145c   682e     SETF      0x2e,0x0                                                                                        
00145e   ec69     CALL      0x1cd2,0x0                                                                                      
001460   f00e                                                                                                               
001b56   0e1e     MOVLW     0x1e                                                                                            
001b58   6ee6     MOVWF     0xe6,0x0                                                                                        
001b5a   0e06     MOVLW     0x6                                                                                             
001b5c   6ee6     MOVWF     0xe6,0x0                                                                                        
001b5e   0012     RETURN    0x0                                                                                             
001462   dbd8     RCALL     0x1c14         			MOTOR_WRIST = manipulator_automatic_adjustment(WRIST_POSITION_FLOOR,WRIST,WRIST_SPEED,WRIST_UPPER_LIMIT,WRIST_LOWER_LIMIT); // use automatic adjustment for the wrist C:\2007 final code\manipulator.c
001464   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
001466   d03e     BRA       0x14e4                                                                                          
001b60   0e28     MOVLW     0x28                                                                                            
001b62   6ee6     MOVWF     0xe6,0x0                                                                                        
001b64   0e07     MOVLW     0x7                                                                                             
001b66   6ee6     MOVWF     0xe6,0x0                                                                                        
001b68   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\manipulator.c
001468   d03b     BRA       0x14e0         	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 3: 	// position LOW                                                        C:\2007 final code\manipulator.c
                                           		                                                                               C:\2007 final code\manipulator.c
00146a   ec6e     CALL      0x1cdc,0x0     			MOTOR_BASE = manipulator_automatic_adjustment(BASE_POSITION_LOW,BASE,BASE_SPEED,BASE_UPPER_LIMIT,BASE_LOWER_LIMIT); // use automatic adjustment for the base C:\2007 final code\manipulator.c
00146c   f00e                                                                                                               
00146e   dbd9     RCALL     0x1c22                                                                                          
001470   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
001472   d002     BRA       0x1478                                                                                          
001474   682d     SETF      0x2d,0x0                                                                                        
001476   682e     SETF      0x2e,0x0                                                                                        
001478   ec64     CALL      0x1cc8,0x0                                                                                      
00147a   f00e                                                                                                               
00147c   dbd9     RCALL     0x1c30         			MOTOR_ELBOW = manipulator_automatic_adjustment(ELBOW_POSITION_LOW,ELBOW,ELBOW_SPEED,ELBOW_UPPER_LIMIT,ELBOW_LOWER_LIMIT); // use automatic adjustment for the elbow C:\2007 final code\manipulator.c
00147e   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
001480   d002     BRA       0x1486                                                                                          
001482   682d     SETF      0x2d,0x0                                                                                        
001484   682e     SETF      0x2e,0x0                                                                                        
001486   ec69     CALL      0x1cd2,0x0                                                                                      
001488   f00e                                                                                                               
00148a   dbd9     RCALL     0x1c3e         			MOTOR_WRIST = manipulator_automatic_adjustment(WRIST_POSITION_LOW,WRIST,WRIST_SPEED,WRIST_UPPER_LIMIT,WRIST_LOWER_LIMIT); // use automatic adjustment for the wrist C:\2007 final code\manipulator.c
00148c   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
00148e   d02a     BRA       0x14e4                                                                                          
                                                                                                                            C:\2007 final code\manipulator.c
001490   d027     BRA       0x14e0         	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 4: 	// position MIDDLE                                                     C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001492   ec6e     CALL      0x1cdc,0x0     			MOTOR_BASE = manipulator_automatic_adjustment(BASE_POSITION_MIDDLE,BASE,BASE_SPEED,BASE_UPPER_LIMIT,BASE_LOWER_LIMIT); // use automatic adjustment for the base C:\2007 final code\manipulator.c
001494   f00e                                                                                                               
001496   dbda     RCALL     0x1c4c                                                                                          
001498   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
00149a   d002     BRA       0x14a0                                                                                          
00149c   682d     SETF      0x2d,0x0                                                                                        
00149e   682e     SETF      0x2e,0x0                                                                                        
0014a0   ec64     CALL      0x1cc8,0x0                                                                                      
0014a2   f00e                                                                                                               
0014a4   dbda     RCALL     0x1c5a         			MOTOR_ELBOW = manipulator_automatic_adjustment(ELBOW_POSITION_MIDDLE,ELBOW,ELBOW_SPEED,ELBOW_UPPER_LIMIT,ELBOW_LOWER_LIMIT); // use automatic adjustment for the elbow C:\2007 final code\manipulator.c
0014a6   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
0014a8   d002     BRA       0x14ae                                                                                          
0014aa   682d     SETF      0x2d,0x0                                                                                        
0014ac   682e     SETF      0x2e,0x0                                                                                        
0014ae   ec69     CALL      0x1cd2,0x0                                                                                      
0014b0   f00e                                                                                                               
0014b2   dbda     RCALL     0x1c68         			MOTOR_WRIST = manipulator_automatic_adjustment(WRIST_POSITION_MIDDLE,WRIST,WRIST_SPEED,WRIST_UPPER_LIMIT,WRIST_LOWER_LIMIT); // use automatic adjustment for the wrist C:\2007 final code\manipulator.c
0014b4   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
0014b6   d016     BRA       0x14e4                                                                                          
                                                                                                                            C:\2007 final code\manipulator.c
0014b8   d013     BRA       0x14e0         	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case 5: 	// position HIGH	                                                      C:\2007 final code\manipulator.c
                                           		                                                                               C:\2007 final code\manipulator.c
0014ba   ec6e     CALL      0x1cdc,0x0     			MOTOR_BASE = manipulator_automatic_adjustment(BASE_POSITION_HIGH,BASE,BASE_SPEED,BASE_UPPER_LIMIT,BASE_LOWER_LIMIT); // use automatic adjustment for the base C:\2007 final code\manipulator.c
0014bc   f00e                                                                                                               
0014be   dbdb     RCALL     0x1c76                                                                                          
0014c0   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
0014c2   d002     BRA       0x14c8                                                                                          
0014c4   682d     SETF      0x2d,0x0                                                                                        
0014c6   682e     SETF      0x2e,0x0                                                                                        
0014c8   ec64     CALL      0x1cc8,0x0                                                                                      
0014ca   f00e                                                                                                               
001cc8   de78     RCALL     0x19ba                                                                                          
001cca   0102     MOVLB     0x2                                                                                             
001ccc   6fc5     MOVWF     0xc5,0x1                                                                                        
0014cc   dbdb     RCALL     0x1c84         			MOTOR_ELBOW = manipulator_automatic_adjustment(ELBOW_POSITION_HIGH,ELBOW,ELBOW_SPEED,ELBOW_UPPER_LIMIT,ELBOW_LOWER_LIMIT); // use automatic adjustment for the elbow C:\2007 final code\manipulator.c
0014ce   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
0014d0   d002     BRA       0x14d6                                                                                          
0014d2   682d     SETF      0x2d,0x0                                                                                        
0014d4   682e     SETF      0x2e,0x0                                                                                        
0014d6   ec69     CALL      0x1cd2,0x0                                                                                      
0014d8   f00e                                                                                                               
0019e0   6ee6     MOVWF     0xe6,0x0                                                                                        
0019e2   68e6     SETF      0xe6,0x0                                                                                        
0019e4   68e6     SETF      0xe6,0x0                                                                                        
0019e6   68e6     SETF      0xe6,0x0                                                                                        
0019e8   6ee6     MOVWF     0xe6,0x0                                                                                        
0019ea   68e6     SETF      0xe6,0x0                                                                                        
0019ec   68e6     SETF      0xe6,0x0                                                                                        
0019ee   68e6     SETF      0xe6,0x0                                                                                        
0019f0   0012     RETURN    0x0                                                                                             
001cce   efc6     GOTO      0x1d8c                                                                                          
001cd0   f00e                                                                                                               
001cd2   de73     RCALL     0x19ba                                                                                          
001cd4   0102     MOVLB     0x2                                                                                             
001cd6   6fc6     MOVWF     0xc6,0x1                                                                                        
001d8c   0e7e     MOVLW     0x7e                                                                                            
001d8e   de28     RCALL     0x19e0                                                                                          
001d90   efab     GOTO      0x1b56                                                                                          
001d92   f00d                                                                                                               
0014da   dbdb     RCALL     0x1c92         			MOTOR_WRIST = manipulator_automatic_adjustment(WRIST_POSITION_HIGH,WRIST,WRIST_SPEED,WRIST_UPPER_LIMIT,WRIST_LOWER_LIMIT); // use automatic adjustment for the wrist C:\2007 final code\manipulator.c
0014dc   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
0014de   d002     BRA       0x14e4                                                                                          
0014e0   682d     SETF      0x2d,0x0                                                                                        
0014e2   682e     SETF      0x2e,0x0                                                                                        
0014e4   da6a     RCALL     0x19ba                                                                                          
0014e6   0102     MOVLB     0x2                                                                                             
0014e8   6fc7     MOVWF     0xc7,0x1                                                                                        
001cd8   efca     GOTO      0x1d94                                                                                          
001cda   f00e                                                                                                               
001d94   0e8d     MOVLW     0x8d                                                                                            
001d96   de24     RCALL     0x19e0                                                                                          
001d98   efb0     GOTO      0x1b60                                                                                          
001d9a   f00d                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
0014ea   d00a     BRA       0x1500         	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	default:  // should not get here                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0014ec   0efe     MOVLW     0xfe           printf("code error in autonomous_manipulator_master_control: desired_position= %d  \r", desired_position); C:\2007 final code\manipulator.c
0014ee   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0014f0   ffe6                                                                                                               
0014f2   6ae6     CLRF      0xe6,0x0                                                                                        
0014f4   0e1a     MOVLW     0x1a                                                                                            
0014f6   6ee6     MOVWF     0xe6,0x0                                                                                        
0014f8   0e47     MOVLW     0x47                                                                                            
0014fa   6ee6     MOVWF     0xe6,0x0                                                                                        
0014fc   0e00     MOVLW     0x0                                                                                             
0014fe   db1e     RCALL     0x1b3c                                                                                          
                                           		                                                                               C:\2007 final code\manipulator.c
                                           	}	                                                                              C:\2007 final code\manipulator.c
                                           #if 1                                                                            C:\2007 final code\manipulator.c
001500   0103     MOVLB     0x3            auto_counter++;                                                                  C:\2007 final code\manipulator.c
001502   2bb2     INCF      0xb2,0x1,0x1                                                                                    
001504   0e06     MOVLW     0x6            if (auto_counter >= 6)                                                           C:\2007 final code\manipulator.c
001506   5db2     SUBWF     0xb2,0x0,0x1                                                                                    
001508   e30c     BNC       0x1522                                                                                          
                                           {                                                                                C:\2007 final code\manipulator.c
00150a   0efd     MOVLW     0xfd           printf("in autonomous_manipulator_master_control: gripper_open_or_close %d\r", gripper_open_or_close); C:\2007 final code\manipulator.c
00150c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00150e   ffe6                                                                                                               
001510   6ae6     CLRF      0xe6,0x0                                                                                        
001512   0ed6     MOVLW     0xd6                                                                                            
001514   6ee6     MOVWF     0xe6,0x0                                                                                        
001516   0e46     MOVLW     0x46                                                                                            
001518   6ee6     MOVWF     0xe6,0x0                                                                                        
00151a   0e00     MOVLW     0x0                                                                                             
00151c   db0f     RCALL     0x1b3c                                                                                          
001b3c   6ee6     MOVWF     0xe6,0x0                                                                                        
001b3e   ec14     CALL      0x6e28,0x0                                                                                      
001b40   f037                                                                                                               
001b42   6ef5     MOVWF     0xf5,0x0                                                                                        
001b44   0e05     MOVLW     0x5                                                                                             
001b46   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
001b48   50f5     MOVF      0xf5,0x0,0x0                                                                                    
001b4a   0012     RETURN    0x0                                                                                             
00151e   0103     MOVLB     0x3            auto_counter=0;                                                                  C:\2007 final code\manipulator.c
001520   6bb2     CLRF      0xb2,0x1                                                                                        
                                           }                                                                                C:\2007 final code\manipulator.c
                                           #endif                                                                           C:\2007 final code\manipulator.c
001522   0efd     MOVLW     0xfd           	if(gripper_open_or_close)                                                       C:\2007 final code\manipulator.c
001524   50db     MOVF      0xdb,0x0,0x0                                                                                    
001526   e00b     BZ        0x153e                                                                                          
                                           	{                                                                               C:\2007 final code\manipulator.c
001528   ecae     CALL      0x1d5c,0x0     		MOTOR_GRIPPER = manipulator_automatic_adjustment(GRIPPER_OPEN,GRIPPER,GRIPPER_SPEED_FORWARD,GRIPPER_UPPER_LIMIT,GRIPPER_LOWER_LIMIT); C:\2007 final code\manipulator.c
00152a   f00e                                                                                                               
00152c   c354     MOVFF     0x354,0x2b                                                                                      
00152e   f02b                                                                                                               
001530   c355     MOVFF     0x355,0x2c                                                                                      
001532   f02c                                                                                                               
001534   6a2d     CLRF      0x2d,0x0                                                                                        
001536   6a2e     CLRF      0x2e,0x0                                                                                        
001538   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
00153a   d00d     BRA       0x1556                                                                                          
001d5c   0ed8     MOVLW     0xd8                                                                                            
001d5e   de40     RCALL     0x19e0                                                                                          
001d60   0e32     MOVLW     0x32                                                                                            
001d62   6ee6     MOVWF     0xe6,0x0                                                                                        
001d64   0e08     MOVLW     0x8                                                                                             
001d66   6ee6     MOVWF     0xe6,0x0                                                                                        
001d68   0012     RETURN    0x0                                                                                             
                                           	}                                                                               C:\2007 final code\manipulator.c
00153c   d00a     BRA       0x1552         	else                                                                            C:\2007 final code\manipulator.c
                                           	{                                                                               C:\2007 final code\manipulator.c
00153e   ecae     CALL      0x1d5c,0x0     		MOTOR_GRIPPER = manipulator_automatic_adjustment(GRIPPER_CLOSED,GRIPPER,GRIPPER_SPEED_FORWARD,GRIPPER_UPPER_LIMIT,GRIPPER_LOWER_LIMIT); C:\2007 final code\manipulator.c
001540   f00e                                                                                                               
001542   c356     MOVFF     0x356,0x2b                                                                                      
001544   f02b                                                                                                               
001546   c357     MOVFF     0x357,0x2c                                                                                      
001548   f02c                                                                                                               
00154a   6a2d     CLRF      0x2d,0x0                                                                                        
00154c   6a2e     CLRF      0x2e,0x0                                                                                        
00154e   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
001550   d002     BRA       0x1556                                                                                          
001552   682d     SETF      0x2d,0x0                                                                                        
001554   682e     SETF      0x2e,0x0                                                                                        
001556   da31     RCALL     0x19ba                                                                                          
001558   0102     MOVLB     0x2                                                                                             
00155a   6fc8     MOVWF     0xc8,0x1                                                                                        
0019ba   c02b     MOVFF     0x2b,0xfe6                                                                                      
0019bc   ffe6                                                                                                               
0019be   c02c     MOVFF     0x2c,0xfe6                                                                                      
0019c0   ffe6                                                                                                               
0019c2   c02d     MOVFF     0x2d,0xfe6                                                                                      
0019c4   ffe6                                                                                                               
0019c6   c02e     MOVFF     0x2e,0xfe6                                                                                      
0019c8   ffe6                                                                                                               
0019ca   ec6a     CALL      0x8d4,0x0                                                                                       
0019cc   f004                                                                                                               
0019ce   6ef5     MOVWF     0xf5,0x0                                                                                        
0019d0   0e0e     MOVLW     0xe                                                                                             
0019d2   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0019d4   50f5     MOVF      0xf5,0x0,0x0                                                                                    
0019d6   0012     RETURN    0x0                                                                                             
                                           	}                                                                               C:\2007 final code\manipulator.c
                                           		                                                                               C:\2007 final code\manipulator.c
00155c   d30b     BRA       0x1b74         }                                                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           /**************************** Encoder Reset Battery ******************************* C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           Inputs:                                                                          C:\2007 final code\manipulator.c
                                           	Uses global variables from home base limit switches as well as encoders functions C:\2007 final code\manipulator.c
                                           Output:                                                                          C:\2007 final code\manipulator.c
                                           	Resets Encoders 3-6 when their respective home positions are reached (but no direct output) C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           **********************************************************************************/ C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           void encoder_reset_battery(void)                                                 C:\2007 final code\manipulator.c
                                           {                                                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00155e   0103     MOVLB     0x3            	manipulator_counter ++; // add to counter for manipulator code                  C:\2007 final code\manipulator.c
001560   2bb1     INCF      0xb1,0x1,0x1                                                                                    
001562   0e10     MOVLW     0x10           	if (manipulator_counter == 16) // if the manipulator counter value is 16        C:\2007 final code\manipulator.c
001564   5db1     SUBWF     0xb1,0x0,0x1                                                                                    
001566   e101     BNZ       0x156a                                                                                          
001568   6bb1     CLRF      0xb1,0x1       		manipulator_counter = 0; // reset manipulator counter                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           #if MANIP_DEBUG                                                                  C:\2007 final code\manipulator.c
                                           	if (manipulator_counter == 0)                                                   C:\2007 final code\manipulator.c
                                           		printf("MANIPULATOR DEBUG LOOP RESET\r\r");                                    C:\2007 final code\manipulator.c
                                           #endif                                                                           C:\2007 final code\manipulator.c
                                           	                                                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00156a   0e0f     MOVLW     0xf            	if(manipulator_counter == 15) // if the manipulator counter is at 15            C:\2007 final code\manipulator.c
00156c   5db1     SUBWF     0xb1,0x0,0x1                                                                                    
00156e   e101     BNZ       0x1572                                                                                          
                                           	{                                                                               C:\2007 final code\manipulator.c
001570   daa4     RCALL     0x1aba         		encoder_base = (int)ENCODER_BASE; // set base encoder value equal to the current base encoder value  C:\2007 final code\manipulator.c
                                           		encoder_elbow = (int)ENCODER_ELBOW; // set elbow encoder value equal to the current elbow encoder value C:\2007 final code\manipulator.c
                                           		encoder_wrist = (int)ENCODER_WRIST; // set wrist encoder value equal to the current wrist encoder value C:\2007 final code\manipulator.c
                                           		encoder_gripper = (int)ENCODER_GRIPPER; // set gripper encoder value equal to the current gripper encoder value C:\2007 final code\manipulator.c
                                           #if MANIP_DEBUG                                                                  C:\2007 final code\manipulator.c
                                           		printf("checking encoder counts");                                             C:\2007 final code\manipulator.c
                                           #endif                                                                           C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001572   a087     BTFSS     0x87,0x0,0x0   	if(LIMIT_SWITCH_BASE == 1)	//home for encoder 3                                 C:\2007 final code\manipulator.c
001574   d002     BRA       0x157a                                                                                          
001576   ec2a     CALL      0x6654,0x0     		Reset_Encoder_3_Count();		//resets encoder 3                                   C:\2007 final code\manipulator.c
001578   f033                                                                                                               
                                           	                                                                                C:\2007 final code\manipulator.c
00157a   a287     BTFSS     0x87,0x1,0x0   	if(LIMIT_SWITCH_ELBOW == 1)	//home for encoder 4                                C:\2007 final code\manipulator.c
00157c   d002     BRA       0x1582                                                                                          
00157e   ec57     CALL      0x66ae,0x0     		Reset_Encoder_4_Count();		//resets encoder 4                                   C:\2007 final code\manipulator.c
001580   f033                                                                                                               
                                           	                                                                                C:\2007 final code\manipulator.c
001582   a487     BTFSS     0x87,0x2,0x0   	if(LIMIT_SWITCH_WRIST == 1)	//home for encoder 5                                C:\2007 final code\manipulator.c
001584   d002     BRA       0x158a                                                                                          
001586   ec84     CALL      0x6708,0x0     		Reset_Encoder_5_Count();		//resets encoder 5                                   C:\2007 final code\manipulator.c
001588   f033                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
00158a   a687     BTFSS     0x87,0x3,0x0   	if(LIMIT_SWITCH_GRIPPER == 1)	//home for encoder 6                              C:\2007 final code\manipulator.c
00158c   d002     BRA       0x1592                                                                                          
00158e   ecb1     CALL      0x6762,0x0     		Reset_Encoder_6_Count();		//resets encoder 6                                   C:\2007 final code\manipulator.c
001590   f033                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
001592   0012     RETURN    0x0            }                                                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           /************************* Manipulator Calibration Function *********************** C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           Inputs:                                                                          C:\2007 final code\manipulator.c
                                           	Uses global variables found in user_routines.c and the encoder values (but no direct input C:\2007 final code\manipulator.c
                                           Output:                                                                          C:\2007 final code\manipulator.c
                                           	Calls EEPROM_prep function to set arm values to their calibrated values  (but no direct output) C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           **********************************************************************************/ C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001594   ecc2     CALL      0x1d84,0x0     void manipulator_calibration(void)                                               C:\2007 final code\manipulator.c
001596   f00e                                                                                                               
                                           {                                                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	static unsigned char click_handler_1 = 0; // variable to check if the trigger switch has been pressed C:\2007 final code\manipulator.c
                                           	static unsigned char click_handler_2 = 0; // variable to check if the top switch has been pressed C:\2007 final code\manipulator.c
                                           	                                                                                C:\2007 final code\manipulator.c
                                           	unsigned char hold_value_1; // hold value used in this function to set values to EEPROM C:\2007 final code\manipulator.c
                                           	unsigned char hold_value_2; // hold value used in this function to set values to EEPROM C:\2007 final code\manipulator.c
                                           	                                                                                C:\2007 final code\manipulator.c
                                           	                                                                                C:\2007 final code\manipulator.c
                                           	// Manipulator Calibration                                                      C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001598   0102     MOVLB     0x2            	if (p4_sw_trig == 0) // if trigger is not pressed                               C:\2007 final code\manipulator.c
00159a   b9e0     BTFSC     0xe0,0x4,0x1                                                                                    
00159c   d002     BRA       0x15a2                                                                                          
00159e   0103     MOVLB     0x3            	click_handler_1 = 0;// it is no longer being held down                          C:\2007 final code\manipulator.c
0015a0   6bbf     CLRF      0xbf,0x1                                                                                        
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0015a2   0102     MOVLB     0x2            	if((p4_sw_trig) && (p4_sw_trig != click_handler_1)) // if trigger has just been pressed C:\2007 final code\manipulator.c
0015a4   51e0     MOVF      0xe0,0x0,0x1                                                                                    
0015a6   0b10     ANDLW     0x10                                                                                            
0015a8   e101     BNZ       0x15ac                                                                                          
0015aa   d0cf     BRA       0x174a                                                                                          
0015ac   51e0     MOVF      0xe0,0x0,0x1                                                                                    
0015ae   0b10     ANDLW     0x10                                                                                            
0015b0   e001     BZ        0x15b4                                                                                          
0015b2   0e01     MOVLW     0x1                                                                                             
0015b4   0103     MOVLB     0x3                                                                                             
0015b6   5dbf     SUBWF     0xbf,0x0,0x1                                                                                    
0015b8   e101     BNZ       0x15bc                                                                                          
0015ba   d0c7     BRA       0x174a                                                                                          
                                           	{                                                                               C:\2007 final code\manipulator.c
                                           		                                                                               C:\2007 final code\manipulator.c
0015bc   0103     MOVLB     0x3            		switch(rotary_dial)	                                                           C:\2007 final code\manipulator.c
0015be   5131     MOVF      0x31,0x0,0x1                                                                                    
0015c0   0a05     XORLW     0x5                                                                                             
0015c2   e101     BNZ       0x15c6                                                                                          
0015c4   d0a2     BRA       0x170a                                                                                          
0015c6   0a01     XORLW     0x1                                                                                             
0015c8   e101     BNZ       0x15cc                                                                                          
0015ca   d07f     BRA       0x16ca                                                                                          
0015cc   0a07     XORLW     0x7                                                                                             
0015ce   e05d     BZ        0x168a                                                                                          
0015d0   0a01     XORLW     0x1                                                                                             
0015d2   e03b     BZ        0x164a                                                                                          
0015d4   0a03     XORLW     0x3                                                                                             
0015d6   e001     BZ        0x15da                                                                                          
0015d8   d0b8     BRA       0x174a                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           		                                                                               C:\2007 final code\manipulator.c
                                           		case 1:	// BOX                                                                 C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           			                                                                              C:\2007 final code\manipulator.c
0015da   ec1b     CALL      0x6636,0x0     			Base_Position_Box = (int)ENCODER_BASE;	// set global int to encoder value     C:\2007 final code\manipulator.c
0015dc   f033                                                                                                               
0015de   c01b     MOVFF     0x1b,0x336                                                                                      
0015e0   f336                                                                                                               
0015e2   c01c     MOVFF     0x1c,0x337                                                                                      
0015e4   f337                                                                                                               
0015e6   0103     MOVLB     0x3            			hold_value_1 = Base_Position_Box & 0xFF;	// set lower byte                    C:\2007 final code\manipulator.c
0015e8   db8e     RCALL     0x1d06                                                                                          
001d06   501b     MOVF      0x1b,0x0,0x0                                                                                    
001d08   6edf     MOVWF     0xdf,0x0                                                                                        
001d0a   c01c     MOVFF     0x1c,0x2b      			hold_value_2 = (Base_Position_Box >> 8) & 0xff;	// set upper byte             C:\2007 final code\manipulator.c
001d0c   f02b                                                                                                               
001d0e   6a2c     CLRF      0x2c,0x0                                                                                        
001d10   0eff     MOVLW     0xff                                                                                            
001d12   162b     ANDWF     0x2b,0x1,0x0                                                                                    
001d14   0e00     MOVLW     0x0                                                                                             
001d16   162c     ANDWF     0x2c,0x1,0x0                                                                                    
001d18   0e01     MOVLW     0x1                                                                                             
001d1a   c02b     MOVFF     0x2b,0xfdb                                                                                      
001d1c   ffdb                                                                                                               
001d1e   0012     RETURN    0x0                                                                                             
0015ea   cfdb     MOVFF     0xfdb,0xfe6    			printf("initial value, write value lower, write value higher  \r%d\r%d,%d\r", Base_Position_Box,hold_value_1,hold_value_2); C:\2007 final code\manipulator.c
0015ec   ffe6                                                                                                               
0015ee   6ae6     CLRF      0xe6,0x0                                                                                        
0015f0   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
0015f2   ffe6                                                                                                               
0015f4   6ae6     CLRF      0xe6,0x0                                                                                        
0015f6   c01b     MOVFF     0x1b,0xfe6                                                                                      
0015f8   ffe6                                                                                                               
0015fa   c01c     MOVFF     0x1c,0xfe6                                                                                      
0015fc   ffe6                                                                                                               
0015fe   0e95     MOVLW     0x95                                                                                            
001600   6ee6     MOVWF     0xe6,0x0                                                                                        
001602   0e46     MOVLW     0x46                                                                                            
001604   6ee6     MOVWF     0xe6,0x0                                                                                        
001606   0e00     MOVLW     0x0                                                                                             
001608   6ee6     MOVWF     0xe6,0x0                                                                                        
00160a   ec14     CALL      0x6e28,0x0                                                                                      
00160c   f037                                                                                                               
00160e   6ef5     MOVWF     0xf5,0x0                                                                                        
001610   0e09     MOVLW     0x9                                                                                             
001612   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
001614   50f5     MOVF      0xf5,0x0,0x0                                                                                    
001616   cfdf     MOVFF     0xfdf,0xfe6    			EEPROM_prep(BASE_BOX_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address	 C:\2007 final code\manipulator.c
001618   ffe6                                                                                                               
00161a   0e80     MOVLW     0x80                                                                                            
00161c   db46     RCALL     0x1caa                                                                                          
00161e   0e81     MOVLW     0x81           			EEPROM_prep(BASE_BOX_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
001620   db87     RCALL     0x1d30                                                                                          
                                                                                                                            C:\2007 final code\manipulator.c
001622   c01b     MOVFF     0x1b,0x340     			Elbow_Position_Box = (int)ENCODER_ELBOW;	// set global int to encoder value   C:\2007 final code\manipulator.c
001624   f340                                                                                                               
001626   c01c     MOVFF     0x1c,0x341                                                                                      
001628   f341                                                                                                               
00162a   0103     MOVLB     0x3            			hold_value_1 = Elbow_Position_Box & 0xFF;	// set lower byte                   C:\2007 final code\manipulator.c
00162c   d9d5     RCALL     0x19d8                                                                                          
                                           			hold_value_2 = (Elbow_Position_Box >> 8) & 0xff;	// set upper byte            C:\2007 final code\manipulator.c
00162e   0e8a     MOVLW     0x8a           			EEPROM_prep(ELBOW_BOX_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
001630   db3c     RCALL     0x1caa                                                                                          
001632   0e8b     MOVLW     0x8b           			EEPROM_prep(ELBOW_BOX_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
001634   db80     RCALL     0x1d36                                                                                          
                                                                                                                            C:\2007 final code\manipulator.c
001636   c01b     MOVFF     0x1b,0x34a     			Wrist_Position_Box = (int)ENCODER_WRIST;	// set global int to encoder value   C:\2007 final code\manipulator.c
001638   f34a                                                                                                               
00163a   c01c     MOVFF     0x1c,0x34b                                                                                      
00163c   f34b                                                                                                               
00163e   0103     MOVLB     0x3            			hold_value_1 = Wrist_Position_Box & 0xFF;	// set lower byte                   C:\2007 final code\manipulator.c
001640   d9cb     RCALL     0x19d8                                                                                          
                                           			hold_value_2 = (Wrist_Position_Box >> 8) & 0xff;	// set upper byte            C:\2007 final code\manipulator.c
001642   0e94     MOVLW     0x94           			EEPROM_prep(WRIST_BOX_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
001644   db32     RCALL     0x1caa                                                                                          
001646   0e95     MOVLW     0x95           			EEPROM_prep(WRIST_BOX_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001648   d07f     BRA       0x1748         		break;	                                                                        C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           		case 2:	// FLOOR                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00164a   ec1b     CALL      0x6636,0x0     			Base_Position_Floor = (int)ENCODER_BASE;	// set global int to encoder value   C:\2007 final code\manipulator.c
00164c   f033                                                                                                               
00164e   c01b     MOVFF     0x1b,0x338                                                                                      
001650   f338                                                                                                               
001652   c01c     MOVFF     0x1c,0x339                                                                                      
001654   f339                                                                                                               
001656   0103     MOVLB     0x3            			hold_value_1 = Base_Position_Floor & 0xFF;	// set lower byte                  C:\2007 final code\manipulator.c
001658   d9bf     RCALL     0x19d8                                                                                          
                                           			hold_value_2 = (Base_Position_Floor >> 8) & 0xff;	// set upper byte           C:\2007 final code\manipulator.c
00165a   0e82     MOVLW     0x82           			EEPROM_prep(BASE_FLOOR_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
00165c   db26     RCALL     0x1caa                                                                                          
00165e   0e83     MOVLW     0x83           			EEPROM_prep(BASE_FLOOR_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
001660   db67     RCALL     0x1d30                                                                                          
                                                                                                                            C:\2007 final code\manipulator.c
001662   c01b     MOVFF     0x1b,0x342     			Elbow_Position_Floor = (int)ENCODER_ELBOW;	// set global int to encoder value C:\2007 final code\manipulator.c
001664   f342                                                                                                               
001666   c01c     MOVFF     0x1c,0x343                                                                                      
001668   f343                                                                                                               
00166a   0103     MOVLB     0x3            			hold_value_1 = Elbow_Position_Floor & 0xFF;	// set lower byte                 C:\2007 final code\manipulator.c
00166c   d9b5     RCALL     0x19d8                                                                                          
                                           			hold_value_2 = (Elbow_Position_Floor >> 8) & 0xff;	// set upper byte          C:\2007 final code\manipulator.c
00166e   0e8c     MOVLW     0x8c           			EEPROM_prep(ELBOW_FLOOR_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
001670   db1c     RCALL     0x1caa                                                                                          
001672   0e8d     MOVLW     0x8d           			EEPROM_prep(ELBOW_FLOOR_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
001674   db60     RCALL     0x1d36                                                                                          
                                           	                                                                                C:\2007 final code\manipulator.c
001676   c01b     MOVFF     0x1b,0x34c     			Wrist_Position_Floor = (int)ENCODER_WRIST;	// set global int to encoder value C:\2007 final code\manipulator.c
001678   f34c                                                                                                               
00167a   c01c     MOVFF     0x1c,0x34d                                                                                      
00167c   f34d                                                                                                               
00167e   0103     MOVLB     0x3            			hold_value_1 = Wrist_Position_Floor & 0xFF;	// set lower byte                 C:\2007 final code\manipulator.c
001680   d9ab     RCALL     0x19d8                                                                                          
                                           			hold_value_2 = (Wrist_Position_Floor >> 8) & 0xff;	// set upper byte          C:\2007 final code\manipulator.c
001682   0e96     MOVLW     0x96           			EEPROM_prep(WRIST_FLOOR_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
001684   db12     RCALL     0x1caa                                                                                          
001686   0e97     MOVLW     0x97           			EEPROM_prep(WRIST_FLOOR_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001688   d05f     BRA       0x1748         		break;	                                                                        C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           		case 3:	// LOW                                                                 C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00168a   ec1b     CALL      0x6636,0x0     			Base_Position_Low = (int)ENCODER_BASE;	// set global int to encoder value     C:\2007 final code\manipulator.c
00168c   f033                                                                                                               
00168e   c01b     MOVFF     0x1b,0x33a                                                                                      
001690   f33a                                                                                                               
001692   c01c     MOVFF     0x1c,0x33b                                                                                      
001694   f33b                                                                                                               
001696   0103     MOVLB     0x3            			hold_value_1 = Base_Position_Low & 0xFF;	// set lower byte                    C:\2007 final code\manipulator.c
001698   d99f     RCALL     0x19d8                                                                                          
                                           			hold_value_2 = (Base_Position_Low >> 8) & 0xff;	// set upper byte             C:\2007 final code\manipulator.c
00169a   0e84     MOVLW     0x84           			EEPROM_prep(BASE_LOW_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
00169c   db06     RCALL     0x1caa                                                                                          
00169e   0e85     MOVLW     0x85           			EEPROM_prep(BASE_LOW_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
0016a0   db47     RCALL     0x1d30                                                                                          
                                                                                                                            C:\2007 final code\manipulator.c
0016a2   c01b     MOVFF     0x1b,0x344     			Elbow_Position_Low = (int)ENCODER_ELBOW;	// set global int to encoder value   C:\2007 final code\manipulator.c
0016a4   f344                                                                                                               
0016a6   c01c     MOVFF     0x1c,0x345                                                                                      
0016a8   f345                                                                                                               
0016aa   0103     MOVLB     0x3            			hold_value_1 = Elbow_Position_Low & 0xFF;	// set lower byte                   C:\2007 final code\manipulator.c
0016ac   d995     RCALL     0x19d8                                                                                          
                                           			hold_value_2 = (Elbow_Position_Low >> 8) & 0xff;	// set upper byte            C:\2007 final code\manipulator.c
0016ae   0e8e     MOVLW     0x8e           			EEPROM_prep(ELBOW_LOW_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
0016b0   dafc     RCALL     0x1caa                                                                                          
0016b2   0e8f     MOVLW     0x8f           			EEPROM_prep(ELBOW_LOW_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
0016b4   db40     RCALL     0x1d36                                                                                          
                                                                                                                            C:\2007 final code\manipulator.c
0016b6   c01b     MOVFF     0x1b,0x34e     			Wrist_Position_Low = (int)ENCODER_WRIST;	// set global int to encoder value   C:\2007 final code\manipulator.c
0016b8   f34e                                                                                                               
0016ba   c01c     MOVFF     0x1c,0x34f                                                                                      
0016bc   f34f                                                                                                               
0016be   0103     MOVLB     0x3            			hold_value_1 = Wrist_Position_Low & 0xFF;	// set lower byte                   C:\2007 final code\manipulator.c
0016c0   d98b     RCALL     0x19d8                                                                                          
                                           			hold_value_2 = (Wrist_Position_Low >> 8) & 0xff;	// set upper byte            C:\2007 final code\manipulator.c
0016c2   0e98     MOVLW     0x98           			EEPROM_prep(WRIST_LOW_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
0016c4   daf2     RCALL     0x1caa                                                                                          
0016c6   0e99     MOVLW     0x99           			EEPROM_prep(WRIST_LOW_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0016c8   d03f     BRA       0x1748         		break;	                                                                        C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           		case 4:	// MIDDLE                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0016ca   ec1b     CALL      0x6636,0x0     			Base_Position_Middle = (int)ENCODER_BASE;	// set global int to encoder value  C:\2007 final code\manipulator.c
0016cc   f033                                                                                                               
0016ce   c01b     MOVFF     0x1b,0x33c                                                                                      
0016d0   f33c                                                                                                               
0016d2   c01c     MOVFF     0x1c,0x33d                                                                                      
0016d4   f33d                                                                                                               
0016d6   0103     MOVLB     0x3            			hold_value_1 = Base_Position_Middle & 0xFF;	// set lower byte                 C:\2007 final code\manipulator.c
0016d8   d97f     RCALL     0x19d8                                                                                          
                                           			hold_value_2 = (Base_Position_Middle >> 8) & 0xff;	// set upper byte          C:\2007 final code\manipulator.c
0016da   0e86     MOVLW     0x86           			EEPROM_prep(BASE_MIDDLE_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
0016dc   dae6     RCALL     0x1caa                                                                                          
0016de   0e87     MOVLW     0x87           			EEPROM_prep(BASE_MIDDLE_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
0016e0   db27     RCALL     0x1d30                                                                                          
                                                                                                                            C:\2007 final code\manipulator.c
0016e2   c01b     MOVFF     0x1b,0x346     			Elbow_Position_Middle = (int)ENCODER_ELBOW;	// set global int to encoder value C:\2007 final code\manipulator.c
0016e4   f346                                                                                                               
0016e6   c01c     MOVFF     0x1c,0x347                                                                                      
0016e8   f347                                                                                                               
0016ea   0103     MOVLB     0x3            			hold_value_1 = Elbow_Position_Middle & 0xFF;	// set lower byte                C:\2007 final code\manipulator.c
0016ec   d975     RCALL     0x19d8                                                                                          
                                           			hold_value_2 = (Elbow_Position_Middle >> 8) & 0xff;	// set upper byte         C:\2007 final code\manipulator.c
0016ee   0e90     MOVLW     0x90           			EEPROM_prep(ELBOW_MIDDLE_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
0016f0   dadc     RCALL     0x1caa                                                                                          
0016f2   0e91     MOVLW     0x91           			EEPROM_prep(ELBOW_MIDDLE_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
0016f4   db20     RCALL     0x1d36                                                                                          
                                                                                                                            C:\2007 final code\manipulator.c
0016f6   c01b     MOVFF     0x1b,0x350     			Wrist_Position_Middle = (int)ENCODER_WRIST;	// set global int to encoder value C:\2007 final code\manipulator.c
0016f8   f350                                                                                                               
0016fa   c01c     MOVFF     0x1c,0x351                                                                                      
0016fc   f351                                                                                                               
0016fe   0103     MOVLB     0x3            			hold_value_1 = Wrist_Position_Middle & 0xFF;	// set lower byte                C:\2007 final code\manipulator.c
001700   d96b     RCALL     0x19d8                                                                                          
                                           			hold_value_2 = (Wrist_Position_Middle >> 8) & 0xff;	// set upper byte         C:\2007 final code\manipulator.c
001702   0e9a     MOVLW     0x9a           			EEPROM_prep(WRIST_MIDDLE_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
001704   dad2     RCALL     0x1caa                                                                                          
001706   0e9b     MOVLW     0x9b           			EEPROM_prep(WRIST_MIDDLE_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001708   d01f     BRA       0x1748         		break;	                                                                        C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           		case 5:	// HIGH                                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00170a   ec1b     CALL      0x6636,0x0     			Base_Position_High = (int)ENCODER_BASE;	// set global int to encoder value    C:\2007 final code\manipulator.c
00170c   f033                                                                                                               
00170e   c01b     MOVFF     0x1b,0x33e                                                                                      
001710   f33e                                                                                                               
001712   c01c     MOVFF     0x1c,0x33f                                                                                      
001714   f33f                                                                                                               
001716   0103     MOVLB     0x3            			hold_value_1 = Base_Position_High & 0xFF;	// set lower byte                   C:\2007 final code\manipulator.c
001718   d95f     RCALL     0x19d8                                                                                          
                                           			hold_value_2 = (Base_Position_High >> 8) & 0xff;	// set upper byte            C:\2007 final code\manipulator.c
00171a   0e88     MOVLW     0x88           			EEPROM_prep(BASE_HIGH_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
00171c   dac6     RCALL     0x1caa                                                                                          
00171e   0e89     MOVLW     0x89           			EEPROM_prep(BASE_HIGH_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
001720   db07     RCALL     0x1d30                                                                                          
001d30   de60     RCALL     0x19f2                                                                                          
                                                                                                                            C:\2007 final code\manipulator.c
001722   c01b     MOVFF     0x1b,0x348     			Elbow_Position_High = (int)ENCODER_ELBOW;	// set global int to encoder value  C:\2007 final code\manipulator.c
001724   f348                                                                                                               
001726   c01c     MOVFF     0x1c,0x349                                                                                      
001728   f349                                                                                                               
001d32   ef48     GOTO      0x6690                                                                                          
001d34   f033                                                                                                               
00172a   0103     MOVLB     0x3            			hold_value_1 = Elbow_Position_High & 0xFF;	// set lower byte                  C:\2007 final code\manipulator.c
00172c   d955     RCALL     0x19d8                                                                                          
                                           			hold_value_2 = (Elbow_Position_High >> 8) & 0xff;	// set upper byte           C:\2007 final code\manipulator.c
00172e   0e92     MOVLW     0x92           			EEPROM_prep(ELBOW_HIGH_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
001730   dabc     RCALL     0x1caa                                                                                          
001732   0e93     MOVLW     0x93           			EEPROM_prep(ELBOW_HIGH_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
001734   db00     RCALL     0x1d36                                                                                          
001d36   de5d     RCALL     0x19f2                                                                                          
                                           	                                                                                C:\2007 final code\manipulator.c
001736   c01b     MOVFF     0x1b,0x352     			Wrist_Position_High = (int)ENCODER_WRIST;	// set global int to encoder value  C:\2007 final code\manipulator.c
001738   f352                                                                                                               
00173a   c01c     MOVFF     0x1c,0x353                                                                                      
00173c   f353                                                                                                               
001d38   ef75     GOTO      0x66ea                                                                                          
001d3a   f033                                                                                                               
00173e   0103     MOVLB     0x3            			hold_value_1 = Wrist_Position_High & 0xFF;	// set lower byte                  C:\2007 final code\manipulator.c
001740   d94b     RCALL     0x19d8                                                                                          
                                           			hold_value_2 = (Wrist_Position_High >> 8) & 0xff;	// set upper byte           C:\2007 final code\manipulator.c
001742   0e9c     MOVLW     0x9c           			EEPROM_prep(WRIST_HIGH_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
001744   dab2     RCALL     0x1caa                                                                                          
001746   0e9d     MOVLW     0x9d           			EEPROM_prep(WRIST_HIGH_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
001748   d954     RCALL     0x19f2                                                                                          
                                                                                                                            C:\2007 final code\manipulator.c
                                           		break;	                                                                        C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           		}	                                                                             C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                           	                                                                                C:\2007 final code\manipulator.c
00174a   0102     MOVLB     0x2            	if(p4_sw_trig == 1)	// if trigger is being pressed                              C:\2007 final code\manipulator.c
00174c   a9e0     BTFSS     0xe0,0x4,0x1                                                                                    
00174e   d003     BRA       0x1756                                                                                          
001750   0103     MOVLB     0x3            	click_handler_1 = 1; // it is being held down	                                  C:\2007 final code\manipulator.c
001752   0e01     MOVLW     0x1                                                                                             
001754   6fbf     MOVWF     0xbf,0x1                                                                                        
                                           	                                                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	// Gripper Calibration			                                                       C:\2007 final code\manipulator.c
                                           	                                                                                C:\2007 final code\manipulator.c
001756   0102     MOVLB     0x2            	if (p4_sw_top == 0) // if trigger is not pressed                                C:\2007 final code\manipulator.c
001758   bbe0     BTFSC     0xe0,0x5,0x1                                                                                    
00175a   d002     BRA       0x1760                                                                                          
                                           	{                                                                               C:\2007 final code\manipulator.c
00175c   0103     MOVLB     0x3            		click_handler_2 = 0;	// it is no longer being held down                        C:\2007 final code\manipulator.c
00175e   6bc0     CLRF      0xc0,0x1                                                                                        
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001760   0102     MOVLB     0x2            	if((p4_sw_top) && (p4_sw_top != click_handler_2)) // if trigger has just been pressed C:\2007 final code\manipulator.c
001762   51e0     MOVF      0xe0,0x0,0x1                                                                                    
001764   0b20     ANDLW     0x20                                                                                            
001766   e02b     BZ        0x17be                                                                                          
001768   51e0     MOVF      0xe0,0x0,0x1                                                                                    
00176a   0b20     ANDLW     0x20                                                                                            
00176c   e001     BZ        0x1770                                                                                          
00176e   0e01     MOVLW     0x1                                                                                             
001770   0103     MOVLB     0x3                                                                                             
001772   5dc0     SUBWF     0xc0,0x0,0x1                                                                                    
001774   e024     BZ        0x17be                                                                                          
                                           	{                                                                               C:\2007 final code\manipulator.c
                                           	                                                                                C:\2007 final code\manipulator.c
001776   0103     MOVLB     0x3            		switch(rotary_dial)                                                            C:\2007 final code\manipulator.c
001778   5131     MOVF      0x31,0x0,0x1                                                                                    
00177a   0a04     XORLW     0x4                                                                                             
00177c   e014     BZ        0x17a6                                                                                          
00177e   0a01     XORLW     0x1                                                                                             
001780   e012     BZ        0x17a6                                                                                          
001782   0a04     XORLW     0x4                                                                                             
001784   e004     BZ        0x178e                                                                                          
001786   0a03     XORLW     0x3                                                                                             
001788   e002     BZ        0x178e                                                                                          
00178a   0a01     XORLW     0x1                                                                                             
00178c   e118     BNZ       0x17be                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           		case 1: // OPEN                                                                C:\2007 final code\manipulator.c
                                           		case 2:                                                                        C:\2007 final code\manipulator.c
                                           		case 3:                                                                        C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00178e   eca2     CALL      0x6744,0x0     			Gripper_Open = (int)ENCODER_GRIPPER;	// set global int to encoder value       C:\2007 final code\manipulator.c
001790   f033                                                                                                               
001792   c01b     MOVFF     0x1b,0x354                                                                                      
001794   f354                                                                                                               
001796   c01c     MOVFF     0x1c,0x355                                                                                      
001798   f355                                                                                                               
00179a   0103     MOVLB     0x3            			hold_value_1 = Gripper_Open  & 0xFF;	// set lower byte                        C:\2007 final code\manipulator.c
00179c   d91d     RCALL     0x19d8                                                                                          
                                           			hold_value_2 = (Gripper_Open >> 8) & 0xff;	// set upper byte                  C:\2007 final code\manipulator.c
00179e   0e9e     MOVLW     0x9e           			EEPROM_prep(GRIPPER_OPEN_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
0017a0   da84     RCALL     0x1caa                                                                                          
0017a2   0e9f     MOVLW     0x9f           			EEPROM_prep(GRIPPER_OPEN_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0017a4   d00b     BRA       0x17bc         		break;                                                                         C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           		case 4: // CLOSED                                                              C:\2007 final code\manipulator.c
                                           	    case 5:                                                                     C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0017a6   eca2     CALL      0x6744,0x0     			Gripper_Closed = (int)ENCODER_GRIPPER;	// set global int to encoder value     C:\2007 final code\manipulator.c
0017a8   f033                                                                                                               
0017aa   c01b     MOVFF     0x1b,0x356                                                                                      
0017ac   f356                                                                                                               
0017ae   c01c     MOVFF     0x1c,0x357                                                                                      
0017b0   f357                                                                                                               
0017b2   0103     MOVLB     0x3            			hold_value_1 = Gripper_Closed  & 0xFF;	// set lower byte                      C:\2007 final code\manipulator.c
0017b4   d911     RCALL     0x19d8                                                                                          
0019d8   d996     RCALL     0x1d06                                                                                          
                                           			hold_value_2 = (Gripper_Closed >> 8) & 0xff;	// set upper byte                C:\2007 final code\manipulator.c
0017b6   0ea0     MOVLW     0xa0           			EEPROM_prep(GRIPPER_CLOSED_EEPROM_LOW_BYTE,hold_value_1);	// set lower byte to an EEPROM address C:\2007 final code\manipulator.c
0017b8   da78     RCALL     0x1caa                                                                                          
0019da   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
0019dc   ffe6                                                                                                               
0019de   0012     RETURN    0x0                                                                                             
001caa   dea3     RCALL     0x19f2                                                                                          
0017ba   0ea1     MOVLW     0xa1           			EEPROM_prep(GRIPPER_CLOSED_EEPROM_HIGH_BYTE,hold_value_2);	// set upper byte to an EEPROM address C:\2007 final code\manipulator.c
0017bc   d91a     RCALL     0x19f2                                                                                          
0019f2   6ee6     MOVWF     0xe6,0x0                                                                                        
0019f4   6ae6     CLRF      0xe6,0x0                                                                                        
0019f6   eca7     CALL      0x6b4e,0x0                                                                                      
0019f8   f035                                                                                                               
0019fa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0019fc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0019fe   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001a00   0012     RETURN    0x0                                                                                             
001b34   0e01     MOVLW     0x1                                                                                             
001b36   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
001b38   ffe6                                                                                                               
001b3a   0012     RETURN    0x0                                                                                             
001cac   ef9a     GOTO      0x1b34                                                                                          
001cae   f00d                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
                                           		break;                                                                         C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           		}	                                                                             C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0017be   0102     MOVLB     0x2            	if(p4_sw_top == 1)	// if trigger is being pressed                               C:\2007 final code\manipulator.c
0017c0   abe0     BTFSS     0xe0,0x5,0x1                                                                                    
0017c2   d003     BRA       0x17ca                                                                                          
0017c4   0103     MOVLB     0x3            	click_handler_2 = 1; // it is being held down                                   C:\2007 final code\manipulator.c
0017c6   0e01     MOVLW     0x1                                                                                             
0017c8   6fc0     MOVWF     0xc0,0x1                                                                                        
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0017ca   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\manipulator.c
0017cc   ffe1                                                                                                               
0017ce   d1d2     BRA       0x1b74                                                                                          
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           /********************** Manipulator Initialization Function *********************** C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           Inputs:                                                                          C:\2007 final code\manipulator.c
                                           	Reads EEPROM values (but no direct input)                                       C:\2007 final code\manipulator.c
                                           Output:                                                                          C:\2007 final code\manipulator.c
                                           	Sets manipulator global variables in user_routines.c  (but no direct output)    C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           **********************************************************************************/ C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0017d0   dad9     RCALL     0x1d84         void manipulator_initialization(void)	                                           C:\2007 final code\manipulator.c
001d84   def2     RCALL     0x1b6a                                                                                          
001d86   0e02     MOVLW     0x2                                                                                             
001d88   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
001d8a   0012     RETURN    0x0                                                                                             
                                           {                                                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	static unsigned char EEPROM_counter = 0;	// used to avoid running through too many EEPROM reads per code loop  C:\2007 final code\manipulator.c
                                           	unsigned char hold_data_1;	// used to temporarily hold lower bytes for EEPROM_writing C:\2007 final code\manipulator.c
                                           	unsigned char hold_data_2;	// used to temporarily hold lower bytes for EEPROM_writing C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0017d2   0e05     MOVLW     0x5            	if (EEPROM_counter < 5) // if counter has not reached the 5th code loop         C:\2007 final code\manipulator.c
0017d4   0103     MOVLB     0x3                                                                                             
0017d6   5dc1     SUBWF     0xc1,0x0,0x1                                                                                    
0017d8   e301     BNC       0x17dc                                                                                          
0017da   d0a8     BRA       0x192c                                                                                          
                                           	{                                                                               C:\2007 final code\manipulator.c
0017dc   2bc1     INCF      0xc1,0x1,0x1   		EEPROM_counter ++;  // add to the counter                                      C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                           	else // if counter has reached the 5th code loop                                C:\2007 final code\manipulator.c
                                           	{                                                                               C:\2007 final code\manipulator.c
                                           		return; // get out of the function                                             C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           /////////////////////////////// Arm EEPROM Readings ///////////////////////////// C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0017de   05c1     DECF      0xc1,0x0,0x1   	if (EEPROM_counter == 1) // Read the BASE presets on the 1st code loop          C:\2007 final code\manipulator.c
0017e0   e12d     BNZ       0x183c                                                                                          
                                           	{                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0017e2   0e80     MOVLW     0x80           		hold_data_1 = EEPROM_read(BASE_BOX_EEPROM_LOW_BYTE); // read lower byte        C:\2007 final code\manipulator.c
0017e4   d90e     RCALL     0x1a02                                                                                          
0017e6   0e81     MOVLW     0x81           		hold_data_2 = EEPROM_read(BASE_BOX_EEPROM_HIGH_BYTE); // read upper byte       C:\2007 final code\manipulator.c
0017e8   d8d4     RCALL     0x1992                                                                                          
0017ea   0103     MOVLB     0x3            		Base_Position_Box = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
0017ec   102b     IORWF     0x2b,0x0,0x0                                                                                    
0017ee   6f36     MOVWF     0x36,0x1                                                                                        
0017f0   c02c     MOVFF     0x2c,0x337                                                                                      
0017f2   f337                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
0017f4   0e82     MOVLW     0x82           		hold_data_1 = EEPROM_read(BASE_FLOOR_EEPROM_LOW_BYTE);	// read lower byte      C:\2007 final code\manipulator.c
0017f6   d905     RCALL     0x1a02                                                                                          
0017f8   0e83     MOVLW     0x83           		hold_data_2 = EEPROM_read(BASE_FLOOR_EEPROM_HIGH_BYTE); // read upper byte     C:\2007 final code\manipulator.c
0017fa   d8cb     RCALL     0x1992                                                                                          
0017fc   0103     MOVLB     0x3            		Base_Position_Floor = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
0017fe   102b     IORWF     0x2b,0x0,0x0                                                                                    
001800   6f38     MOVWF     0x38,0x1                                                                                        
001802   c02c     MOVFF     0x2c,0x339                                                                                      
001804   f339                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
001806   0e84     MOVLW     0x84           		hold_data_1 = EEPROM_read(BASE_LOW_EEPROM_LOW_BYTE);	// read lower byte        C:\2007 final code\manipulator.c
001808   d8fc     RCALL     0x1a02                                                                                          
00180a   0e85     MOVLW     0x85           		hold_data_2 = EEPROM_read(BASE_LOW_EEPROM_HIGH_BYTE); // read upper byte       C:\2007 final code\manipulator.c
00180c   d8c2     RCALL     0x1992                                                                                          
00180e   0103     MOVLB     0x3            		Base_Position_Low = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
001810   102b     IORWF     0x2b,0x0,0x0                                                                                    
001812   6f3a     MOVWF     0x3a,0x1                                                                                        
001814   c02c     MOVFF     0x2c,0x33b                                                                                      
001816   f33b                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
001818   0e86     MOVLW     0x86           		hold_data_1 = EEPROM_read(BASE_MIDDLE_EEPROM_LOW_BYTE);	// read lower byte     C:\2007 final code\manipulator.c
00181a   d8f3     RCALL     0x1a02                                                                                          
00181c   0e87     MOVLW     0x87           		hold_data_2 = EEPROM_read(BASE_MIDDLE_EEPROM_HIGH_BYTE); // read upper byte    C:\2007 final code\manipulator.c
00181e   d8b9     RCALL     0x1992                                                                                          
001820   0103     MOVLB     0x3            		Base_Position_Middle = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
001822   102b     IORWF     0x2b,0x0,0x0                                                                                    
001824   6f3c     MOVWF     0x3c,0x1                                                                                        
001826   c02c     MOVFF     0x2c,0x33d                                                                                      
001828   f33d                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
00182a   0e88     MOVLW     0x88           		hold_data_1 = EEPROM_read(BASE_HIGH_EEPROM_LOW_BYTE);	// read lower byte       C:\2007 final code\manipulator.c
00182c   d8ea     RCALL     0x1a02                                                                                          
00182e   0e89     MOVLW     0x89           		hold_data_2 = EEPROM_read(BASE_HIGH_EEPROM_HIGH_BYTE); // read upper byte      C:\2007 final code\manipulator.c
001830   d8b0     RCALL     0x1992                                                                                          
001832   0103     MOVLB     0x3            		Base_Position_High = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
001834   102b     IORWF     0x2b,0x0,0x0                                                                                    
001836   6f3e     MOVWF     0x3e,0x1                                                                                        
001838   c02c     MOVFF     0x2c,0x33f                                                                                      
00183a   f33f                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
                                           //		printf("1");                                                                 C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00183c   0e02     MOVLW     0x2            	if (EEPROM_counter == 2) // Read the ELBOW presets on the 1st code loop         C:\2007 final code\manipulator.c
00183e   0103     MOVLB     0x3                                                                                             
001840   5dc1     SUBWF     0xc1,0x0,0x1                                                                                    
001842   e12d     BNZ       0x189e                                                                                          
                                           	{                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001844   0e8a     MOVLW     0x8a           		hold_data_1 = EEPROM_read(ELBOW_BOX_EEPROM_LOW_BYTE);	// read lower byte       C:\2007 final code\manipulator.c
001846   d8dd     RCALL     0x1a02                                                                                          
001848   0e8b     MOVLW     0x8b           		hold_data_2 = EEPROM_read(ELBOW_BOX_EEPROM_HIGH_BYTE); // read upper byte      C:\2007 final code\manipulator.c
00184a   d8a3     RCALL     0x1992                                                                                          
00184c   0103     MOVLB     0x3            		Elbow_Position_Box = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
00184e   102b     IORWF     0x2b,0x0,0x0                                                                                    
001850   6f40     MOVWF     0x40,0x1                                                                                        
001852   c02c     MOVFF     0x2c,0x341                                                                                      
001854   f341                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
001856   0e8c     MOVLW     0x8c           		hold_data_1 = EEPROM_read(ELBOW_FLOOR_EEPROM_LOW_BYTE);	// read lower byte     C:\2007 final code\manipulator.c
001858   d8d4     RCALL     0x1a02                                                                                          
00185a   0e8d     MOVLW     0x8d           		hold_data_2 = EEPROM_read(ELBOW_FLOOR_EEPROM_HIGH_BYTE); // read upper byte    C:\2007 final code\manipulator.c
00185c   d89a     RCALL     0x1992                                                                                          
00185e   0103     MOVLB     0x3            		Elbow_Position_Floor = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
001860   102b     IORWF     0x2b,0x0,0x0                                                                                    
001862   6f42     MOVWF     0x42,0x1                                                                                        
001864   c02c     MOVFF     0x2c,0x343                                                                                      
001866   f343                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
001868   0e8e     MOVLW     0x8e           		hold_data_1 = EEPROM_read(ELBOW_LOW_EEPROM_LOW_BYTE);	// read lower byte       C:\2007 final code\manipulator.c
00186a   d8cb     RCALL     0x1a02                                                                                          
00186c   0e8f     MOVLW     0x8f           		hold_data_2 = EEPROM_read(ELBOW_LOW_EEPROM_HIGH_BYTE); // read upper byte      C:\2007 final code\manipulator.c
00186e   d891     RCALL     0x1992                                                                                          
001870   0103     MOVLB     0x3            		Elbow_Position_Low = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
001872   102b     IORWF     0x2b,0x0,0x0                                                                                    
001874   6f44     MOVWF     0x44,0x1                                                                                        
001876   c02c     MOVFF     0x2c,0x345                                                                                      
001878   f345                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
00187a   0e90     MOVLW     0x90           		hold_data_1 = EEPROM_read(ELBOW_MIDDLE_EEPROM_LOW_BYTE);	// read lower byte	   C:\2007 final code\manipulator.c
00187c   d8c2     RCALL     0x1a02                                                                                          
00187e   0e91     MOVLW     0x91           		hold_data_2 = EEPROM_read(ELBOW_MIDDLE_EEPROM_HIGH_BYTE); // read upper byte   C:\2007 final code\manipulator.c
001880   d888     RCALL     0x1992                                                                                          
001882   0103     MOVLB     0x3            		Elbow_Position_Middle = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
001884   102b     IORWF     0x2b,0x0,0x0                                                                                    
001886   6f46     MOVWF     0x46,0x1                                                                                        
001888   c02c     MOVFF     0x2c,0x347                                                                                      
00188a   f347                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
00188c   0e92     MOVLW     0x92           		hold_data_1 = EEPROM_read(ELBOW_HIGH_EEPROM_LOW_BYTE);	// read lower byte      C:\2007 final code\manipulator.c
00188e   d8b9     RCALL     0x1a02                                                                                          
001890   0e93     MOVLW     0x93           		hold_data_2 = EEPROM_read(ELBOW_HIGH_EEPROM_HIGH_BYTE); // read upper byte     C:\2007 final code\manipulator.c
001892   d87f     RCALL     0x1992                                                                                          
001894   0103     MOVLB     0x3            		Elbow_Position_High = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
001896   102b     IORWF     0x2b,0x0,0x0                                                                                    
001898   6f48     MOVWF     0x48,0x1                                                                                        
00189a   c02c     MOVFF     0x2c,0x349                                                                                      
00189c   f349                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
                                           //		printf("2");                                                                 C:\2007 final code\manipulator.c
                                           }                                                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00189e   0e03     MOVLW     0x3            	if (EEPROM_counter == 3) // Read the WRIST presets on the 1st code loop         C:\2007 final code\manipulator.c
0018a0   0103     MOVLB     0x3                                                                                             
0018a2   5dc1     SUBWF     0xc1,0x0,0x1                                                                                    
0018a4   e12d     BNZ       0x1900                                                                                          
                                           	{                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
0018a6   0e94     MOVLW     0x94           		hold_data_1 = EEPROM_read(WRIST_BOX_EEPROM_LOW_BYTE);	// read lower byte       C:\2007 final code\manipulator.c
0018a8   d8ac     RCALL     0x1a02                                                                                          
0018aa   0e95     MOVLW     0x95           		hold_data_2 = EEPROM_read(WRIST_BOX_EEPROM_HIGH_BYTE); // read upper byte      C:\2007 final code\manipulator.c
0018ac   d872     RCALL     0x1992                                                                                          
0018ae   0103     MOVLB     0x3            		Wrist_Position_Box = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
0018b0   102b     IORWF     0x2b,0x0,0x0                                                                                    
0018b2   6f4a     MOVWF     0x4a,0x1                                                                                        
0018b4   c02c     MOVFF     0x2c,0x34b                                                                                      
0018b6   f34b                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
0018b8   0e96     MOVLW     0x96           		hold_data_1 = EEPROM_read(WRIST_FLOOR_EEPROM_LOW_BYTE);	// read lower byte     C:\2007 final code\manipulator.c
0018ba   d8a3     RCALL     0x1a02                                                                                          
0018bc   0e97     MOVLW     0x97           		hold_data_2 = EEPROM_read(WRIST_FLOOR_EEPROM_HIGH_BYTE); // read upper byte    C:\2007 final code\manipulator.c
0018be   d869     RCALL     0x1992                                                                                          
0018c0   0103     MOVLB     0x3            		Wrist_Position_Floor = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
0018c2   102b     IORWF     0x2b,0x0,0x0                                                                                    
0018c4   6f4c     MOVWF     0x4c,0x1                                                                                        
0018c6   c02c     MOVFF     0x2c,0x34d                                                                                      
0018c8   f34d                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
0018ca   0e98     MOVLW     0x98           		hold_data_1 = EEPROM_read(WRIST_LOW_EEPROM_LOW_BYTE);	// read lower byte       C:\2007 final code\manipulator.c
0018cc   d89a     RCALL     0x1a02                                                                                          
0018ce   0e99     MOVLW     0x99           		hold_data_2 = EEPROM_read(WRIST_LOW_EEPROM_HIGH_BYTE); // read upper byte      C:\2007 final code\manipulator.c
0018d0   d860     RCALL     0x1992                                                                                          
0018d2   0103     MOVLB     0x3            		Wrist_Position_Low = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
0018d4   102b     IORWF     0x2b,0x0,0x0                                                                                    
0018d6   6f4e     MOVWF     0x4e,0x1                                                                                        
0018d8   c02c     MOVFF     0x2c,0x34f                                                                                      
0018da   f34f                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
0018dc   0e9a     MOVLW     0x9a           		hold_data_1 = EEPROM_read(WRIST_MIDDLE_EEPROM_LOW_BYTE);	// read lower byte    C:\2007 final code\manipulator.c
0018de   d891     RCALL     0x1a02                                                                                          
0018e0   0e9b     MOVLW     0x9b           		hold_data_2 = EEPROM_read(WRIST_MIDDLE_EEPROM_HIGH_BYTE); // read upper byte   C:\2007 final code\manipulator.c
0018e2   d857     RCALL     0x1992                                                                                          
0018e4   0103     MOVLB     0x3            		Wrist_Position_Middle = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
0018e6   102b     IORWF     0x2b,0x0,0x0                                                                                    
0018e8   6f50     MOVWF     0x50,0x1                                                                                        
0018ea   c02c     MOVFF     0x2c,0x351                                                                                      
0018ec   f351                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
0018ee   0e9c     MOVLW     0x9c           		hold_data_1 = EEPROM_read(WRIST_HIGH_EEPROM_LOW_BYTE);	// read lower byte      C:\2007 final code\manipulator.c
0018f0   d888     RCALL     0x1a02                                                                                          
0018f2   0e9d     MOVLW     0x9d           		hold_data_2 = EEPROM_read(WRIST_HIGH_EEPROM_HIGH_BYTE); // read upper byte     C:\2007 final code\manipulator.c
0018f4   d84e     RCALL     0x1992                                                                                          
0018f6   0103     MOVLB     0x3            		Wrist_Position_High = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
0018f8   102b     IORWF     0x2b,0x0,0x0                                                                                    
0018fa   6f52     MOVWF     0x52,0x1                                                                                        
0018fc   c02c     MOVFF     0x2c,0x353                                                                                      
0018fe   f353                                                                                                               
                                                                                                                            C:\2007 final code\manipulator.c
                                           //		printf("3");                                                                 C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001900   0e04     MOVLW     0x4            	if (EEPROM_counter == 4) // Read the GRIPPER presets on the 1st code loop       C:\2007 final code\manipulator.c
001902   0103     MOVLB     0x3                                                                                             
001904   5dc1     SUBWF     0xc1,0x0,0x1                                                                                    
001906   e112     BNZ       0x192c                                                                                          
                                           	{                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001908   0e9e     MOVLW     0x9e           		hold_data_1 = EEPROM_read(GRIPPER_OPEN_EEPROM_LOW_BYTE);	// read lower byte    C:\2007 final code\manipulator.c
00190a   d87b     RCALL     0x1a02                                                                                          
00190c   0e9f     MOVLW     0x9f           		hold_data_2 = EEPROM_read(GRIPPER_OPEN_EEPROM_HIGH_BYTE); // read upper byte   C:\2007 final code\manipulator.c
00190e   d841     RCALL     0x1992                                                                                          
001910   0103     MOVLB     0x3            		Gripper_Open = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
001912   102b     IORWF     0x2b,0x0,0x0                                                                                    
001914   6f54     MOVWF     0x54,0x1                                                                                        
001916   c02c     MOVFF     0x2c,0x355                                                                                      
001918   f355                                                                                                               
                                           	                                                                                C:\2007 final code\manipulator.c
00191a   0ea0     MOVLW     0xa0           		hold_data_1 = EEPROM_read(GRIPPER_CLOSED_EEPROM_LOW_BYTE);	// read lower byte  C:\2007 final code\manipulator.c
00191c   d872     RCALL     0x1a02                                                                                          
001a02   d9b9     RCALL     0x1d76                                                                                          
001a04   6edf     MOVWF     0xdf,0x0                                                                                        
001a06   0012     RETURN    0x0                                                                                             
00191e   0ea1     MOVLW     0xa1           		hold_data_2 = EEPROM_read(GRIPPER_CLOSED_EEPROM_HIGH_BYTE); // read upper byte C:\2007 final code\manipulator.c
001920   d838     RCALL     0x1992                                                                                          
001992   d9f1     RCALL     0x1d76                                                                                          
001994   6ee7     MOVWF     0xe7,0x0                                                                                        
001996   0e01     MOVLW     0x1                                                                                             
001998   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00199a   ffdb                                                                                                               
001d76   6ee6     MOVWF     0xe6,0x0                                                                                        
001d78   6ae6     CLRF      0xe6,0x0                                                                                        
001d7a   ec98     CALL      0x6b30,0x0                                                                                      
001d7c   f035                                                                                                               
001d7e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001d80   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001d82   0012     RETURN    0x0                                                                                             
001922   0103     MOVLB     0x3            		Gripper_Closed = (((unsigned int)hold_data_2 & 0xff) << 8) | ((unsigned int)hold_data_1 & 0xff); // mesh lower and upper bytes for actual value C:\2007 final code\manipulator.c
001924   102b     IORWF     0x2b,0x0,0x0                                                                                    
001926   6f56     MOVWF     0x56,0x1                                                                                        
001928   c02c     MOVFF     0x2c,0x357                                                                                      
00192a   f357                                                                                                               
00199c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00199e   6e2b     MOVWF     0x2b,0x0                                                                                        
0019a0   6a2c     CLRF      0x2c,0x0                                                                                        
0019a2   0eff     MOVLW     0xff                                                                                            
0019a4   162b     ANDWF     0x2b,0x1,0x0                                                                                    
0019a6   0e00     MOVLW     0x0                                                                                             
0019a8   162c     ANDWF     0x2c,0x1,0x0                                                                                    
0019aa   c02b     MOVFF     0x2b,0x2c                                                                                       
0019ac   f02c                                                                                                               
0019ae   6a2b     CLRF      0x2b,0x0                                                                                        
0019b0   cfdf     MOVFF     0xfdf,0x2d                                                                                      
0019b2   f02d                                                                                                               
0019b4   0eff     MOVLW     0xff                                                                                            
0019b6   142d     ANDWF     0x2d,0x0,0x0                                                                                    
0019b8   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\manipulator.c
                                           //		printf("4");                                                                 C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           //	printf("Base Box, Elbow High, Gripper Open, Rotary Dial Position %d,%d,%d,%d\r", Base_Position_Box, Elbow_Position_High, Gripper_Open, rotary_dial); C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00192c   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\manipulator.c
00192e   ffe1                                                                                                               
001930   d121     BRA       0x1b74                                                                                          
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           /****************************** Go Home Function *********************************** C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           Inputs:                                                                          C:\2007 final code\manipulator.c
                                           	the joint in question and the limit switch values for that joint                C:\2007 final code\manipulator.c
                                           Output:                                                                          C:\2007 final code\manipulator.c
                                           	a 0-254 value for the motor on the joint in question                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           **********************************************************************************/ C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001932   d91b     RCALL     0x1b6a         unsigned char goto_box(unsigned char joint_to_be_moved)                          C:\2007 final code\manipulator.c
001934   52e6     MOVF      0xe6,0x1,0x0                                                                                    
001b6a   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
001b6c   ffe6                                                                                                               
001b6e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001b70   ffd9                                                                                                               
001b72   0012     RETURN    0x0                                                                                             
                                           {                                                                                C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           unsigned char hold_value; // hold value for various use in function              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
001936   0efe     MOVLW     0xfe           	switch(joint_to_be_moved) // use joint in question variable to determine what limit switch to check and what direction to set the motor in question C:\2007 final code\manipulator.c
001938   50db     MOVF      0xdb,0x0,0x0                                                                                    
00193a   0a08     XORLW     0x8                                                                                             
00193c   e01e     BZ        0x197a                                                                                          
00193e   0a0f     XORLW     0xf                                                                                             
001940   e014     BZ        0x196a                                                                                          
001942   0a01     XORLW     0x1                                                                                             
001944   e00a     BZ        0x195a                                                                                          
001946   0a03     XORLW     0x3                                                                                             
001948   e121     BNZ       0x198c                                                                                          
                                           	{                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case BASE:                                                                      C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00194a   b087     BTFSC     0x87,0x0,0x0   		if(LIMIT_SWITCH_BASE == 0) // if the limit switch on the base is not at home   C:\2007 final code\manipulator.c
00194c   d01d     BRA       0x1988                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
00194e   0e61     MOVLW     0x61           			hold_value = 127 - BASE_SPEED; // set the hold value to a backwards direction C:\2007 final code\manipulator.c
001950   6edf     MOVWF     0xdf,0x0                                                                                        
001952   0103     MOVLB     0x3            			direction_base = 1; // set the base encoder direction to positive             C:\2007 final code\manipulator.c
001954   0e01     MOVLW     0x1                                                                                             
001956   6fad     MOVWF     0xad,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\manipulator.c
001958   d019     BRA       0x198c         		else // if the base limit switch is engaged                                    C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           		return 127; // return neutral                                                  C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case ELBOW:                                                                     C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00195a   b287     BTFSC     0x87,0x1,0x0   		if(LIMIT_SWITCH_ELBOW == 0) // if the limit switch on the elbow is not at home C:\2007 final code\manipulator.c
00195c   d015     BRA       0x1988                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
00195e   0e61     MOVLW     0x61           		hold_value = 127 - ELBOW_SPEED; // set the hold value to a backwards direction C:\2007 final code\manipulator.c
001960   6edf     MOVWF     0xdf,0x0                                                                                        
001962   0103     MOVLB     0x3            		direction_elbow = 1; // set the elbow encoder direction to positive            C:\2007 final code\manipulator.c
001964   0e01     MOVLW     0x1                                                                                             
001966   6fae     MOVWF     0xae,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\manipulator.c
001968   d011     BRA       0x198c         		else // if the elbow limit switch is engaged                                   C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           		return 127; // return neutral                                                  C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case WRIST:                                                                     C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00196a   b487     BTFSC     0x87,0x2,0x0   		if(LIMIT_SWITCH_WRIST == 0) // if the limit switch on the wrist is not at home C:\2007 final code\manipulator.c
00196c   d00d     BRA       0x1988                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
00196e   0e57     MOVLW     0x57           		hold_value = 127 - WRIST_SPEED; // set the hold value to a backwards direction C:\2007 final code\manipulator.c
001970   6edf     MOVWF     0xdf,0x0                                                                                        
001972   0103     MOVLB     0x3            		direction_wrist = 1; // set the wrist encoder direction to positive            C:\2007 final code\manipulator.c
001974   0e01     MOVLW     0x1                                                                                             
001976   6faf     MOVWF     0xaf,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\manipulator.c
001978   d009     BRA       0x198c         		else // if the wrist limit switch is engaged                                   C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
                                           		return 127; // return neutral                                                  C:\2007 final code\manipulator.c
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	case GRIPPER:                                                                   C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00197a   b687     BTFSC     0x87,0x3,0x0   		if(LIMIT_SWITCH_GRIPPER == 0) // if the limit switch on the gripper is not at home C:\2007 final code\manipulator.c
00197c   d005     BRA       0x1988                                                                                          
                                           		{                                                                              C:\2007 final code\manipulator.c
00197e   0e5c     MOVLW     0x5c           		hold_value = 127 - GRIPPER_SPEED_BACKWARD; // set the hold value to a backwards direction C:\2007 final code\manipulator.c
001980   6edf     MOVWF     0xdf,0x0                                                                                        
001982   0103     MOVLB     0x3            		direction_gripper = -1; // set the gripper encoder direction to negative       C:\2007 final code\manipulator.c
001984   69b0     SETF      0xb0,0x1                                                                                        
                                           		}                                                                              C:\2007 final code\manipulator.c
001986   d002     BRA       0x198c         		else // if the gripper limit switch is engaged                                 C:\2007 final code\manipulator.c
                                           		{                                                                              C:\2007 final code\manipulator.c
001988   0e7f     MOVLW     0x7f           		return 127; // return neutral                                                  C:\2007 final code\manipulator.c
00198a   d001     BRA       0x198e                                                                                          
                                           		}                                                                              C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	break;                                                                          C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
                                           	}                                                                               C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00198c   50df     MOVF      0xdf,0x0,0x0   return hold_value; // return the value determined by the mathematical logic      C:\2007 final code\manipulator.c
                                                                                                                            C:\2007 final code\manipulator.c
00198e   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\manipulator.c
001990   d0f1     BRA       0x1b74                                                                                          
001b74   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001b76   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001b78   ffd9                                                                                                               
001b7a   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\manipulator.c
                                           #include <stdio.h>                                                               C:\2007 final code\camera_166.c
                                                                                                                            C:\2007 final code\camera_166.c
                                           #include "ifi_aliases.h"                                                         C:\2007 final code\camera_166.c
                                           #include "ifi_default.h"                                                         C:\2007 final code\camera_166.c
                                           #include "ifi_utilities.h"                                                       C:\2007 final code\camera_166.c
                                           #include "user_routines.h"                                                       C:\2007 final code\camera_166.c
                                           #include "serial_ports.h"                                                        C:\2007 final code\camera_166.c
                                           #include "camera.h"                                                              C:\2007 final code\camera_166.c
                                           #include "encoder.h"                                                             C:\2007 final code\camera_166.c
                                           #include "autonomous_166.h"                                                      C:\2007 final code\camera_166.c
                                           #include "camera_166.h"                                                          C:\2007 final code\camera_166.c
                                                                                                                            C:\2007 final code\camera_166.c
                                           // how often to print out mid_x values                                           C:\2007 final code\camera_166.c
                                           unsigned char LOOP_COUNTER_MAX = 100;                                            C:\2007 final code\camera_166.c
                                                                                                                            C:\2007 final code\camera_166.c
                                           /***********************************************************************         C:\2007 final code\camera_166.c
                                           Function name:  camera_debug                                                     C:\2007 final code\camera_166.c
                                           Created by: 	Sid                                                                 C:\2007 final code\camera_166.c
                                           Date modified:  1-28-07                                                          C:\2007 final code\camera_166.c
                                           Called From:	User_Routines.Default_Routine                                       C:\2007 final code\camera_166.c
                                           Parameters:                                                                      C:\2007 final code\camera_166.c
                                           Returns: 		void                                                                  C:\2007 final code\camera_166.c
                                           Purpose: 		Autonomous mode processing                                            C:\2007 final code\camera_166.c
                                           Notes:                                                                           C:\2007 final code\camera_166.c
                                           **********************************************************************/          C:\2007 final code\camera_166.c
                                                                                                                            C:\2007 final code\camera_166.c
                                           void camera_debug()                                                              C:\2007 final code\camera_166.c
                                           {                                                                                C:\2007 final code\camera_166.c
006012   0103     MOVLB     0x3            	printf("The Middle of the blob is %d,%d\r", T_Packet_Data.mx, T_Packet_Data.my); C:\2007 final code\camera_166.c
006014   5101     MOVF      0x1,0x0,0x1                                                                                     
006016   6ee6     MOVWF     0xe6,0x0                                                                                        
006018   6ae6     CLRF      0xe6,0x0                                                                                        
00601a   5100     MOVF      0x0,0x0,0x1                                                                                     
00601c   6ee6     MOVWF     0xe6,0x0                                                                                        
00601e   6ae6     CLRF      0xe6,0x0                                                                                        
006020   0e78     MOVLW     0x78                                                                                            
006022   6ee6     MOVWF     0xe6,0x0                                                                                        
006024   0e48     MOVLW     0x48                                                                                            
006026   6ee6     MOVWF     0xe6,0x0                                                                                        
006028   0e00     MOVLW     0x0                                                                                             
00602a   d944     RCALL     0x62b4                                                                                          
00602c   0103     MOVLB     0x3            	printf("The left corner of the rectangle is %d, %d\r", T_Packet_Data.x1, T_Packet_Data.y1); C:\2007 final code\camera_166.c
00602e   5103     MOVF      0x3,0x0,0x1                                                                                     
006030   6ee6     MOVWF     0xe6,0x0                                                                                        
006032   6ae6     CLRF      0xe6,0x0                                                                                        
006034   5102     MOVF      0x2,0x0,0x1                                                                                     
006036   6ee6     MOVWF     0xe6,0x0                                                                                        
006038   6ae6     CLRF      0xe6,0x0                                                                                        
00603a   0e4c     MOVLW     0x4c                                                                                            
00603c   6ee6     MOVWF     0xe6,0x0                                                                                        
00603e   0e48     MOVLW     0x48                                                                                            
006040   6ee6     MOVWF     0xe6,0x0                                                                                        
006042   0e00     MOVLW     0x0                                                                                             
006044   d937     RCALL     0x62b4                                                                                          
006046   0103     MOVLB     0x3            	printf("The right corner of the rectanlge is %d, %d\r", T_Packet_Data.x2, T_Packet_Data.y2); C:\2007 final code\camera_166.c
006048   5105     MOVF      0x5,0x0,0x1                                                                                     
00604a   6ee6     MOVWF     0xe6,0x0                                                                                        
00604c   6ae6     CLRF      0xe6,0x0                                                                                        
00604e   5104     MOVF      0x4,0x0,0x1                                                                                     
006050   6ee6     MOVWF     0xe6,0x0                                                                                        
006052   6ae6     CLRF      0xe6,0x0                                                                                        
006054   0e1f     MOVLW     0x1f                                                                                            
006056   6ee6     MOVWF     0xe6,0x0                                                                                        
006058   0e48     MOVLW     0x48                                                                                            
00605a   6ee6     MOVWF     0xe6,0x0                                                                                        
00605c   0e00     MOVLW     0x0                                                                                             
00605e   d92a     RCALL     0x62b4                                                                                          
0062b4   6ee6     MOVWF     0xe6,0x0                                                                                        
0062b6   ec14     CALL      0x6e28,0x0                                                                                      
0062b8   f037                                                                                                               
0062ba   6ef5     MOVWF     0xf5,0x0                                                                                        
0062bc   0e07     MOVLW     0x7                                                                                             
0062be   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0062c0   50f5     MOVF      0xf5,0x0,0x0                                                                                    
0062c2   0012     RETURN    0x0                                                                                             
006060   0103     MOVLB     0x3            	printf("Number of pixels is %d\r", T_Packet_Data.pixels);                       C:\2007 final code\camera_166.c
006062   5106     MOVF      0x6,0x0,0x1                                                                                     
006064   6ee6     MOVWF     0xe6,0x0                                                                                        
006066   6ae6     CLRF      0xe6,0x0                                                                                        
006068   0e07     MOVLW     0x7                                                                                             
00606a   6ee6     MOVWF     0xe6,0x0                                                                                        
00606c   0e48     MOVLW     0x48                                                                                            
00606e   6ee6     MOVWF     0xe6,0x0                                                                                        
006070   0e00     MOVLW     0x0                                                                                             
006072   d928     RCALL     0x62c4                                                                                          
006074   0103     MOVLB     0x3            	printf("Confidence is %d\r\r", T_Packet_Data.confidence);                       C:\2007 final code\camera_166.c
006076   5107     MOVF      0x7,0x0,0x1                                                                                     
006078   6ee6     MOVWF     0xe6,0x0                                                                                        
00607a   6ae6     CLRF      0xe6,0x0                                                                                        
00607c   0ef4     MOVLW     0xf4                                                                                            
00607e   6ee6     MOVWF     0xe6,0x0                                                                                        
006080   0e47     MOVLW     0x47                                                                                            
006082   6ee6     MOVWF     0xe6,0x0                                                                                        
006084   0e00     MOVLW     0x0                                                                                             
006086   ef62     GOTO      0x62c4                                                                                          
006088   f031                                                                                                               
                                           }                                                                                C:\2007 final code\camera_166.c
                                                                                                                            C:\2007 final code\camera_166.c
                                                                                                                            C:\2007 final code\camera_166.c
                                           /***********************************************************************         C:\2007 final code\camera_166.c
                                           Function name:  target_at_center                                                 C:\2007 final code\camera_166.c
                                           Created by:		Sid                                                                 C:\2007 final code\camera_166.c
                                           Date modified:  1-28-07                                                          C:\2007 final code\camera_166.c
                                           Called From:	autonomous_166.c                                                    C:\2007 final code\camera_166.c
                                           Parameters:     nsigned int (LEFT, CENTER, RIGHT) see autonomous_166.h           C:\2007 final code\camera_166.c
                                           Returns: 		unsigned int (TRUE or FALSE)                                          C:\2007 final code\camera_166.c
                                           Purpose: 		Autonomous mode processing to determine if we can move                C:\2007 final code\camera_166.c
                                           				directly toward the target or need to turn bot                               C:\2007 final code\camera_166.c
                                           Notes: 			May need to tweak tolerances                                           C:\2007 final code\camera_166.c
                                           **********************************************************************/          C:\2007 final code\camera_166.c
00608a   d924     RCALL     0x62d4         unsigned char target_at_center(unsigned char mid_x)                              C:\2007 final code\camera_166.c
00608c   0e02     MOVLW     0x2                                                                                             
00608e   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\camera_166.c
                                           	unsigned char target;                                                           C:\2007 final code\camera_166.c
006090   0e01     MOVLW     0x1            	unsigned char loop_counter=0;                                                   C:\2007 final code\camera_166.c
006092   6adb     CLRF      0xdb,0x0                                                                                        
006094   2adb     INCF      0xdb,0x1,0x0   	loop_counter++;                                                                 C:\2007 final code\camera_166.c
006096   50db     MOVF      0xdb,0x0,0x0   	if(loop_counter==LOOP_COUNTER_MAX)                                              C:\2007 final code\camera_166.c
006098   0103     MOVLB     0x3                                                                                             
00609a   5dff     SUBWF     0xff,0x0,0x1                                                                                    
00609c   e10c     BNZ       0x60b6                                                                                          
                                           	{                                                                               C:\2007 final code\camera_166.c
00609e   0efe     MOVLW     0xfe           		printf("The mid_x value in target_at_center = %d",mid_x);                      C:\2007 final code\camera_166.c
0060a0   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0060a2   ffe6                                                                                                               
0060a4   6ae6     CLRF      0xe6,0x0                                                                                        
0060a6   0ecb     MOVLW     0xcb                                                                                            
0060a8   6ee6     MOVWF     0xe6,0x0                                                                                        
0060aa   0e47     MOVLW     0x47                                                                                            
0060ac   6ee6     MOVWF     0xe6,0x0                                                                                        
0060ae   0e00     MOVLW     0x0                                                                                             
0060b0   d909     RCALL     0x62c4                                                                                          
0062c4   6ee6     MOVWF     0xe6,0x0                                                                                        
0062c6   ec14     CALL      0x6e28,0x0                                                                                      
0062c8   f037                                                                                                               
0062ca   6ef5     MOVWF     0xf5,0x0                                                                                        
0062cc   0e05     MOVLW     0x5                                                                                             
0062ce   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0062d0   50f5     MOVF      0xf5,0x0,0x0                                                                                    
0062d2   0012     RETURN    0x0                                                                                             
0060b2   0e01     MOVLW     0x1            		loop_counter = 0;                                                              C:\2007 final code\camera_166.c
0060b4   6adb     CLRF      0xdb,0x0                                                                                        
                                               }                                                                            C:\2007 final code\camera_166.c
0060b6   0e46     MOVLW     0x46           	if((mid_x>=(MIDPOINT-TOLERANCE)) && (mid_x<=(TOLERANCE+MIDPOINT)))              C:\2007 final code\camera_166.c
0060b8   d8e4     RCALL     0x6282                                                                                          
0060ba   e306     BNC       0x60c8                                                                                          
0060bc   0efe     MOVLW     0xfe                                                                                            
0060be   50db     MOVF      0xdb,0x0,0x0                                                                                    
0060c0   085a     SUBLW     0x5a                                                                                            
0060c2   e302     BNC       0x60c8                                                                                          
                                           	{                                                                               C:\2007 final code\camera_166.c
0060c4   0e74     MOVLW     0x74           		target='t';                                                                    C:\2007 final code\camera_166.c
                                               }                                                                            C:\2007 final code\camera_166.c
0060c6   d006     BRA       0x60d4         	else if(mid_x<(MIDPOINT-TOLERANCE))                                             C:\2007 final code\camera_166.c
0060c8   0e46     MOVLW     0x46                                                                                            
0060ca   d8db     RCALL     0x6282                                                                                          
0060cc   e202     BC        0x60d2                                                                                          
                                           	{                                                                               C:\2007 final code\camera_166.c
0060ce   0e6c     MOVLW     0x6c           		target='l';                                                                    C:\2007 final code\camera_166.c
                                           	}                                                                               C:\2007 final code\camera_166.c
0060d0   d001     BRA       0x60d4         	else //  if(mid_x>(MIDPOINT+TOLERANCE))                                         C:\2007 final code\camera_166.c
                                           	{                                                                               C:\2007 final code\camera_166.c
0060d2   0e72     MOVLW     0x72           		target='r';                                                                    C:\2007 final code\camera_166.c
0060d4   6edf     MOVWF     0xdf,0x0                                                                                        
                                           	}                                                                               C:\2007 final code\camera_166.c
                                           	                                                                                C:\2007 final code\camera_166.c
                                           	                                                                                C:\2007 final code\camera_166.c
0060d6   50df     MOVF      0xdf,0x0,0x0   	return target;                                                                  C:\2007 final code\camera_166.c
0060d8   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\camera_166.c
0060da   ffe1                                                                                                               
0060dc   d100     BRA       0x62de                                                                                          
                                                                                                                            C:\2007 final code\camera_166.c
                                                                                                                            C:\2007 final code\camera_166.c
                                                                                                                            C:\2007 final code\camera_166.c
                                                                                                                            C:\2007 final code\camera_166.c
                                           /***********************************************************************         C:\2007 final code\camera_166.c
                                           Function name:  single_light                                                     C:\2007 final code\camera_166.c
                                           Created by: 	Sid                                                                 C:\2007 final code\camera_166.c
                                           Date modified:  1-28-07                                                          C:\2007 final code\camera_166.c
                                           Called From:	autonomous_166.c                                                    C:\2007 final code\camera_166.c
                                           Parameters:     unsigned int (CLOSENESS) see autonomous_166.h                    C:\2007 final code\camera_166.c
                                           Returns: 		unsigned int (TRUE or FALSE)                                          C:\2007 final code\camera_166.c
                                           Purpose: 		Autonomous mode processing to determine if the                        C:\2007 final code\camera_166.c
                                           				camera is targeted on a single light                                         C:\2007 final code\camera_166.c
                                           Notes: 			May need to tweak tolerances                                           C:\2007 final code\camera_166.c
                                           **********************************************************************/          C:\2007 final code\camera_166.c
0060de   d8fa     RCALL     0x62d4         unsigned char single_light(unsigned char closeness, unsigned char confidence)    C:\2007 final code\camera_166.c
0060e0   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\camera_166.c
                                           	unsigned char lights;	                                                          C:\2007 final code\camera_166.c
0060e2   0e06     MOVLW     0x6            	if(T_Packet_Data.pixels<6)                                                      C:\2007 final code\camera_166.c
0060e4   0103     MOVLB     0x3                                                                                             
0060e6   5d06     SUBWF     0x6,0x0,0x1                                                                                     
0060e8   e202     BC        0x60ee                                                                                          
                                           	{                                                                               C:\2007 final code\camera_166.c
0060ea   6adf     CLRF      0xdf,0x0       		lights=0;                                                                      C:\2007 final code\camera_166.c
                                           	}                                                                               C:\2007 final code\camera_166.c
                                                                                                                            C:\2007 final code\camera_166.c
                                                                                                                            C:\2007 final code\camera_166.c
0060ec   d025     BRA       0x6138         else	if(determine_closeness(T_Packet_Data.my)<=FAR_STATE_3)                      C:\2007 final code\camera_166.c
0060ee   d8dd     RCALL     0x62aa                                                                                          
0060f0   0802     SUBLW     0x2                                                                                             
0060f2   e306     BNC       0x6100                                                                                          
                                           	{                                                                               C:\2007 final code\camera_166.c
0060f4   0efd     MOVLW     0xfd           		if(confidence>=NUM_OF_TARGET_TOLERANCE)                                        C:\2007 final code\camera_166.c
0060f6   d8cc     RCALL     0x6290                                                                                          
0060f8   e601     BN        0x60fc                                                                                          
0060fa   d8f5     RCALL     0x62e6                                                                                          
0060fc   e219     BC        0x6130                                                                                          
                                           		{                                                                              C:\2007 final code\camera_166.c
                                           			lights=1;                                                                     C:\2007 final code\camera_166.c
                                           		}                                                                              C:\2007 final code\camera_166.c
                                           		else                                                                           C:\2007 final code\camera_166.c
                                           		{                                                                              C:\2007 final code\camera_166.c
                                           			lights=2;                                                                     C:\2007 final code\camera_166.c
                                           		}                                                                              C:\2007 final code\camera_166.c
                                           	}                                                                               C:\2007 final code\camera_166.c
0060fe   d00b     BRA       0x6116         	else if(determine_closeness(T_Packet_Data.my)<=MIDRANGE_STATE_3 && determine_closeness(T_Packet_Data.my)>FAR_STATE_3 ) C:\2007 final code\camera_166.c
006100   d8d4     RCALL     0x62aa                                                                                          
006102   0805     SUBLW     0x5                                                                                             
006104   e30a     BNC       0x611a                                                                                          
006106   d8d1     RCALL     0x62aa                                                                                          
006108   0802     SUBLW     0x2                                                                                             
00610a   e207     BC        0x611a                                                                                          
0062aa   c301     MOVFF     0x301,0xfe6                                                                                     
0062ac   ffe6                                                                                                               
0062ae   df47     RCALL     0x613e                                                                                          
0062b0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0062b2   0012     RETURN    0x0                                                                                             
                                           	{                                                                               C:\2007 final code\camera_166.c
00610c   0efd     MOVLW     0xfd           		if(confidence>=NUM_OF_TARGET_TOLERANCE)                                        C:\2007 final code\camera_166.c
00610e   d8c0     RCALL     0x6290                                                                                          
006110   e601     BN        0x6114                                                                                          
006112   d8e9     RCALL     0x62e6                                                                                          
006114   e20d     BC        0x6130                                                                                          
                                           		{                                                                              C:\2007 final code\camera_166.c
                                           			lights=1;                                                                     C:\2007 final code\camera_166.c
                                           		}                                                                              C:\2007 final code\camera_166.c
                                           		else                                                                           C:\2007 final code\camera_166.c
                                           		{                                                                              C:\2007 final code\camera_166.c
006116   0e02     MOVLW     0x2            			lights=2;                                                                     C:\2007 final code\camera_166.c
                                           		}                                                                              C:\2007 final code\camera_166.c
                                           	}                                                                               C:\2007 final code\camera_166.c
006118   d00e     BRA       0x6136         	else if(determine_closeness(T_Packet_Data.my)<=THERE && determine_closeness(T_Packet_Data.my)>MIDRANGE_STATE_3 ) C:\2007 final code\camera_166.c
00611a   d8c7     RCALL     0x62aa                                                                                          
00611c   0809     SUBLW     0x9                                                                                             
00611e   e30c     BNC       0x6138                                                                                          
006120   d8c4     RCALL     0x62aa                                                                                          
006122   0805     SUBLW     0x5                                                                                             
006124   e209     BC        0x6138                                                                                          
                                           	{                                                                               C:\2007 final code\camera_166.c
006126   0efd     MOVLW     0xfd           		if(confidence>=NUM_OF_TARGET_TOLERANCE)                                        C:\2007 final code\camera_166.c
006128   d8b3     RCALL     0x6290                                                                                          
00612a   e601     BN        0x612e                                                                                          
00612c   d8dc     RCALL     0x62e6                                                                                          
00612e   e302     BNC       0x6134                                                                                          
                                           		{                                                                              C:\2007 final code\camera_166.c
006130   0e01     MOVLW     0x1            			lights=1;                                                                     C:\2007 final code\camera_166.c
                                           		}                                                                              C:\2007 final code\camera_166.c
006132   d001     BRA       0x6136         		else                                                                           C:\2007 final code\camera_166.c
                                           		{                                                                              C:\2007 final code\camera_166.c
006134   0e02     MOVLW     0x2            			lights=2;                                                                     C:\2007 final code\camera_166.c
006136   6edf     MOVWF     0xdf,0x0                                                                                        
                                           		}                                                                              C:\2007 final code\camera_166.c
                                           	}                                                                               C:\2007 final code\camera_166.c
                                           	// update this code to return estimated number of targets in view               C:\2007 final code\camera_166.c
                                           	// based on distance from rack                                                  C:\2007 final code\camera_166.c
                                           	// if vertical angle = ? then size of rectangle (pixel size)                    C:\2007 final code\camera_166.c
                                           	// should be < ?                                                                C:\2007 final code\camera_166.c
006138   50df     MOVF      0xdf,0x0,0x0   	return lights;                                                                  C:\2007 final code\camera_166.c
00613a   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\camera_166.c
00613c   d0d0     BRA       0x62de                                                                                          
                                                                                                                            C:\2007 final code\camera_166.c
                                           /***********************************************************************         C:\2007 final code\camera_166.c
                                           Function name:  determine_closeness                                              C:\2007 final code\camera_166.c
                                           Created by:		Sid                                                                 C:\2007 final code\camera_166.c
                                           Date modified:  1-28-07                                                          C:\2007 final code\camera_166.c
                                           Called From:	autonomous_166.c                                                    C:\2007 final code\camera_166.c
                                           Parameters:     none                                                             C:\2007 final code\camera_166.c
                                           Returns: 		unsigned int (closeness) see autonomous.h                             C:\2007 final code\camera_166.c
                                           Purpose: 		Autonomous mode processing to determine how                           C:\2007 final code\camera_166.c
                                           				far from target so auto knows how to steer                                   C:\2007 final code\camera_166.c
                                           Notes: 			                                                                       C:\2007 final code\camera_166.c
                                           **********************************************************************/          C:\2007 final code\camera_166.c
00613e   d8ca     RCALL     0x62d4         unsigned char determine_closeness(unsigned char mid_of_blob)                     C:\2007 final code\camera_166.c
006140   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\2007 final code\camera_166.c
                                           	unsigned char CLOSENESS;		                                                      C:\2007 final code\camera_166.c
006142   d8d6     RCALL     0x62f0         	if(mid_of_blob >= CLOSENESS_FAR_1)                                              C:\2007 final code\camera_166.c
006144   e604     BN        0x614e                                                                                          
006146   0ee6     MOVLW     0xe6                                                                                            
006148   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
00614a   0e00     MOVLW     0x0                                                                                             
00614c   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
00614e   e302     BNC       0x6154                                                                                          
                                           	{                                                                               C:\2007 final code\camera_166.c
006150   6adf     CLRF      0xdf,0x0       		CLOSENESS=0;                                                                   C:\2007 final code\camera_166.c
                                               }                                                                            C:\2007 final code\camera_166.c
006152   d069     BRA       0x6226            else if(mid_of_blob >= CLOSENESS_FAR_2 && mid_of_blob < CLOSENESS_FAR_1 )     C:\2007 final code\camera_166.c
006154   d8cd     RCALL     0x62f0                                                                                          
006156   e604     BN        0x6160                                                                                          
006158   0ec8     MOVLW     0xc8                                                                                            
00615a   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
00615c   0e00     MOVLW     0x0                                                                                             
00615e   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
006160   e309     BNC       0x6174                                                                                          
006162   d89c     RCALL     0x629c                                                                                          
006164   e604     BN        0x616e                                                                                          
006166   0ee6     MOVLW     0xe6                                                                                            
006168   5c2d     SUBWF     0x2d,0x0,0x0                                                                                    
00616a   0e00     MOVLW     0x0                                                                                             
00616c   582e     SUBWFB    0x2e,0x0,0x0                                                                                    
00616e   e202     BC        0x6174                                                                                          
                                           	{                                                                               C:\2007 final code\camera_166.c
006170   0e01     MOVLW     0x1            		CLOSENESS=1;                                                                   C:\2007 final code\camera_166.c
                                               }                                                                            C:\2007 final code\camera_166.c
006172   d058     BRA       0x6224             else if(mid_of_blob >= CLOSENESS_FAR_3 && mid_of_blob < CLOSENESS_FAR_2 )    C:\2007 final code\camera_166.c
006174   d8bd     RCALL     0x62f0                                                                                          
006176   e601     BN        0x617a                                                                                          
006178   d8b6     RCALL     0x62e6                                                                                          
00617a   e309     BNC       0x618e                                                                                          
00617c   d88f     RCALL     0x629c                                                                                          
00617e   e604     BN        0x6188                                                                                          
006180   0ec8     MOVLW     0xc8                                                                                            
006182   5c2d     SUBWF     0x2d,0x0,0x0                                                                                    
006184   0e00     MOVLW     0x0                                                                                             
006186   582e     SUBWFB    0x2e,0x0,0x0                                                                                    
006188   e202     BC        0x618e                                                                                          
0062e6   0eb4     MOVLW     0xb4                                                                                            
0062e8   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
0062ea   0e00     MOVLW     0x0                                                                                             
0062ec   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
0062ee   0012     RETURN    0x0                                                                                             
                                           	{                                                                               C:\2007 final code\camera_166.c
00618a   0e02     MOVLW     0x2            		CLOSENESS=2;                                                                   C:\2007 final code\camera_166.c
                                               }                                                                            C:\2007 final code\camera_166.c
00618c   d04b     BRA       0x6224             else if(mid_of_blob >= CLOSENESS_MID_1 && mid_of_blob < CLOSENESS_FAR_3 )    C:\2007 final code\camera_166.c
00618e   d8b0     RCALL     0x62f0                                                                                          
006190   e604     BN        0x619a                                                                                          
006192   0ea0     MOVLW     0xa0                                                                                            
006194   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
006196   0e00     MOVLW     0x0                                                                                             
006198   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
00619a   e309     BNC       0x61ae                                                                                          
00619c   d87f     RCALL     0x629c                                                                                          
00619e   e604     BN        0x61a8                                                                                          
0061a0   0eb4     MOVLW     0xb4                                                                                            
0061a2   5c2d     SUBWF     0x2d,0x0,0x0                                                                                    
0061a4   0e00     MOVLW     0x0                                                                                             
0061a6   582e     SUBWFB    0x2e,0x0,0x0                                                                                    
0061a8   e202     BC        0x61ae                                                                                          
                                           	{                                                                               C:\2007 final code\camera_166.c
0061aa   0e03     MOVLW     0x3            		CLOSENESS=3;                                                                   C:\2007 final code\camera_166.c
                                               }                                                                            C:\2007 final code\camera_166.c
0061ac   d03b     BRA       0x6224         	else if(mid_of_blob >= CLOSENESS_MID_2 && mid_of_blob < CLOSENESS_MID_1 )       C:\2007 final code\camera_166.c
0061ae   d8a0     RCALL     0x62f0                                                                                          
0061b0   e604     BN        0x61ba                                                                                          
0061b2   0e85     MOVLW     0x85                                                                                            
0061b4   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
0061b6   0e00     MOVLW     0x0                                                                                             
0061b8   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
0061ba   e309     BNC       0x61ce                                                                                          
0061bc   d86f     RCALL     0x629c                                                                                          
0061be   e604     BN        0x61c8                                                                                          
0061c0   0ea0     MOVLW     0xa0                                                                                            
0061c2   5c2d     SUBWF     0x2d,0x0,0x0                                                                                    
0061c4   0e00     MOVLW     0x0                                                                                             
0061c6   582e     SUBWFB    0x2e,0x0,0x0                                                                                    
0061c8   e202     BC        0x61ce                                                                                          
00629c   0efe     MOVLW     0xfe                                                                                            
00629e   50db     MOVF      0xdb,0x0,0x0                                                                                    
0062a0   6e2d     MOVWF     0x2d,0x0                                                                                        
0062a2   6a2e     CLRF      0x2e,0x0                                                                                        
0062a4   90d8     BCF       0xd8,0x0,0x0                                                                                    
0062a6   502e     MOVF      0x2e,0x0,0x0                                                                                    
0062a8   0012     RETURN    0x0                                                                                             
                                           	{                                                                               C:\2007 final code\camera_166.c
0061ca   0e04     MOVLW     0x4            		CLOSENESS=4;                                                                   C:\2007 final code\camera_166.c
                                               }                                                                            C:\2007 final code\camera_166.c
0061cc   d02b     BRA       0x6224         	else if(mid_of_blob >= CLOSENESS_MID_3 && mid_of_blob < CLOSENESS_MID_2 )       C:\2007 final code\camera_166.c
0061ce   0e6b     MOVLW     0x6b                                                                                            
0061d0   d858     RCALL     0x6282                                                                                          
0061d2   e309     BNC       0x61e6                                                                                          
0061d4   d88d     RCALL     0x62f0                                                                                          
0061d6   e604     BN        0x61e0                                                                                          
0061d8   0e85     MOVLW     0x85                                                                                            
0061da   5c2b     SUBWF     0x2b,0x0,0x0                                                                                    
0061dc   0e00     MOVLW     0x0                                                                                             
0061de   582c     SUBWFB    0x2c,0x0,0x0                                                                                    
0061e0   e202     BC        0x61e6                                                                                          
006290   50db     MOVF      0xdb,0x0,0x0                                                                                    
006292   6e2b     MOVWF     0x2b,0x0                                                                                        
006294   6a2c     CLRF      0x2c,0x0                                                                                        
006296   90d8     BCF       0xd8,0x0,0x0                                                                                    
006298   502c     MOVF      0x2c,0x0,0x0                                                                                    
00629a   0012     RETURN    0x0                                                                                             
0062f0   0efe     MOVLW     0xfe                                                                                            
0062f2   ef48     GOTO      0x6290                                                                                          
0062f4   f031                                                                                                               
                                           	{                                                                               C:\2007 final code\camera_166.c
0061e2   0e05     MOVLW     0x5            		CLOSENESS=5;                                                                   C:\2007 final code\camera_166.c
                                               }                                                                            C:\2007 final code\camera_166.c
0061e4   d01f     BRA       0x6224         	else if(mid_of_blob >= CLOSENESS_NEAR_1 && mid_of_blob < CLOSENESS_MID_3 )      C:\2007 final code\camera_166.c
0061e6   0e50     MOVLW     0x50                                                                                            
0061e8   d84c     RCALL     0x6282                                                                                          
0061ea   e305     BNC       0x61f6                                                                                          
0061ec   0e6b     MOVLW     0x6b                                                                                            
0061ee   d849     RCALL     0x6282                                                                                          
0061f0   e202     BC        0x61f6                                                                                          
                                           	{                                                                               C:\2007 final code\camera_166.c
0061f2   0e06     MOVLW     0x6            		CLOSENESS=6;                                                                   C:\2007 final code\camera_166.c
                                               }                                                                            C:\2007 final code\camera_166.c
0061f4   d017     BRA       0x6224         	else if(mid_of_blob >= CLOSENESS_NEAR_2 && mid_of_blob < CLOSENESS_NEAR_1 )     C:\2007 final code\camera_166.c
0061f6   0e35     MOVLW     0x35                                                                                            
0061f8   d844     RCALL     0x6282                                                                                          
0061fa   e305     BNC       0x6206                                                                                          
0061fc   0e50     MOVLW     0x50                                                                                            
0061fe   d841     RCALL     0x6282                                                                                          
006200   e202     BC        0x6206                                                                                          
                                           	{                                                                               C:\2007 final code\camera_166.c
006202   0e07     MOVLW     0x7            		CLOSENESS=7;                                                                   C:\2007 final code\camera_166.c
                                               }                                                                            C:\2007 final code\camera_166.c
006204   d00f     BRA       0x6224         	else if(mid_of_blob >= CLOSENESS_NEAR_3 && mid_of_blob < CLOSENESS_NEAR_2 )     C:\2007 final code\camera_166.c
006206   0e1b     MOVLW     0x1b                                                                                            
006208   d83c     RCALL     0x6282                                                                                          
00620a   e305     BNC       0x6216                                                                                          
00620c   0e35     MOVLW     0x35                                                                                            
00620e   d839     RCALL     0x6282                                                                                          
006210   e202     BC        0x6216                                                                                          
                                           	{                                                                               C:\2007 final code\camera_166.c
006212   0e08     MOVLW     0x8            		CLOSENESS=8;                                                                   C:\2007 final code\camera_166.c
                                               }                                                                            C:\2007 final code\camera_166.c
006214   d007     BRA       0x6224         	else if(mid_of_blob >= AT_TARGET && mid_of_blob < CLOSENESS_NEAR_3 )            C:\2007 final code\camera_166.c
006216   0e02     MOVLW     0x2                                                                                             
006218   d834     RCALL     0x6282                                                                                          
00621a   e305     BNC       0x6226                                                                                          
00621c   0e1b     MOVLW     0x1b                                                                                            
00621e   d831     RCALL     0x6282                                                                                          
006220   e202     BC        0x6226                                                                                          
006282   6ef3     MOVWF     0xf3,0x0                                                                                        
006284   0efe     MOVLW     0xfe                                                                                            
006286   cfdb     MOVFF     0xfdb,0xff4                                                                                     
006288   fff4                                                                                                               
00628a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00628c   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
00628e   0012     RETURN    0x0                                                                                             
                                           	{                                                                               C:\2007 final code\camera_166.c
006222   0e09     MOVLW     0x9            		CLOSENESS=9;                                                                   C:\2007 final code\camera_166.c
006224   6edf     MOVWF     0xdf,0x0                                                                                        
                                               }                                                                            C:\2007 final code\camera_166.c
                                           	                                                                                C:\2007 final code\camera_166.c
                                           	                                                                                C:\2007 final code\camera_166.c
                                           	                                                                                C:\2007 final code\camera_166.c
006226   50df     MOVF      0xdf,0x0,0x0   	return CLOSENESS;                                                               C:\2007 final code\camera_166.c
006228   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\2007 final code\camera_166.c
00622a   d059     BRA       0x62de                                                                                          
                                                                                                                            C:\2007 final code\camera_166.c
                                                                                                                            C:\2007 final code\camera_166.c
                                           /***********************************************************************         C:\2007 final code\camera_166.c
                                           Function name:  adjust_window                                                    C:\2007 final code\camera_166.c
                                           Created by:		Sid                                                                 C:\2007 final code\camera_166.c
                                           Date modified:  2-03-07                                                          C:\2007 final code\camera_166.c
                                           Called From:	autonomous_166.c                                                    C:\2007 final code\camera_166.c
                                           Parameters:     unsigned char 0 or 1 ; 0=normal window; 1=adjust to have         C:\2007 final code\camera_166.c
                                           				 only one target in the window                                               C:\2007 final code\camera_166.c
                                           Returns: 		void                                                                  C:\2007 final code\camera_166.c
                                           Purpose: 		To target only one target                                             C:\2007 final code\camera_166.c
                                           Notes: 			Virtual_window() is in camera.c/h                                      C:\2007 final code\camera_166.c
                                           **********************************************************************/          C:\2007 final code\camera_166.c
                                                                                                                            C:\2007 final code\camera_166.c
00622c   d853     RCALL     0x62d4         unsigned char adjust_window(unsigned char adjust_mode)                           C:\2007 final code\camera_166.c
00622e   0e03     MOVLW     0x3                                                                                             
006230   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0062d4   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
0062d6   ffe6                                                                                                               
0062d8   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0062da   ffd9                                                                                                               
0062dc   0012     RETURN    0x0                                                                                             
                                           {                                                                                C:\2007 final code\camera_166.c
                                           	unsigned char left_x_value, right_x_value, adjust_x_value;                      C:\2007 final code\camera_166.c
006232   0efe     MOVLW     0xfe           	if(adjust_mode==0)                                                              C:\2007 final code\camera_166.c
006234   50db     MOVF      0xdb,0x0,0x0                                                                                    
006236   e105     BNZ       0x6242                                                                                          
                                           	{                                                                               C:\2007 final code\camera_166.c
006238   0eef     MOVLW     0xef           		Virtual_Window(1,1,159,239);                                                   C:\2007 final code\camera_166.c
00623a   6ee6     MOVWF     0xe6,0x0                                                                                        
00623c   0e9f     MOVLW     0x9f                                                                                            
00623e   6ee6     MOVWF     0xe6,0x0                                                                                        
                                           	}                                                                               C:\2007 final code\camera_166.c
006240   d012     BRA       0x6266         	else                                                                            C:\2007 final code\camera_166.c
                                           	{                                                                               C:\2007 final code\camera_166.c
006242   c302     MOVFF     0x302,0xfdf    		left_x_value=T_Packet_Data.x1;                                                 C:\2007 final code\camera_166.c
006244   ffdf                                                                                                               
006246   0e01     MOVLW     0x1            		right_x_value=T_Packet_Data.x2;                                                C:\2007 final code\camera_166.c
006248   c304     MOVFF     0x304,0xfdb                                                                                     
00624a   ffdb                                                                                                               
00624c   50db     MOVF      0xdb,0x0,0x0   		adjust_x_value=((left_x_value+right_x_value)/2);                               C:\2007 final code\camera_166.c
00624e   24df     ADDWF     0xdf,0x0,0x0                                                                                    
006250   0bfe     ANDLW     0xfe                                                                                            
006252   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006254   6ee7     MOVWF     0xe7,0x0                                                                                        
006256   0e02     MOVLW     0x2                                                                                             
006258   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00625a   ffdb                                                                                                               
00625c   0eef     MOVLW     0xef           		Virtual_Window(1,1,adjust_x_value,239);                                        C:\2007 final code\camera_166.c
00625e   6ee6     MOVWF     0xe6,0x0                                                                                        
006260   0e02     MOVLW     0x2                                                                                             
006262   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
006264   ffe6                                                                                                               
006266   0e01     MOVLW     0x1                                                                                             
006268   6ee6     MOVWF     0xe6,0x0                                                                                        
00626a   6ee6     MOVWF     0xe6,0x0                                                                                        
00626c   ec48     CALL      0x4c90,0x0                                                                                      
00626e   f026                                                                                                               
006270   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006272   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006274   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006276   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           	}                                                                               C:\2007 final code\camera_166.c
006278   0e02     MOVLW     0x2            	return adjust_x_value;	                                                         C:\2007 final code\camera_166.c
00627a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00627c   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\2007 final code\camera_166.c
00627e   ffe1                                                                                                               
006280   d02e     BRA       0x62de                                                                                          
0062de   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0062e0   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0062e2   ffd9                                                                                                               
0062e4   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\2007 final code\camera_166.c
                                           ;	RCS Header $Id: aarg.asm,v 1.2 2004/10/01 19:13:22 GrosbaJ Exp $               C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           ;       CMATH18 DATA DEFINITION FILE                                             C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           ;   VARIABLE ALLOCATION - Core math library routines                             C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           MATH_DATA      UDATA_ACS                                                         C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           REMB3                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           AARGB7		RES 1                                                                    C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           REMB2                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           AARGB6		RES 1                                                                    C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           REMB1                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           AARGB5		RES 1                                                                    C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           REMB0                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           AARGB4		RES 1                                                                    C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           AARGB3		RES 1                                                                    C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           AARGB2		RES 1                                                                    C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           AARGB1		RES 1                                                                    C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           AARGB0		RES 1                                                                    C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           AEXP		RES 1       ; 8 bit biased exponent for argument A                         C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           	GLOBAL	AARGB0, AARGB1, AARGB2, AARGB3                                           C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                   GLOBAL  AARGB4, AARGB5, AARGB6, AARGB7                                   C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           	GLOBAL  AEXP                                                                    C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                           	GLOBAL  REMB3, REMB2, REMB1, REMB0                                              C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                   END                                                                      C:\MCC18\SRC\TRADIT~1\MATH\aarg.asm
                                                   LIST P=18F8722                                                           C:\MCC18\SRC\TRADIT~1\PROC\p18f8722.asm
                                                   LIST                                                                     C:\MCC18\SRC\TRADIT~1\PROC\p18f8722.asm
                                                   END                                                                      C:\MCC18\SRC\TRADIT~1\PROC\p18f8722.asm
                                           ;	RCS Header $Id: barg.asm,v 1.2 2004/10/01 19:13:22 GrosbaJ Exp $               C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           ;       CMATH18 DATA DEFINITION FILE                                             C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           ;   VARIABLE ALLOCATION - Core math library routines                             C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           MATH_DATA      UDATA_ACS                                                         C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           BARGB3		RES 1                                                                    C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           BARGB2		RES 1                                                                    C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           BARGB1		RES 1                                                                    C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           BARGB0		RES 1       ; most significant byte of argument B                        C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           BEXP		RES 1       ; 8 bit biased exponent for argument B                         C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                   GLOBAL  BARGB3, BARGB2, BARGB1, BARGB0                                   C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                   GLOBAL  BEXP                                                             C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                                   END                                                                      C:\MCC18\SRC\TRADIT~1\MATH\barg.asm
                                           /* $Id: adcbusy.c,v 1.1 2003/12/09 22:52:09 GrosbaJ Exp $ */                     C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                           #include <p18cxxx.h>                                                             C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                           #include <adc.h>                                                                 C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                           /****************************************************************                C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                           *    Function Name:  BusyADC                                    *                C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                           *    Return Value:   char: 1 - A/D busy, 0 - Done converting    *                C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                           *    Parameters:     void                                       *                C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                           *    Description:    This routine checks the GO bit to see if   *                C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                           *                    the A/D conversion is done.                *                C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                           ****************************************************************/                C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                           char BusyADC(void)                                                               C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                           {                                                                                C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                             /* If the GO bit is set then A/D is busy converting                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                              * Otherwise A/D is done converting                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                              */                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
00080e   50c2     MOVF      0xc2,0x0,0x0     return(ADCON0bits.GO);                                                         C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
000810   0b02     ANDLW     0x2                                                                                             
000812   e001     BZ        0x816                                                                                           
000814   0e01     MOVLW     0x1                                                                                             
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
000816   0012     RETURN    0x0            }                                                                                C:\mcc18\src\TRADIT~1\pmc\ADC\adcbusy.c
                                           /* $Id: adcclose.c,v 1.1 2003/12/09 22:52:09 GrosbaJ Exp $ */                    C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
                                           #include <p18cxxx.h>                                                             C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
                                           #include <adc.h>                                                                 C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
                                           /************************************************************************        C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
                                           *    Function Name:  CloseADC                                           *        C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
                                           *    Return Value:   void                                               *        C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
                                           *    Parameters:     void                                               *        C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
                                           *    Description:    This routine turns the A/D off and disables        *        C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
                                           *                    the A/D interrupt                                  *        C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
                                           ************************************************************************/        C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
                                           void CloseADC(void)                                                              C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
                                           {                                                                                C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
007310   90c2     BCF       0xc2,0x0,0x0     ADCON0bits.ADON = 0;                                                           C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
007312   9c9d     BCF       0x9d,0x6,0x0     PIE1bits.ADIE = 0;                                                             C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
007314   0012     RETURN    0x0            }                                                                                C:\mcc18\src\TRADIT~1\pmc\ADC\adcclose.c
                                           /* $Id: adcconv.c,v 1.1 2003/12/09 22:52:09 GrosbaJ Exp $ */                     C:\mcc18\src\TRADIT~1\pmc\ADC\adcconv.c
                                           #include <p18cxxx.h>                                                             C:\mcc18\src\TRADIT~1\pmc\ADC\adcconv.c
                                           #include <adc.h>                                                                 C:\mcc18\src\TRADIT~1\pmc\ADC\adcconv.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcconv.c
                                           /********************************************************************            C:\mcc18\src\TRADIT~1\pmc\ADC\adcconv.c
                                           *    Function Name:  ConvertADC                                     *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcconv.c
                                           *    Return Value:   void                                           *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcconv.c
                                           *    Parameters:     void                                           *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcconv.c
                                           *    Description:    This routine starts an A/D conversion by       *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcconv.c
                                           *                    setting the GO bit.                            *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcconv.c
                                           ********************************************************************/            C:\mcc18\src\TRADIT~1\pmc\ADC\adcconv.c
                                           void ConvertADC(void)                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcconv.c
                                           {                                                                                C:\mcc18\src\TRADIT~1\pmc\ADC\adcconv.c
007316   82c2     BSF       0xc2,0x1,0x0     ADCON0bits.GO = 1;  // Set the GO bit to start a conversion                    C:\mcc18\src\TRADIT~1\pmc\ADC\adcconv.c
007318   0012     RETURN    0x0            }                                                                                C:\mcc18\src\TRADIT~1\pmc\ADC\adcconv.c
                                           #include "p18cxxx.inc"                                                           C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                                   LIST                                                                     C:\MCC18\MPASM\p18cxxx.inc
                                           ; P18CXXX.INC  Standard Header File, Version 1.00   Microchip Technology, Inc.   C:\MCC18\MPASM\p18cxxx.inc
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                           ; P18C452.INC  Standard Header File, Version 0.12   Microchip Technology, Inc.   C:\MCC18\MPASM\P18C452.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C242                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C242.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F242                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F242.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F248                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F248.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C252                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C252.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F252                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F252.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F258                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F258.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C442                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C442.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F442                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F442.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F448                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F448.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C452                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C452.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F452                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F452.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F458                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F458.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C601                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C601.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C658                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C658.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C801                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C801.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C858                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C858.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F1220                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F1220.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F1320                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F1320.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2220                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2220.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2320                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2320.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4220                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4220.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4320                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4320.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6520                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6520.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6620                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6620.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6720                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6720.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8520                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8520.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8620                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8620.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8720                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8720.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2439                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2439.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2539                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2539.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4439                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4439.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4539                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4539.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8680                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8680.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6680                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6680.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8585                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8585.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6585                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6585.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6621                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6621.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8621                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8621.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6525                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6525.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8525                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8525.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2331                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2331.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2431                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2431.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4331                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4331.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4431                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4431.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2515                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2515.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2525                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2525.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2610                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2610.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2620                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2620.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4515                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4515.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4525                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4525.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4610                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4610.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4620                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4620.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6410                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6410.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6490                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6490.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8410                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8410.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8490                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8490.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2585                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2585.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2680                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2680.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2681                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2681.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4585                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4585.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4680                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4680.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4681                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4681.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2510                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2510.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2520                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2520.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4510                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4510.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4520                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4520.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2455                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2455.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2550                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2550.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4455                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4455.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4550                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4550.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2410                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2410.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2420                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2420.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4410                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4410.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4420                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4420.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2480                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2480.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2580                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2580.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4480                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4480.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4580                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4580.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6310                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6310.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6390                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6390.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8310                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8310.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8390                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8390.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6627                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6627.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6722                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6722.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8627                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8627.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8722                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8722.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F64J15                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F64J15.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F65J10                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F65J10.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F65J15                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F65J15.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F66J10                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F66J10.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F66J15                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F66J15.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F67J10                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F67J10.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F84J15                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F84J15.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F85J10                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F85J10.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F85J15                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F85J15.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F86J10                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F86J10.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F86J15                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F86J15.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F87J10                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F87J10.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                                                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           ;/********************************************************************           C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           ;*   Function Name: Delay10TCYx                                      *           C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           ;*   Return Value:  void                                             *           C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           ;*   Parameters:    unit:                                            *           C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           ;*   Description:   This routine delays for multiples of 10          *           C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           ;*                  instruction cycles that is specified in unit.    *           C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           ;*   Special Note:  This routine provides multiples of 10 Tcy.       *           C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           ;*                  A value of 1 to 255 provides 10 to 2550   Tcy    *           C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           ;*                  delay.  A value of 0 will provide a delay of     *           C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           ;*                  2560 Tcy.                                        *           C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           ;********************************************************************/           C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           D10TCYXCODE CODE                                                                 C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           Delay10TCYx                                                                      C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
0072e8   0eff     MOVLW     0xff               movlw   0xff                                                                 C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
0072ea   50e3     MOVF      0xe3,0x0,0x0       movf    PLUSW1,0                                                             C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
0072ec   4ee8     DCFSNZ    0xe8,0x1,0x0       dcfsnz  WREG,1                                                               C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
0072ee   0012     RETURN    0x0                return                                                                       C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           D10x                                                                             C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
0072f0   0000     NOP                          nop                                                                          C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
0072f2   d000     BRA       0x72f4             bra     $+2                                                                  C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
0072f4   d000     BRA       0x72f6             bra     $+2                                                                  C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
0072f6   d000     BRA       0x72f8             bra     $+2                                                                  C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           D10_1                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
0072f8   2ee8     DECFSZ    0xe8,0x1,0x0       decfsz  WREG,1                                                               C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
0072fa   d7fa     BRA       0x72f0             bra     D10x                                                                 C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
0072fc   0012     RETURN    0x0                return                                                                       C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                               GLOBAL  Delay10TCYx                                                          C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                               END                                                                          C:\MCC18\SRC\TRADIT~1\DELAYS\d10tcyx.asm
                                           #include "p18cxxx.inc"                                                           C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                                   LIST                                                                     C:\MCC18\MPASM\p18cxxx.inc
                                           ; P18CXXX.INC  Standard Header File, Version 1.00   Microchip Technology, Inc.   C:\MCC18\MPASM\p18cxxx.inc
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                           ; P18C452.INC  Standard Header File, Version 0.12   Microchip Technology, Inc.   C:\MCC18\MPASM\P18C452.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C242                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C242.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F242                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F242.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F248                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F248.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C252                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C252.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F252                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F252.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F258                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F258.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C442                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C442.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F442                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F442.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F448                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F448.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C452                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C452.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F452                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F452.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F458                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F458.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C601                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C601.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C658                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C658.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C801                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C801.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18C858                                                                 C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18C858.INC>                                                       C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F1220                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F1220.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F1320                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F1320.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2220                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2220.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2320                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2320.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4220                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4220.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4320                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4320.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6520                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6520.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6620                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6620.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6720                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6720.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8520                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8520.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8620                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8620.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8720                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8720.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2439                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2439.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2539                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2539.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4439                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4439.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4539                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4539.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8680                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8680.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6680                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6680.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8585                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8585.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6585                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6585.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6621                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6621.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8621                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8621.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6525                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6525.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8525                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8525.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2331                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2331.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2431                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2431.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4331                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4331.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4431                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4431.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2515                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2515.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2525                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2525.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2610                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2610.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2620                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2620.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4515                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4515.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4525                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4525.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4610                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4610.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4620                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4620.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6410                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6410.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6490                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6490.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8410                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8410.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8490                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8490.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2585                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2585.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2680                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2680.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2681                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2681.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4585                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4585.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4680                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4680.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4681                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4681.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2510                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2510.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2520                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2520.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4510                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4510.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4520                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4520.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2455                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2455.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2550                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2550.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4455                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4455.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4550                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4550.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2410                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2410.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2420                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2420.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4410                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4410.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4420                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4420.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2480                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2480.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F2580                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F2580.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4480                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4480.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F4580                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F4580.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6310                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6310.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6390                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6390.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8310                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8310.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8390                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8390.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6627                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6627.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F6722                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F6722.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8627                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8627.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F8722                                                                C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F8722.INC>                                                      C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F64J15                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F64J15.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F65J10                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F65J10.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F65J15                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F65J15.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F66J10                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F66J10.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F66J15                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F66J15.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F67J10                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F67J10.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F84J15                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F84J15.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F85J10                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F85J10.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F85J15                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F85J15.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F86J10                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F86J10.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F86J15                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F86J15.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                             IFDEF __18F87J10                                                               C:\MCC18\MPASM\p18cxxx.inc
                                                INCLUDE <P18F87J10.INC>                                                     C:\MCC18\MPASM\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\MPASM\p18cxxx.inc
                                                                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           ;/********************************************************************           C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           ;*   Function Name: Delay1KTCYx                                      *           C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           ;*   Return Value:  void                                             *           C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           ;*   Parameters:    unit:                                            *           C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           ;*   Description:   This routine delays for multiples of 1000        *           C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           ;*                  instruction cycles that is specified in unit.    *           C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           ;*   Special Note:  This routine provides multiples of 1000 Tcy      *           C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           ;*                  A value of 1 to 255 to provides 1000 to          *           C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           ;*                  255000 Tcy delay.  A value of 0 will provide     *           C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           ;*                  a delay of 256000 Tcy.                           *           C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           ;********************************************************************/           C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                               EXTERN  DelayCounter1                                                        C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           D1KTCYXCODE CODE                                                                 C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           Delay1KTCYx                                                                      C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072ac   0eff     MOVLW     0xff               movlw   0xff                                                                 C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072ae   50e3     MOVF      0xe3,0x0,0x0       movf    PLUSW1,0                                                             C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072b0   6e3b     MOVWF     0x3b,0x0           movwf   DelayCounter1                                                        C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072b2   0e48     MOVLW     0x48               movlw   0x48                                                                 C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072b4   d001     BRA       0x72b8             bra     D1K_1                                                                C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           D1Kx                                                                             C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072b6   0e4c     MOVLW     0x4c               movlw   0x4c                                                                 C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           D1K_1                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072b8   6ee7     MOVWF     0xe7,0x0           movwf   INDF1                                                                C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072ba   2ee7     DECFSZ    0xe7,0x1,0x0       decfsz  INDF1,1                                                              C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072bc   d7fe     BRA       0x72ba             bra     $-2                                                                  C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072be   6ae7     CLRF      0xe7,0x0           clrf    INDF1                                                                C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072c0   2ee7     DECFSZ    0xe7,0x1,0x0       decfsz  INDF1,1                                                              C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072c2   d7fe     BRA       0x72c0             bra     $-2                                                                  C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072c4   2e3b     DECFSZ    0x3b,0x1,0x0       decfsz  DelayCounter1,1                                                      C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072c6   d7f7     BRA       0x72b6             bra     D1Kx                                                                 C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072c8   0000     NOP                          nop                                                                          C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
0072ca   0012     RETURN    0x0                return                                                                       C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                               GLOBAL  Delay1KTCYx                                                          C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                               END                                                                          C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\d1ktcyx.asm
                                           DELAYDAT1      UDATA_ACS                                                         C:\MCC18\SRC\TRADIT~1\DELAYS\delayd1.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\delayd1.asm
                                           DelayCounter1  RES 1                                                             C:\MCC18\SRC\TRADIT~1\DELAYS\delayd1.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\DELAYS\delayd1.asm
                                                          GLOBAL DelayCounter1                                              C:\MCC18\SRC\TRADIT~1\DELAYS\delayd1.asm
                                           	                                                                                C:\MCC18\SRC\TRADIT~1\DELAYS\delayd1.asm
                                           	       END                                                                      C:\MCC18\SRC\TRADIT~1\DELAYS\delayd1.asm
                                           ;	RCS Header $Id: cmath18.asm,v 1.4 2004/10/01 19:13:22 GrosbaJ Exp $            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;       CMATH18 DATA DEFINITION FILE                                             C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;   VARIABLE ALLOCATION - Core math library routines                             C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           MATH_DATA      UDATA_ACS                                                         C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           SIGN		RES 1       ; save location for sign in MSB                                C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           FPFLAGSbits                                                                      C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           FPFLAGS		RES 1       ; floating point library exception flags                    C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                   GLOBAL  SIGN, FPFLAGS, FPFLAGSbits                                       C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           	                                                                                C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                   END                                                                      C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;	RCS Header $Id: fxd1616s.asm,v 1.2 2004/10/01 19:13:22 GrosbaJ Exp $           C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;	$Revision: 1.2 $                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           	include <P18CXXX.INC>		; general Golden Gate definitions                        C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                   LIST                                                                     C:\MCC18\MPASM\P18CXXX.INC
                                           ; P18CXXX.INC  Standard Header File, Version 1.00   Microchip Technology, Inc.   C:\MCC18\MPASM\P18CXXX.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                           ; P18C452.INC  Standard Header File, Version 0.12   Microchip Technology, Inc.   C:\MCC18\MPASM\P18C452.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C242                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C242.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F242                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F242.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F248                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F248.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C252                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C252.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F252                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F252.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F258                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F258.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C442                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C442.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F442                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F442.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F448                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F448.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C452                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C452.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F452                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F452.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F458                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F458.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C601                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C601.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C658                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C658.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C801                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C801.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C858                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C858.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6720                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6720.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8720                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8720.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2439                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2439.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2539                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2539.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4439                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4439.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4539                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4539.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6621                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6621.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8621                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8621.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2331                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2331.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2431                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2431.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4331                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4331.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4431                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4431.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2515                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2515.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2610                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2610.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4515                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4515.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4610                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4610.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6490                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6490.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8490                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8490.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2681                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2681.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4681                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4681.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2510                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2510.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4510                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4510.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2455                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2455.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2550                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2550.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4455                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4455.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4550                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4550.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2420                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2420.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4420                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4420.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2480                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2480.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2580                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2580.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4480                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4480.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4580                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4580.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6310                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6310.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6390                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6390.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8310                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8310.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8390                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8390.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6627                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6627.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6722                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6722.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8627                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8627.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8722                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8722.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F64J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F64J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F67J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F67J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F84J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F84J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F87J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F87J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           	include <CMATH18.INC>		; Math library definitions                               C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;	RCS Header $Id: cmath18.inc,v 1.2 2004/10/01 19:13:22 GrosbaJ Exp $            C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                           ;	$Revision: 1.2 $                                                               C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                               LIST                                                                         C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                           ; CMATH18.INC  v1.0  Microchip Technology, Inc. / F.J. Testa                     C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                                   LIST                                                                     C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                           	                                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           	include <AARG.INC>		; AARG declarations                                         C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;	RCS Header $Id: aarg.inc,v 1.2 2004/10/01 19:13:22 GrosbaJ Exp $               C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           ;       CMATH18 DATA DECLARATION FILE                                            C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	EXTERN	AARGB0, AARGB1, AARGB2, AARGB3                                           C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                                   EXTERN  AARGB4, AARGB5, AARGB6, AARGB7                                   C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	EXTERN  AEXP                                                                    C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	EXTERN  REMB3, REMB2, REMB1, REMB0                                              C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	                                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           	include <BARG.INC>		; BARG declarations                                         C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;	RCS Header $Id: barg.inc,v 1.2 2004/10/01 19:13:22 GrosbaJ Exp $               C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                           ;       CMATH18 DATA DECLARATION FILE                                            C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                   EXTERN  BARGB3, BARGB2, BARGB1, BARGB0                                   C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                   EXTERN  BEXP                                                             C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;********************************************************************************************** C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;********************************************************************************************** C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;       16/16 Bit Signed Fixed Point Divide 16/16 -> 16.16                       C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;       Input:  16 bit fixed point dividend in AARGB0, AARGB1                    C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;               16 bit fixed point divisor in BARGB0, BARGB1                     C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;       Use:    CALL    FXD1616S                                                 C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;       Output: 16 bit fixed point quotient in AARGB0, AARGB1                    C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;               16 bit fixed point remainder in REMB0, REMB1                     C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;       Result: AARG, REM  <--  AARG / BARG                                      C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;	Testing from 100000 trials:                                                    C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;		min	max	mean                                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;	Timing:	28	149	85.17	clks                                                      C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;       PM: 33            DM: 8                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           ;---------------------------------------------------------------------------------------------- C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           PROG	CODE                                                                        C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           		EXTERN	FXD1616U                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           FXD1616S                                                                         C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           		GLOBAL		FXD1616S                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c7c   6a25     CLRF      0x25,0x0       		CLRF		SIGN		; clear sign                                                       C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c7e   ae23     BTFSS     0x23,0x7,0x0           BTFSS   	BARGB0,MSB                                                      C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c80   ef47     GOTO      0x6c8e                 GOTO    	DA1616S                                                         C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c82   f036                                                                                                               
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c84   6c22     NEGF      0x22,0x0               NEGF    	BARGB1		; if BARG<0, negate and toggle sign                     C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c86   1e23     COMF      0x23,0x1,0x0           COMF    	BARGB0,F                                                        C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c88   6ae8     CLRF      0xe8,0x0               CLRF		WREG                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c8a   2223     ADDWFC    0x23,0x1,0x0   		ADDWFC		BARGB0,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c8c   1e25     COMF      0x25,0x1,0x0   		COMF		SIGN,F                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           DA1616S                                                                          C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c8e   ae1e     BTFSS     0x1e,0x7,0x0   		BTFSS       AARGB0,MSB                                                         C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c90   ef4f     GOTO      0x6c9e                 GOTO        D1616S                                                       C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c92   f036                                                                                                               
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c94   6c1d     NEGF      0x1d,0x0               NEGF        AARGB1		; if AARG<0, negate and toggle sign                  C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c96   1e1e     COMF      0x1e,0x1,0x0           COMF        AARGB0,F                                                     C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c98   6ae8     CLRF      0xe8,0x0               CLRF		WREG                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c9a   221e     ADDWFC    0x1e,0x1,0x0   		ADDWFC		AARGB0,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c9c   1e25     COMF      0x25,0x1,0x0   		COMF		SIGN,F                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           D1616S                                                                           C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006c9e   ec0b     CALL      0x7216,0x0     		CALL		FXD1616U                                                                 C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006ca0   f039                                                                                                               
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006ca2   be1e     BTFSC     0x1e,0x7,0x0   		BTFSC		AARGB0,MSB	; test for exception                                         C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006ca4   ef5f     GOTO      0x6cbe         		GOTO		D1616SX                                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006ca6   f036                                                                                                               
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           D1616SOK                                                                         C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006ca8   ae25     BTFSS     0x25,0x7,0x0   		BTFSS       SIGN,MSB                                                           C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006caa   0c00     RETLW     0x0            		RETLW		0x00                                                                    C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           D1616SNEG                                                                        C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006cac   6c1d     NEGF      0x1d,0x0               NEGF        AARGB1		; negate if result negative                          C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006cae   1e1e     COMF      0x1e,0x1,0x0           COMF        AARGB0,F                                                     C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006cb0   6ae8     CLRF      0xe8,0x0               CLRF		WREG                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006cb2   221e     ADDWFC    0x1e,0x1,0x0   		ADDWFC		AARGB0,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006cb4   6c19     NEGF      0x19,0x0       		NEGF        REMB1                                                              C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006cb6   1e1a     COMF      0x1a,0x1,0x0           COMF        REMB0,F                                                      C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006cb8   6ae8     CLRF      0xe8,0x0               CLRF		WREG                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006cba   221a     ADDWFC    0x1a,0x1,0x0   		ADDWFC		REMB0,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006cbc   0c00     RETLW     0x0                    RETLW       0x00                                                         C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           D1616SX                                                                          C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006cbe   be25     BTFSC     0x25,0x7,0x0   		BTFSC		SIGN,MSB                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006cc0   ef56     GOTO      0x6cac         		GOTO		D1616SNEG                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006cc2   f036                                                                                                               
006cc4   8826     BSF       0x26,0x4,0x0   		BSF			FPFLAGS,NAN	; NAN exception if AARG=0x8000                               C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           								; with positive sign                                                     C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
006cc6   0cff     RETLW     0xff           		RETLW		0xFF                                                                    C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           		END                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd1616s.asm
                                           /*** Unsigned Integer Division: 16-bit by 16-bit                                 C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                            ***                                                                             C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                            *** Optimized: Dec. 21, 2000                                                    C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                            ***        by: Daniel R. Madill, Quanser Consulting Inc.                        C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                            ***       for: Saved (for the worst case) at least 5*16 = 80 instruction cycles C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                            ***            over the code supplied with MCC18 v1.00.12                       C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                            ***/                                                                            C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                           void FXD1616U (/*unsigned arg0, unsigned arg1*/)                                 C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                           {                                                                                C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                             // use INDF1 for the counter...                                                C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                                 _asm                                                                       C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                               // REM = 0                                                                   C:\mcc18\src\TRADIT~1\math\fxd1616u.c
007216   6a1a     CLRF      0x1a,0x0           clrf REMB0, 0                                                                C:\mcc18\src\TRADIT~1\math\fxd1616u.c
007218   6a19     CLRF      0x19,0x0           clrf REMB1, 0                                                                C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                               // INDF1 = 16                                                                C:\mcc18\src\TRADIT~1\math\fxd1616u.c
00721a   0e10     MOVLW     0x10               movlw 16                                                                     C:\mcc18\src\TRADIT~1\math\fxd1616u.c
00721c   6ee7     MOVWF     0xe7,0x0           movwf INDF1, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                               // Clear the carry                                                           C:\mcc18\src\TRADIT~1\math\fxd1616u.c
00721e   90d8     BCF       0xd8,0x0,0x0   	bcf STATUS, 0, 0                                                                C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                           loop:                                                                            C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                           	//AARG16 <<= 1; Carry is always clear at this point.                            C:\mcc18\src\TRADIT~1\math\fxd1616u.c
007220   361d     RLCF      0x1d,0x1,0x0   	rlcf AARGB1, 1, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd1616u.c
007222   361e     RLCF      0x1e,0x1,0x0   	rlcf AARGB0, 1, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                           	//PROD = (PROD << 1) | (AARG16 >> 16)                                           C:\mcc18\src\TRADIT~1\math\fxd1616u.c
007224   3619     RLCF      0x19,0x1,0x0   	rlcf REMB1, 1, 0                                                                C:\mcc18\src\TRADIT~1\math\fxd1616u.c
007226   361a     RLCF      0x1a,0x1,0x0   	rlcf REMB0, 1, 0                                                                C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                           	                                                                                C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                           	//if (PROD >= BARG16)                                                           C:\mcc18\src\TRADIT~1\math\fxd1616u.c
007228   5022     MOVF      0x22,0x0,0x0   	movf BARGB1, 0, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd1616u.c
00722a   5c19     SUBWF     0x19,0x0,0x0   	subwf REMB1, 0, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd1616u.c
00722c   5023     MOVF      0x23,0x0,0x0   	movf BARGB0, 0, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd1616u.c
00722e   581a     SUBWFB    0x1a,0x0,0x0   	subwfb REMB0, 0, 0                                                              C:\mcc18\src\TRADIT~1\math\fxd1616u.c
007230   e305     BNC       0x723c         	bnc endloop                                                                     C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                               //{                                                                          C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                           	    //PROD -= BARG16;                                                           C:\mcc18\src\TRADIT~1\math\fxd1616u.c
007232   5022     MOVF      0x22,0x0,0x0   	    movf BARGB1, 0, 0                                                           C:\mcc18\src\TRADIT~1\math\fxd1616u.c
007234   5e19     SUBWF     0x19,0x1,0x0   	    subwf REMB1, 1, 0                                                           C:\mcc18\src\TRADIT~1\math\fxd1616u.c
007236   5023     MOVF      0x23,0x0,0x0   	    movf BARGB0, 0, 0                                                           C:\mcc18\src\TRADIT~1\math\fxd1616u.c
007238   5a1a     SUBWFB    0x1a,0x1,0x0   	    subwfb REMB0, 1, 0                                                          C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                           	    //++AARG16; Since AARG16 was shift to the left above, the increment will    C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                                   //          simply set the LSbit. Using incf also clears the carry, which C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                                   //          means we don't have to clear the carry at the top of the loop. C:\mcc18\src\TRADIT~1\math\fxd1616u.c
00723a   2a1d     INCF      0x1d,0x1,0x0           incf AARGB1, 1, 0                                                        C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                               //}                                                                          C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                           endloop:                                                                         C:\mcc18\src\TRADIT~1\math\fxd1616u.c
00723c   2ee7     DECFSZ    0xe7,0x1,0x0       decfsz INDF1, 1, 0    // does not affect the carry bit                       C:\mcc18\src\TRADIT~1\math\fxd1616u.c
00723e   d7f0     BRA       0x7220             bra loop                                                                     C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                             _endasm                                                                        C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                             /* result in AARG already... */                                                C:\mcc18\src\TRADIT~1\math\fxd1616u.c
007240   0012     RETURN    0x0            }                                                                                C:\mcc18\src\TRADIT~1\math\fxd1616u.c
                                           ;	RCS Header $Id: fxd3232s.asm,v 1.2 2004/10/01 19:13:23 GrosbaJ Exp $           C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;	$Revision: 1.2 $                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           	include <P18CXXX.INC>		; general Golden Gate definitions                        C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                   LIST                                                                     C:\MCC18\MPASM\P18CXXX.INC
                                           ; P18CXXX.INC  Standard Header File, Version 1.00   Microchip Technology, Inc.   C:\MCC18\MPASM\P18CXXX.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                           ; P18C452.INC  Standard Header File, Version 0.12   Microchip Technology, Inc.   C:\MCC18\MPASM\P18C452.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C242                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C242.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F242                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F242.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F248                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F248.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C252                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C252.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F252                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F252.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F258                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F258.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C442                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C442.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F442                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F442.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F448                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F448.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C452                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C452.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F452                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F452.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F458                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F458.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C601                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C601.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C658                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C658.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C801                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C801.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C858                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C858.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6720                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6720.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8720                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8720.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2439                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2439.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2539                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2539.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4439                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4439.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4539                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4539.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6621                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6621.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8621                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8621.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2331                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2331.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2431                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2431.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4331                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4331.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4431                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4431.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2515                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2515.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2610                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2610.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4515                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4515.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4610                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4610.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6490                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6490.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8490                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8490.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2681                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2681.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4681                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4681.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2510                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2510.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4510                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4510.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2455                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2455.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2550                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2550.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4455                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4455.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4550                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4550.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2420                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2420.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4420                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4420.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2480                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2480.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2580                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2580.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4480                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4480.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4580                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4580.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6310                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6310.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6390                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6390.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8310                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8310.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8390                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8390.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6627                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6627.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6722                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6722.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8627                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8627.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8722                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8722.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F64J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F64J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F67J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F67J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F84J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F84J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F87J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F87J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           	include <CMATH18.INC>		; Math library definitions                               C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;	RCS Header $Id: cmath18.inc,v 1.2 2004/10/01 19:13:22 GrosbaJ Exp $            C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                           ;	$Revision: 1.2 $                                                               C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                               LIST                                                                         C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                           ; CMATH18.INC  v1.0  Microchip Technology, Inc. / F.J. Testa                     C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                                   LIST                                                                     C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           	include <AARG.INC>		; AARG declarations                                         C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;	RCS Header $Id: aarg.inc,v 1.2 2004/10/01 19:13:22 GrosbaJ Exp $               C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           ;       CMATH18 DATA DECLARATION FILE                                            C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	EXTERN	AARGB0, AARGB1, AARGB2, AARGB3                                           C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                                   EXTERN  AARGB4, AARGB5, AARGB6, AARGB7                                   C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	EXTERN  AEXP                                                                    C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	EXTERN  REMB3, REMB2, REMB1, REMB0                                              C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	                                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           	include <BARG.INC>		; BARG declarations                                         C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;	RCS Header $Id: barg.inc,v 1.2 2004/10/01 19:13:22 GrosbaJ Exp $               C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                           ;       CMATH18 DATA DECLARATION FILE                                            C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                   EXTERN  BARGB3, BARGB2, BARGB1, BARGB0                                   C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                   EXTERN  BEXP                                                             C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;********************************************************************************************** C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;********************************************************************************************** C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;       32/32 Bit Signed Fixed Point Divide 32/32 -> 32.32                       C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;       Input:  32 bit fixed point dividend in AARGB0, AARGB1, AARGB2            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;               32 bit fixed point divisor in BARGB0, BARGB1                     C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;       Use:    CALL    FXD3232S                                                 C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;       Output: 32 bit fixed point quotient in AARGB0, AARGB1, AARGB2            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;               32 bit fixed point remainder in REMB0, REMB1                     C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;       Result: AARG, REM  <--  AARG / BARG                                      C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;	Testing from 100000 trials:                                                    C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;		min	max	mean                                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;	Timing:	32	410	127.22	clks                                                     C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;       PM: 50             DM: 12                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           ;---------------------------------------------------------------------------------------------- C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           PROG	CODE                                                                        C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           		EXTERN		FXD3232U                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           FXD3232S                                                                         C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           		GLOBAL		FXD3232S                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cc8   6a25     CLRF      0x25,0x0       		CLRF		SIGN		; clear sign                                                       C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cca   6ae8     CLRF      0xe8,0x0       		CLRF		WREG                                                                     C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006ccc   ae23     BTFSS     0x23,0x7,0x0   		BTFSS		BARGB0,MSB                                                              C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cce   ef71     GOTO      0x6ce2         		GOTO 		DA3232S                                                                 C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cd0   f036                                                                                                               
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cd2   6c20     NEGF      0x20,0x0       		NEGF 		BARGB3		; if BARG<0, negate and toggle sign                             C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cd4   1e21     COMF      0x21,0x1,0x0   		COMF 		BARGB2,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cd6   1e22     COMF      0x22,0x1,0x0   		COMF 		BARGB1,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cd8   1e23     COMF      0x23,0x1,0x0   		COMF 		BARGB0,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cda   2221     ADDWFC    0x21,0x1,0x0   		ADDWFC		BARGB2,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cdc   2222     ADDWFC    0x22,0x1,0x0   		ADDWFC		BARGB1,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cde   2223     ADDWFC    0x23,0x1,0x0   		ADDWFC		BARGB0,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006ce0   1e25     COMF      0x25,0x1,0x0   		COMF		SIGN,F                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           DA3232S                                                                          C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006ce2   ae1e     BTFSS     0x1e,0x7,0x0   		BTFSS       AARGB0,MSB                                                         C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006ce4   ef7c     GOTO      0x6cf8         		GOTO        D3232S                                                             C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006ce6   f036                                                                                                               
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006ce8   6c1b     NEGF      0x1b,0x0       		NEGF        AARGB3		; if AARG<0, negate and toggle sign                        C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cea   1e1c     COMF      0x1c,0x1,0x0   		COMF        AARGB2,F                                                           C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cec   1e1d     COMF      0x1d,0x1,0x0   		COMF        AARGB1,F                                                           C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cee   1e1e     COMF      0x1e,0x1,0x0   		COMF        AARGB0,F                                                           C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cf0   221c     ADDWFC    0x1c,0x1,0x0   		ADDWFC      AARGB2,F                                                           C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cf2   221d     ADDWFC    0x1d,0x1,0x0   		ADDWFC      AARGB1,F                                                           C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cf4   221e     ADDWFC    0x1e,0x1,0x0   		ADDWFC      AARGB0,F                                                           C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cf6   1e25     COMF      0x25,0x1,0x0   		COMF		SIGN,F                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           D3232S                                                                           C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cf8   ecc8     CALL      0x7190,0x0     		CALL		FXD3232U                                                                 C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cfa   f038                                                                                                               
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cfc   be1e     BTFSC     0x1e,0x7,0x0   		BTFSC		AARGB0,MSB	; test for exception                                         C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006cfe   ef93     GOTO      0x6d26         		GOTO		D3232SX                                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d00   f036                                                                                                               
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           D3232SOK                                                                         C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d02   ae25     BTFSS     0x25,0x7,0x0   		BTFSS       SIGN,MSB                                                           C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d04   0c00     RETLW     0x0                    RETLW       0x00                                                         C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           D3232SNEG                                                                        C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d06   6c1b     NEGF      0x1b,0x0       		NEGF  		AARGB3		; negate if result negative                                    C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d08   1e1c     COMF      0x1c,0x1,0x0   		COMF  		AARGB2,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d0a   1e1d     COMF      0x1d,0x1,0x0   		COMF  		AARGB1,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d0c   1e1e     COMF      0x1e,0x1,0x0   		COMF  		AARGB0,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d0e   6ae8     CLRF      0xe8,0x0       		CLRF  		WREG                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d10   221c     ADDWFC    0x1c,0x1,0x0   		ADDWFC		AARGB2,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d12   221d     ADDWFC    0x1d,0x1,0x0   		ADDWFC		AARGB1,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d14   221e     ADDWFC    0x1e,0x1,0x0   		ADDWFC		AARGB0,F                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d16   6c17     NEGF      0x17,0x0       		NEGF  		REMB3                                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d18   1e18     COMF      0x18,0x1,0x0   		COMF  		REMB2,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d1a   1e19     COMF      0x19,0x1,0x0   		COMF  		REMB1,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d1c   1e1a     COMF      0x1a,0x1,0x0   		COMF  		REMB0,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d1e   2218     ADDWFC    0x18,0x1,0x0   		ADDWFC		REMB2,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d20   2219     ADDWFC    0x19,0x1,0x0   		ADDWFC		REMB1,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d22   221a     ADDWFC    0x1a,0x1,0x0   		ADDWFC		REMB0,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d24   0c00     RETLW     0x0            		RETLW 		0x00                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           D3232SX                                                                          C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d26   be25     BTFSC     0x25,0x7,0x0   		BTFSC		SIGN,MSB                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d28   ef83     GOTO      0x6d06         		GOTO		D3232SNEG                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d2a   f036                                                                                                               
006d2c   8826     BSF       0x26,0x4,0x0   		BSF			FPFLAGS,NAN	; NAN exception if AARG=0x800000                             C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
006d2e   0cff     RETLW     0xff           		RETLW		0xFF		; with positive sign                                              C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           		END                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxd3232s.asm
                                           /*** Unsigned Integer Division: 32-bit by 32-bit                                 C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                            ***                                                                             C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                            *** Optimized: Dec. 21, 2000                                                    C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                            ***        by: Daniel R. Madill, Quanser Consulting Inc.                        C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                            ***       for: Saved (for the worst case) at least 8*32 = 256 instruction cycles C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                            ***            over the code supplied with MCC18 v1.00.12                       C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                            ***/                                                                            C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                           void  FXD3232U(void/* ulong aarg, ulong barg */)                                 C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                           {                                                                                C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                             // use INDF1 for the counter...                                                C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                               _asm                                                                         C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                               // REM = 0                                                                   C:\mcc18\src\TRADIT~1\math\fxd3232u.c
007190   6a1a     CLRF      0x1a,0x0           clrf REMB0, 0                                                                C:\mcc18\src\TRADIT~1\math\fxd3232u.c
007192   6a19     CLRF      0x19,0x0           clrf REMB1, 0                                                                C:\mcc18\src\TRADIT~1\math\fxd3232u.c
007194   6a18     CLRF      0x18,0x0           clrf REMB2, 0                                                                C:\mcc18\src\TRADIT~1\math\fxd3232u.c
007196   6a17     CLRF      0x17,0x0           clrf REMB3, 0                                                                C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                               // INDF1 = 32                                                                C:\mcc18\src\TRADIT~1\math\fxd3232u.c
007198   0e20     MOVLW     0x20               movlw 32                                                                     C:\mcc18\src\TRADIT~1\math\fxd3232u.c
00719a   6ee7     MOVWF     0xe7,0x0           movwf INDF1, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                               // Clear the carry                                                           C:\mcc18\src\TRADIT~1\math\fxd3232u.c
00719c   90d8     BCF       0xd8,0x0,0x0       bcf STATUS, 0, 0                                                             C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                           loop:                                                                            C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                           	//AARG32 <<= 1; The carry is always clear at the top of the loop.               C:\mcc18\src\TRADIT~1\math\fxd3232u.c
00719e   361b     RLCF      0x1b,0x1,0x0   	rlcf AARGB3, 1, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071a0   361c     RLCF      0x1c,0x1,0x0   	rlcf AARGB2, 1, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071a2   361d     RLCF      0x1d,0x1,0x0   	rlcf AARGB1, 1, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071a4   361e     RLCF      0x1e,0x1,0x0   	rlcf AARGB0, 1, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                           	//REM32 = (REM32 << 1) | (AARG32 >> 32)                                         C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071a6   3617     RLCF      0x17,0x1,0x0   	rlcf REMB3, 1, 0                                                                C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071a8   3618     RLCF      0x18,0x1,0x0   	rlcf REMB2, 1, 0                                                                C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071aa   3619     RLCF      0x19,0x1,0x0   	rlcf REMB1, 1, 0                                                                C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071ac   361a     RLCF      0x1a,0x1,0x0   	rlcf REMB0, 1, 0                                                                C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                           	                                                                                C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                           	//if (PROD >= BARG32)                                                           C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071ae   5020     MOVF      0x20,0x0,0x0   	movf BARGB3, 0, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071b0   5c17     SUBWF     0x17,0x0,0x0   	subwf REMB3, 0, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071b2   5021     MOVF      0x21,0x0,0x0   	movf BARGB2, 0, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071b4   5818     SUBWFB    0x18,0x0,0x0   	subwfb REMB2, 0, 0                                                              C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071b6   5022     MOVF      0x22,0x0,0x0   	movf BARGB1, 0, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071b8   5819     SUBWFB    0x19,0x0,0x0   	subwfb REMB1, 0, 0                                                              C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071ba   5023     MOVF      0x23,0x0,0x0   	movf BARGB0, 0, 0                                                               C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071bc   581a     SUBWFB    0x1a,0x0,0x0   	subwfb REMB0, 0, 0                                                              C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071be   e309     BNC       0x71d2         	bnc _false                                                                      C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                               //{                                                                          C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                           	    //REM32-= BARG32;                                                           C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071c0   5020     MOVF      0x20,0x0,0x0   	    movf BARGB3, 0, 0                                                           C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071c2   5e17     SUBWF     0x17,0x1,0x0   	    subwf REMB3, 1, 0                                                           C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071c4   5021     MOVF      0x21,0x0,0x0   	    movf BARGB2, 0, 0                                                           C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071c6   5a18     SUBWFB    0x18,0x1,0x0   	    subwfb REMB2, 1, 0                                                          C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071c8   5022     MOVF      0x22,0x0,0x0   	    movf BARGB1, 0, 0                                                           C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071ca   5a19     SUBWFB    0x19,0x1,0x0   	    subwfb REMB1, 1, 0                                                          C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071cc   5023     MOVF      0x23,0x0,0x0   	    movf BARGB0, 0, 0                                                           C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071ce   5a1a     SUBWFB    0x1a,0x1,0x0   	    subwfb REMB0, 1, 0                                                          C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                           	    //++AARG32; Since AARG32 was shift to the left above, we only need to set   C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                                   //          the lowest bit. Use incf so that the carry flag will also be cleared. C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                                   //          Thus, the carry will always be clear at the top of the loop. C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071d0   2a1b     INCF      0x1b,0x1,0x0   	    incf AARGB3, 1, 0                                                           C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                               //}                                                                          C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                           _false:                                                                          C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071d2   2ee7     DECFSZ    0xe7,0x1,0x0       decfsz INDF1, 1, 0    // does not affect the carry bit                       C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071d4   d7e4     BRA       0x719e             bra loop                                                                     C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                             /* result in AARG already... */                                                C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                             _endasm                                                                        C:\mcc18\src\TRADIT~1\math\fxd3232u.c
0071d6   0012     RETURN    0x0            }                                                                                C:\mcc18\src\TRADIT~1\math\fxd3232u.c
                                           ;	RCS Header $Id: fxm1616s.asm,v 1.2 2004/10/01 19:13:23 GrosbaJ Exp $           C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;	$Revision: 1.2 $                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           	include <P18CXXX.INC>		; general Golden Gate definitions                        C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                   LIST                                                                     C:\MCC18\MPASM\P18CXXX.INC
                                           ; P18CXXX.INC  Standard Header File, Version 1.00   Microchip Technology, Inc.   C:\MCC18\MPASM\P18CXXX.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                           ; P18C452.INC  Standard Header File, Version 0.12   Microchip Technology, Inc.   C:\MCC18\MPASM\P18C452.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C242                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C242.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F242                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F242.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F248                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F248.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C252                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C252.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F252                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F252.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F258                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F258.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C442                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C442.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F442                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F442.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F448                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F448.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C452                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C452.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F452                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F452.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F458                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F458.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C601                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C601.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C658                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C658.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C801                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C801.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C858                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C858.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6720                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6720.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8720                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8720.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2439                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2439.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2539                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2539.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4439                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4439.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4539                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4539.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6621                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6621.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8621                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8621.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2331                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2331.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2431                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2431.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4331                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4331.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4431                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4431.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2515                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2515.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2610                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2610.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4515                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4515.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4610                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4610.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6490                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6490.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8490                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8490.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2681                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2681.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4681                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4681.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2510                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2510.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4510                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4510.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2455                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2455.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2550                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2550.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4455                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4455.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4550                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4550.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2420                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2420.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4420                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4420.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2480                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2480.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2580                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2580.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4480                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4480.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4580                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4580.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6310                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6310.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6390                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6390.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8310                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8310.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8390                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8390.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6627                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6627.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6722                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6722.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8627                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8627.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8722                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8722.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F64J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F64J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F67J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F67J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F84J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F84J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F87J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F87J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           	include <CMATH18.INC>		; Math library definitions                               C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;	RCS Header $Id: cmath18.inc,v 1.2 2004/10/01 19:13:22 GrosbaJ Exp $            C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                           ;	$Revision: 1.2 $                                                               C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                               LIST                                                                         C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                           ; CMATH18.INC  v1.0  Microchip Technology, Inc. / F.J. Testa                     C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                                   LIST                                                                     C:\MCC18\SRC\TRADIT~1\MATH\CMATH18.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           	include <AARG.INC>		; AARG declarations                                         C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;	RCS Header $Id: aarg.inc,v 1.2 2004/10/01 19:13:22 GrosbaJ Exp $               C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           ;       CMATH18 DATA DECLARATION FILE                                            C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	EXTERN	AARGB0, AARGB1, AARGB2, AARGB3                                           C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                                   EXTERN  AARGB4, AARGB5, AARGB6, AARGB7                                   C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	EXTERN  AEXP                                                                    C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	EXTERN  REMB3, REMB2, REMB1, REMB0                                              C:\MCC18\SRC\TRADIT~1\MATH\AARG.INC
                                           	                                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           	include <BARG.INC>		; BARG declarations                                         C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;	RCS Header $Id: barg.inc,v 1.2 2004/10/01 19:13:22 GrosbaJ Exp $               C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                           ;       CMATH18 DATA DECLARATION FILE                                            C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                   EXTERN  BARGB3, BARGB2, BARGB1, BARGB0                                   C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                   EXTERN  BEXP                                                             C:\MCC18\SRC\TRADIT~1\MATH\BARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           	include <TEMPARG.INC>		; TEMPARG declarations                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;	RCS Header $Id: temparg.inc,v 1.2 2004/10/01 19:13:23 GrosbaJ Exp $            C:\MCC18\SRC\TRADIT~1\MATH\TEMPARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\TEMPARG.INC
                                           ;       CMATH18 DATA DECLARATION FILE                                            C:\MCC18\SRC\TRADIT~1\MATH\TEMPARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\TEMPARG.INC
                                                   EXTERN  TEMPB3, TEMPB2, TEMPB1, TEMPB0, TEMP                             C:\MCC18\SRC\TRADIT~1\MATH\TEMPARG.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;********************************************************************************************** C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;********************************************************************************************** C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       16x16 Bit Signed Fixed Point Multiply 16 x 16 -> 32                      C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       Input:  16 bit signed fixed point multiplicand in AARGB0, AARGB1         C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;               16 bit signed fixed point multiplier in BARGB0, BARGB1           C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       Use:    CALL    FXM1616S                                                 C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       Output: 32 bit signed fixed point product in AARGB0, AARGB1,             C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;               AARGB2, AARGB3                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       Result: AARG  <--  AARG * BARG                                           C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       Max Timing:     39 clks                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       Min Timing:     31 clks                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           ;       PM: 38              DM: 8                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           PROG	CODE                                                                        C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           FXM1616S                                                                         C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           		GLOBAL	FXM1616S                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d30   c01e     MOVFF     0x1e,0x2a      		MOVFF	AARGB0,TEMPB0                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d32   f02a                                                                                                               
006d34   c01d     MOVFF     0x1d,0x29      		MOVFF	AARGB1,TEMPB1	                                                           C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d36   f029                                                                                                               
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d38   501d     MOVF      0x1d,0x0,0x0   		MOVF	AARGB1,W                                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d3a   0222     MULWF     0x22,0x0       		MULWF	BARGB1                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d3c   cff4     MOVFF     0xff4,0x1c     		MOVFF	PRODH,AARGB2                                                             C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d3e   f01c                                                                                                               
006d40   cff3     MOVFF     0xff3,0x1b     		MOVFF	PRODL,AARGB3                                                             C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d42   f01b                                                                                                               
                                           		                                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d44   501e     MOVF      0x1e,0x0,0x0   		MOVF	AARGB0,W                                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d46   0223     MULWF     0x23,0x0       		MULWF	BARGB0                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d48   cff4     MOVFF     0xff4,0x1e     		MOVFF	PRODH,AARGB0                                                             C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d4a   f01e                                                                                                               
006d4c   cff3     MOVFF     0xff3,0x1d     		MOVFF	PRODL,AARGB1                                                             C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d4e   f01d                                                                                                               
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d50   0222     MULWF     0x22,0x0       		MULWF	BARGB1                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d52   50f3     MOVF      0xf3,0x0,0x0   		MOVF	PRODL,W                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d54   261c     ADDWF     0x1c,0x1,0x0   		ADDWF	AARGB2,F                                                                 C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d56   50f4     MOVF      0xf4,0x0,0x0   		MOVF	PRODH,W                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d58   221d     ADDWFC    0x1d,0x1,0x0   		ADDWFC	AARGB1,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d5a   6ae8     CLRF      0xe8,0x0       		CLRF	WREG                                                                      C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d5c   221e     ADDWFC    0x1e,0x1,0x0   		ADDWFC	AARGB0,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d5e   5029     MOVF      0x29,0x0,0x0   		MOVF	TEMPB1,W                                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d60   0223     MULWF     0x23,0x0       		MULWF	BARGB0                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d62   50f3     MOVF      0xf3,0x0,0x0   		MOVF	PRODL,W                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d64   261c     ADDWF     0x1c,0x1,0x0   		ADDWF	AARGB2,F                                                                 C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d66   50f4     MOVF      0xf4,0x0,0x0   		MOVF	PRODH,W                                                                   C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d68   221d     ADDWFC    0x1d,0x1,0x0   		ADDWFC	AARGB1,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d6a   6ae8     CLRF      0xe8,0x0       		CLRF	WREG                                                                      C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d6c   221e     ADDWFC    0x1e,0x1,0x0   		ADDWFC	AARGB0,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d6e   ae23     BTFSS     0x23,0x7,0x0   		BTFSS	BARGB0,MSB                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d70   efbe     GOTO      0x6d7c         		GOTO	TSIGN1616A                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d72   f036                                                                                                               
006d74   5029     MOVF      0x29,0x0,0x0   		MOVF	TEMPB1,W                                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d76   5e1d     SUBWF     0x1d,0x1,0x0   		SUBWF	AARGB1,F                                                                 C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d78   502a     MOVF      0x2a,0x0,0x0   		MOVF	TEMPB0,W                                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d7a   5a1e     SUBWFB    0x1e,0x1,0x0   		SUBWFB	AARGB0,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           TSIGN1616A                                                                       C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d7c   ae2a     BTFSS     0x2a,0x7,0x0   		BTFSS	TEMPB0,MSB                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d7e   0c00     RETLW     0x0            		RETLW	0x00                                                                     C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d80   5022     MOVF      0x22,0x0,0x0   		MOVF	BARGB1,W                                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d82   5e1d     SUBWF     0x1d,0x1,0x0   		SUBWF	AARGB1,F                                                                 C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d84   5023     MOVF      0x23,0x0,0x0   		MOVF	BARGB0,W                                                                  C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d86   5a1e     SUBWFB    0x1e,0x1,0x0   		SUBWFB	AARGB0,F                                                                C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           		                                                                               C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
006d88   0c00     RETLW     0x0            		RETLW	0x00                                                                     C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           		END                                                                            C:\MCC18\SRC\TRADIT~1\MATH\fxm1616s.asm
                                           /* a signed multiply is only different from an unsigned multiply                 C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                            * if the upper bytes of the result matter, which for us they                    C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                            * don't.                                                                        C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                            */                                                                              C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                           #define PRODH	(PRODL + 1)                                                        C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                           extern near unsigned char AARGB3, BARGB3;                                        C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                           extern near unsigned char AARGB7;                                                C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                           void FXM3232 (void)                                                              C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                           {                                                                                C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                             _asm                                                                           C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f40   501b     MOVF      0x1b,0x0,0x0       movf AARGB3, 0, 0                                                            C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f42   0220     MULWF     0x20,0x0           mulwf BARGB3, 0                                                              C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // low byte of both operands, so result adds into the low order              C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // result bytes                                                              C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f44   cff3     MOVFF     0xff3,0x17         movff PRODL, AARGB7                                                          C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f46   f017                                                                                                               
006f48   cff4     MOVFF     0xff4,0x18         movff PRODH, AARGB7 + 1                                                      C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f4a   f018                                                                                                               
                                               // W still contains AARGB3                                                   C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f4c   0221     MULWF     0x21,0x0           mulwf BARGB3 + 1, 0                                                          C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // BARGB3[1], so result adds into AARGB7[1,2]                                C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f4e   50f3     MOVF      0xf3,0x0,0x0       movf PRODL, 0, 0                                                             C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f50   2618     ADDWF     0x18,0x1,0x0       addwf AARGB7 + 1, 1, 0                                                       C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f52   0e00     MOVLW     0x0                movlw 0                                                                      C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f54   20f4     ADDWFC    0xf4,0x0,0x0       addwfc PRODH, 0, 0                                                           C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f56   6e19     MOVWF     0x19,0x0           movwf AARGB7 + 2, 0                                                          C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // reload AARGB3 to continue                                                 C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f58   501b     MOVF      0x1b,0x0,0x0       movf AARGB3, 0, 0                                                            C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f5a   0222     MULWF     0x22,0x0           mulwf BARGB3 + 2, 0                                                          C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // BARGB3[2], so result adds into AARGB7[2,3]                                C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f5c   50f3     MOVF      0xf3,0x0,0x0       movf PRODL, 0, 0                                                             C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f5e   2619     ADDWF     0x19,0x1,0x0       addwf AARGB7 + 2, 1, 0                                                       C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f60   0e00     MOVLW     0x0                movlw 0                                                                      C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f62   20f4     ADDWFC    0xf4,0x0,0x0       addwfc PRODH, 0, 0                                                           C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f64   6e1a     MOVWF     0x1a,0x0           movwf AARGB7 + 3, 0                                                          C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // reload AARGB3 to continue                                                 C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f66   501b     MOVF      0x1b,0x0,0x0       movf AARGB3, 0, 0                                                            C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f68   0223     MULWF     0x23,0x0           mulwf BARGB3 + 3, 0                                                          C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // BARGB3[3], so result adds into AARGB7[3].                                 C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // we don't care about result bytes above AARGB7[3], ignore prodh here.      C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f6a   50f3     MOVF      0xf3,0x0,0x0       movf PRODL, 0, 0                                                             C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f6c   261a     ADDWF     0x1a,0x1,0x0       addwf AARGB7 + 3, 1, 0                                                       C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // that's the end of all terms involving AARGB3[0].                          C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // load AARGB3[1] to continue                                                C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f6e   501c     MOVF      0x1c,0x0,0x0       movf AARGB3 + 1, 0, 0                                                        C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f70   0220     MULWF     0x20,0x0           mulwf BARGB3, 0                                                              C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // AARGB3[1], so result adds into AARGB7[1,2]                                C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f72   50f3     MOVF      0xf3,0x0,0x0       movf PRODL, 0, 0                                                             C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f74   2618     ADDWF     0x18,0x1,0x0       addwf AARGB7 + 1, 1, 0                                                       C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f76   50f4     MOVF      0xf4,0x0,0x0       movf PRODH, 0, 0                                                             C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f78   2219     ADDWFC    0x19,0x1,0x0       addwfc AARGB7 + 2, 1, 0                                                      C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f7a   0e00     MOVLW     0x0                movlw 0                                                                      C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f7c   221a     ADDWFC    0x1a,0x1,0x0       addwfc AARGB7 + 3, 1, 0                                                      C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // reload AARGB3[1] to continue                                              C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f7e   501c     MOVF      0x1c,0x0,0x0       movf AARGB3 + 1, 0, 0                                                        C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f80   0221     MULWF     0x21,0x0           mulwf BARGB3 + 1, 0                                                          C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // AARGB3[1] and BARGB3[1], so result adds into AARGB7[2,3]                  C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f82   50f3     MOVF      0xf3,0x0,0x0       movf PRODL, 0, 0                                                             C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f84   2619     ADDWF     0x19,0x1,0x0       addwf AARGB7 + 2, 1, 0                                                       C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f86   50f4     MOVF      0xf4,0x0,0x0       movf PRODH, 0, 0                                                             C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f88   221a     ADDWFC    0x1a,0x1,0x0       addwfc AARGB7 + 3, 1, 0                                                      C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // reload AARGB3[1] to continue                                              C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f8a   501c     MOVF      0x1c,0x0,0x0       movf AARGB3 + 1, 0, 0                                                        C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f8c   0222     MULWF     0x22,0x0           mulwf BARGB3 + 2, 0                                                          C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // AARGB3[1] and BARGB3[2], so result adds into AARGB7[3]                    C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // we don't care about result bytes above AARGB7[3], ignore prodh here.      C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f8e   50f3     MOVF      0xf3,0x0,0x0       movf PRODL, 0, 0                                                             C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f90   261a     ADDWF     0x1a,0x1,0x0       addwf AARGB7 + 3, 1, 0                                                       C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // all bytes of the term from the product of AARGB3[1] and BARGB3[3] are     C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // above our 32-bit result, don't even need to bother calculating            C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // that term.                                                                C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // load AARGB3[2] to continue                                                C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f92   501d     MOVF      0x1d,0x0,0x0       movf AARGB3 + 2, 0, 0                                                        C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f94   0220     MULWF     0x20,0x0           mulwf BARGB3, 0                                                              C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // AARGB3[2] and BARGB3[0], so result adds into AARGB7[2,3]                  C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f96   50f3     MOVF      0xf3,0x0,0x0       movf PRODL, 0, 0                                                             C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f98   2619     ADDWF     0x19,0x1,0x0       addwf AARGB7 + 2, 1, 0                                                       C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f9a   50f4     MOVF      0xf4,0x0,0x0       movf PRODH, 0, 0                                                             C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f9c   221a     ADDWFC    0x1a,0x1,0x0       addwfc AARGB7 + 3, 1, 0                                                      C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // reload AARGB3[2] to continue                                              C:\mcc18\src\TRADIT~1\math\fxm3232.c
006f9e   501d     MOVF      0x1d,0x0,0x0       movf AARGB3 + 2, 0, 0                                                        C:\mcc18\src\TRADIT~1\math\fxm3232.c
006fa0   0221     MULWF     0x21,0x0           mulwf BARGB3 + 1, 0                                                          C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // AARGB3[2] and BARGB3[1], so result adds into AARGB7[3]                    C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // we don't care about result bytes above AARGB7[3], ignore prodh here.      C:\mcc18\src\TRADIT~1\math\fxm3232.c
006fa2   50f3     MOVF      0xf3,0x0,0x0       movf PRODL, 0, 0                                                             C:\mcc18\src\TRADIT~1\math\fxm3232.c
006fa4   261a     ADDWF     0x1a,0x1,0x0       addwf AARGB7 + 3, 1, 0                                                       C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // all bytes of the termsfrom the products of AARGB3[2] and BARGB3[2,3] are  C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // above our 32-bit result, don't even need to bother calculating            C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // those terms.                                                              C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // load AARGB3[3] to continue                                                C:\mcc18\src\TRADIT~1\math\fxm3232.c
006fa6   501e     MOVF      0x1e,0x0,0x0       movf AARGB3 + 3, 0, 0                                                        C:\mcc18\src\TRADIT~1\math\fxm3232.c
006fa8   0220     MULWF     0x20,0x0           mulwf BARGB3, 0                                                              C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               // AARGB3[3] and BARGB3[0], so result adds into AARGB7[3]                    C:\mcc18\src\TRADIT~1\math\fxm3232.c
006faa   50f3     MOVF      0xf3,0x0,0x0       movf PRODL, 0, 0                                                             C:\mcc18\src\TRADIT~1\math\fxm3232.c
006fac   261a     ADDWF     0x1a,0x1,0x0       addwf AARGB7 + 3, 1, 0                                                       C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                                                                                                            C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                               _endasm;                                                                     C:\mcc18\src\TRADIT~1\math\fxm3232.c
006fae   0012     RETURN    0x0            }                                                                                C:\mcc18\src\TRADIT~1\math\fxm3232.c
                                           #include <p18cxxx.h>                                                             C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           #include <usart.h>                                                               C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           #if defined(__18F6525) || defined(__18F6621) || \                                C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                               defined(__18F8525) || defined(__18F8621)                                     C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           #define RC1IE RCIE                                                               C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           #define TX1IE TXIE                                                               C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           #endif                                                                           C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           // USART1 Status Structure                                                       C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           extern union USART1 USART1_Status;                                               C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           /********************************************************************            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           *    Function Name:  Open1USART                                      *           C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           *    Return Value:   void                                           *            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           *    Parameters:     config: bit definitions to configure USART1     *           C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           *                    spbrg: baudrate value for register SPBRG1      *            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           *    Description:    This routine first resets the USART1 regs       *           C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           *                    to the POR state. It then configures the       *            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           *                    USART1 for interrupts, synch/async, 8/9-bit,    *           C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           *                    sync slave/master and single/cont. rx.         *            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           *    Notes:          The bit definitions for config can be found    *            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           *                    in the usart.h file.                           *            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                           ********************************************************************/            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
0070e4   cfd9     MOVFF     0xfd9,0xfe6    void Open1USART( unsigned char config, char spbrg)                               C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
0070e6   ffe6                                                                                                               
0070e8   cfda     MOVFF     0xfda,0xfe6                                                                                     
0070ea   ffe6                                                                                                               
0070ec   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0070ee   ffd9                                                                                                               
0070f0   cfe2     MOVFF     0xfe2,0xfda                                                                                     
0070f2   ffda                                                                                                               
                                           {                                                                                C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
0070f4   6aac     CLRF      0xac,0x0         TXSTA1 = 0;           // Reset USART registers to POR state                    C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
0070f6   6aab     CLRF      0xab,0x0         RCSTA1 = 0;                                                                    C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
0070f8   0efd     MOVLW     0xfd             if(config&0x01)      // Sync or async operation                                C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
0070fa   b0db     BTFSC     0xdb,0x0,0x0                                                                                    
0070fc   88ac     BSF       0xac,0x4,0x0       TXSTA1bits.SYNC = 1;                                                         C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
0070fe   a2db     BTFSS     0xdb,0x1,0x0     if(config&0x02)      // 8- or 9-bit mode                                       C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007100   d002     BRA       0x7106                                                                                          
                                             {                                                                              C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007102   8cac     BSF       0xac,0x6,0x0       TXSTA1bits.TX9 = 1;                                                          C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007104   8cab     BSF       0xab,0x6,0x0       RCSTA1bits.RX9 = 1;                                                          C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                             }                                                                              C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007106   b4db     BTFSC     0xdb,0x2,0x0     if(config&0x04)      // Master or Slave (sync only)                            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007108   8eac     BSF       0xac,0x7,0x0       TXSTA1bits.CSRC = 1;                                                         C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
00710a   a6db     BTFSS     0xdb,0x3,0x0     if(config&0x08)      // Continuous or single reception                         C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
00710c   d002     BRA       0x7112                                                                                          
00710e   88ab     BSF       0xab,0x4,0x0       RCSTA1bits.CREN = 1;                                                         C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007110   d001     BRA       0x7114           else                                                                           C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007112   8aab     BSF       0xab,0x5,0x0       RCSTA1bits.SREN = 1;                                                         C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007114   a8db     BTFSS     0xdb,0x4,0x0     if(config&0x10)      // Baud rate select (asychronous mode only)               C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007116   d002     BRA       0x711c                                                                                          
007118   84ac     BSF       0xac,0x2,0x0       TXSTA1bits.BRGH = 1;                                                         C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
00711a   d001     BRA       0x711e           else                                                                           C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
00711c   94ac     BCF       0xac,0x2,0x0       TXSTA1bits.BRGH = 0;                                                         C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
00711e   acdb     BTFSS     0xdb,0x6,0x0     if(config&0x40)      // Interrupt on receipt                                   C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007120   d002     BRA       0x7126                                                                                          
007122   8a9d     BSF       0x9d,0x5,0x0       PIE1bits.RC1IE = 1;                                                          C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007124   d001     BRA       0x7128           else                                                                           C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007126   9a9d     BCF       0x9d,0x5,0x0       PIE1bits.RC1IE = 0;                                                          C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007128   aedb     BTFSS     0xdb,0x7,0x0     if(config&0x80)      // Interrupt on transmission                              C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
00712a   d002     BRA       0x7130                                                                                          
00712c   889d     BSF       0x9d,0x4,0x0       PIE1bits.TX1IE = 1;                                                          C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
00712e   d001     BRA       0x7132           else                                                                           C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007130   989d     BCF       0x9d,0x4,0x0       PIE1bits.TX1IE = 0;                                                          C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007132   0efc     MOVLW     0xfc             SPBRG1 = spbrg;       // Write baudrate to SPBRG1                              C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
007134   50db     MOVF      0xdb,0x0,0x0                                                                                    
007136   6eaf     MOVWF     0xaf,0x0                                                                                        
007138   8aac     BSF       0xac,0x5,0x0     TXSTA1bits.TXEN = 1;  // Enable transmitter                                    C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
00713a   8eab     BSF       0xab,0x7,0x0     RCSTA1bits.SPEN = 1;  // Enable receiver                                       C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
00713c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\mcc18\src\TRADIT~1\pmc\USART\u1open.c
00713e   cfe5     MOVFF     0xfe5,0xfda                                                                                     
007140   ffda                                                                                                               
007142   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
007144   ffd9                                                                                                               
007146   0012     RETURN    0x0                                                                                             
                                           /* $Id: adcopen.c,v 1.2 2004/02/10 22:11:33 sealep Exp $ */                      C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           #include <p18cxxx.h>                                                             C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           #include <adc.h>                                                                 C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           /********************************************************************            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           *    Function Name:  OpenADC                                        *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           *    Return Value:   void                                           *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           *    Parameters:     config: bit definitions to configure A/D       *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           *                    channel: channel selection                     *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           *    Description:    This routine first resets the A/D registers    *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           *                    to the POR state and then configures the       *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           *                    A/D clock, interrupt, justification, vref      *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           *                    source, and I/O.  It also sets the channel.    *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           *    Notes:          The bit definitions for config and channel     *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           *                    can be found in the adc16.h file.              *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           ********************************************************************/            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           #if !defined(ADC_INTERFACE_OLD) && \                                             C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                               !defined(__18C601)  && !defined(__18C801)  && \                              C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                               !defined(__18C658)  && !defined(__18C858)  && \                              C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                               !defined(__18F6520) && !defined(__18F6620) && !defined(__18F6720) && \       C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                               !defined(__18F8520) && !defined(__18F8620) && !defined(__18F8720)            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
006fb0   cfd9     MOVFF     0xfd9,0xfe6    void OpenADC( unsigned char config,                                              C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
006fb2   ffe6                                                                                                               
006fb4   cfda     MOVFF     0xfda,0xfe6                                                                                     
006fb6   ffe6                                                                                                               
006fb8   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
006fba   ffd9                                                                                                               
006fbc   cfe2     MOVFF     0xfe2,0xfda                                                                                     
006fbe   ffda                                                                                                               
                                                         unsigned char config2,                                             C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                                         unsigned char portconfig)                                          C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           {                                                                                C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                               // Reset A/D Registers to POR state                                          C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
006fc0   6ac2     CLRF      0xc2,0x0           ADCON0 = 0;                                                                  C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
006fc2   6ac1     CLRF      0xc1,0x0           ADCON1 = 0;                                                                  C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
006fc4   6ac0     CLRF      0xc0,0x0           ADCON2 = 0;                                                                  C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
006fc6   0efc     MOVLW     0xfc               ADCON0 = (config2 >> 1) & 0b00111100;     // Analog channel selection        C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
006fc8   40db     RRNCF     0xdb,0x0,0x0                                                                                    
006fca   0b7f     ANDLW     0x7f                                                                                            
006fcc   0b3c     ANDLW     0x3c                                                                                            
006fce   6ec2     MOVWF     0xc2,0x0                                                                                        
006fd0   0efb     MOVLW     0xfb               ADCON1 = portconfig;                      // Port configuration              C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
006fd2   50db     MOVF      0xdb,0x0,0x0                                                                                    
006fd4   6ec1     MOVWF     0xc1,0x0                                                                                        
                                           #if defined(__18F1220) || defined(__18F1320)                                     C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                               ADCON0 |= (config2 << 6) & 0b11000000;    // Voltage reference configuration C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           #else                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
006fd6   0efc     MOVLW     0xfc               ADCON1 |= (config2 << 4) & 0b00110000;    // Voltage reference configuration C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
006fd8   38db     SWAPF     0xdb,0x0,0x0                                                                                    
006fda   0bf0     ANDLW     0xf0                                                                                            
006fdc   0b30     ANDLW     0x30                                                                                            
006fde   12c1     IORWF     0xc1,0x1,0x0                                                                                    
                                           #endif                                                                           C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
006fe0   0efd     MOVLW     0xfd               ADCON2 = config & 0b10000000;             // Result format                   C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
006fe2   50db     MOVF      0xdb,0x0,0x0                                                                                    
006fe4   0b80     ANDLW     0x80                                                                                            
006fe6   6ec0     MOVWF     0xc0,0x0                                                                                        
006fe8   0efd     MOVLW     0xfd               ADCON2 |= (config >> 4) & 0b00000111;     // Conversion clock select         C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
006fea   38db     SWAPF     0xdb,0x0,0x0                                                                                    
006fec   0b0f     ANDLW     0xf                                                                                             
006fee   0b07     ANDLW     0x7                                                                                             
006ff0   12c0     IORWF     0xc0,0x1,0x0                                                                                    
006ff2   0efd     MOVLW     0xfd               ADCON2 |= (config << 2) & 0b00111000;     // Acquisition time select         C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
006ff4   50db     MOVF      0xdb,0x0,0x0                                                                                    
006ff6   0d04     MULLW     0x4                                                                                             
006ff8   50f3     MOVF      0xf3,0x0,0x0                                                                                    
006ffa   0b38     ANDLW     0x38                                                                                            
006ffc   12c0     IORWF     0xc0,0x1,0x0                                                                                    
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
006ffe   0efc     MOVLW     0xfc               if( config2 & 0b10000000 )   // Test the interrupt on/off                    C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
007000   aedb     BTFSS     0xdb,0x7,0x0                                                                                    
007002   d003     BRA       0x700a                                                                                          
                                               {                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
007004   9c9e     BCF       0x9e,0x6,0x0         PIR1bits.ADIF = 0;         // Clear the A/D interrupt flag                 C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
007006   8c9d     BSF       0x9d,0x6,0x0         PIE1bits.ADIE = 1;         // Enable the A/D interrupt                     C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
007008   8cf2     BSF       0xf2,0x6,0x0         INTCONbits.PEIE = 1;       // Enable peripheral interrupts                 C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                               }                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
00700a   80c2     BSF       0xc2,0x0,0x0       ADCON0bits.ADON = 1;         // Enable the A/D                               C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
00700c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
00700e   cfe5     MOVFF     0xfe5,0xfda                                                                                     
007010   ffda                                                                                                               
007012   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
007014   ffd9                                                                                                               
007016   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           #else                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           void OpenADC( unsigned char config, unsigned char config2)                       C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           {                                                                                C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                             // Reset A/D Registers to POR state                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                             ADCON0 = 0;                                                                    C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                             ADCON1 = 0;                                                                    C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           #ifndef ADC_INTERFACE_OLD                                                        C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                             ADCON2 = 0;                                                                    C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           #endif                                                                           C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                             // Configure ADCON registers as per config selections                          C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           #ifdef ADC_INTERFACE_OLD                                                         C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                             ADCON1 = config;             // Set the A/D clock source                       C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                             ADCON0 = (config<<2) & 0xC0; // Set the I/O selection                          C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                             ADCON0 |= config2 &0x3f;     // Set the channel mask out the interrupt bit.    C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           #else // New ADC interface                                                       C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                             ADCON0 = (config2 >> 1) & 0b00111100;    // Analog channel selection           C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                             ADCON1 = ((config2 << 4) & 0b00110000) | // Voltage reference configuration    C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                                      (config & 0b00001111);          // Port configuration                 C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                             ADCON2 = (config & 0b10000000) |         // Result format                      C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                                      ((config >> 4) & 0b00000111);   // Conversion clock select            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           #endif                                                                           C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                             if( config2 & 0b10000000 )   // Test the interrupt on/off                      C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                             {                                                                              C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                               PIR1bits.ADIF = 0;         // Clear the A/D interrupt flag                   C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                               PIE1bits.ADIE = 1;         // Enable the A/D interrupt                       C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                               INTCONbits.PEIE = 1;       // Enable peripheral interrupts                   C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                             }                                                                              C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                             ADCON0bits.ADON = 1;         // Enable the A/D                                 C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           }                                                                                C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           #endif                                                                           C:\mcc18\src\TRADIT~1\pmc\ADC\adcopen.c
                                           /* $Id:  */                                                                      C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                           #include <p18cxxx.h>                                                             C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                           #include <spi.h>                                                                 C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                           /********************************************************************            C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                           *   Function Name:  OpenSPI1                                        *            C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                           *   Return Value:   void                                            *            C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                           *   Parameters:     SSP1 peripheral setup bytes                     *            C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                           *   Description:    This function sets up the SSP1 module on a      *            C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                           *                   PIC18Cxxx device for use with a Microchip SPI   *            C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                           *                   EEPROM device or SPI bus device.                *            C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                           ********************************************************************/            C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
00707e   cfd9     MOVFF     0xfd9,0xfe6    void OpenSPI1( unsigned char sync_mode, unsigned char bus_mode, unsigned char smp_phase) C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
007080   ffe6                                                                                                               
007082   cfda     MOVFF     0xfda,0xfe6                                                                                     
007084   ffe6                                                                                                               
007086   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
007088   ffd9                                                                                                               
00708a   cfe2     MOVFF     0xfe2,0xfda                                                                                     
00708c   ffda                                                                                                               
                                           {                                                                                C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
00708e   0e3f     MOVLW     0x3f             SSP1STAT &= 0x3F;               // power on state                              C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
007090   16c7     ANDWF     0xc7,0x1,0x0                                                                                    
007092   6ac6     CLRF      0xc6,0x0         SSP1CON1 = 0x00;                // power on state                              C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
007094   0efd     MOVLW     0xfd             SSP1CON1 |= sync_mode;          // select serial mode                          C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
007096   50db     MOVF      0xdb,0x0,0x0                                                                                    
007098   12c6     IORWF     0xc6,0x1,0x0                                                                                    
00709a   0efb     MOVLW     0xfb             SSP1STAT |= smp_phase;          // select data input sample phase              C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
00709c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00709e   12c7     IORWF     0xc7,0x1,0x0                                                                                    
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070a0   0efc     MOVLW     0xfc             switch( bus_mode )                                                             C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070a2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0070a4   0a03     XORLW     0x3                                                                                             
0070a6   e009     BZ        0x70ba                                                                                          
0070a8   0a01     XORLW     0x1                                                                                             
0070aa   e004     BZ        0x70b4                                                                                          
0070ac   0a02     XORLW     0x2                                                                                             
0070ae   e106     BNZ       0x70bc                                                                                          
                                             {                                                                              C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                               case 0:                       // SPI1 bus mode 0,0                           C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070b0   8cc7     BSF       0xc7,0x6,0x0         SSP1STATbits.CKE = 1;       // data transmitted on rising edge             C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070b2   d004     BRA       0x70bc               break;                                                                     C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                               case 2:                       // SPI1 bus mode 1,0                           C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070b4   8cc7     BSF       0xc7,0x6,0x0         SSP1STATbits.CKE = 1;       // data transmitted on falling edge            C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070b6   88c6     BSF       0xc6,0x4,0x0         SSP1CON1bits.CKP = 1;       // clock idle state high                       C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070b8   d001     BRA       0x70bc               break;                                                                     C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                               case 3:                       // SPI1 bus mode 1,1                           C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070ba   88c6     BSF       0xc6,0x4,0x0         SSP1CON1bits.CKP = 1;       // clock idle state high                       C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                                 break;                                                                     C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                               default:                      // default SPI1 bus mode 0,1                   C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                                 break;                                                                     C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                             }                                                                              C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070bc   0efd     MOVLW     0xfd             switch( sync_mode )                                                            C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070be   50db     MOVF      0xdb,0x0,0x0                                                                                    
0070c0   0a05     XORLW     0x5                                                                                             
0070c2   e003     BZ        0x70ca                                                                                          
0070c4   0a01     XORLW     0x1                                                                                             
0070c6   e104     BNZ       0x70d0                                                                                          
                                             {                                                                              C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                               case 4:                       // slave mode w /SS enable                     C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070c8   8e97     BSF       0x97,0x7,0x0         TRISFbits.TRISF7 = 1;       // define /SS pin as input                     C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                               case 5:                       // slave mode w/o /SS enable                   C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070ca   8694     BSF       0x94,0x3,0x0         TRISCbits.TRISC3 = 1;       // define clock pin as input                   C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070cc   9ec7     BCF       0xc7,0x7,0x0         SSP1STATbits.SMP = 0;       // must be cleared in slave SPI mode           C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070ce   d001     BRA       0x70d2               break;                                                                     C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                               default:                      // master mode, define clock pin as output     C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070d0   9694     BCF       0x94,0x3,0x0         TRISCbits.TRISC3 = 0;       // define clock pin as output                  C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                                 break;                                                                     C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                             }                                                                              C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070d2   9a94     BCF       0x94,0x5,0x0     TRISC &= 0xDF;                  // define SDO as output (master or slave)      C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070d4   8894     BSF       0x94,0x4,0x0     TRISC |= 0x10;                  // define SDI as input (master or slave)       C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070d6   8ac6     BSF       0xc6,0x5,0x0     SSP1CON1 |= SSPENB;             // enable synchronous serial port              C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070d8   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\mcc18\src\TRADIT~1\pmc\SPI\spi1open.c
0070da   cfe5     MOVFF     0xfe5,0xfda                                                                                     
0070dc   ffda                                                                                                               
0070de   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0070e0   ffd9                                                                                                               
0070e2   0012     RETURN    0x0                                                                                             
                                           /* $Id: adcread.c,v 1.1 2003/12/09 22:52:09 GrosbaJ Exp $ */                     C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
                                           #include <p18cxxx.h>                                                             C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
                                           #include <adc.h>                                                                 C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
                                           /********************************************************************            C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
                                           *    Function Name:  ReadADC                                        *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
                                           *    Return Value:   int, A/D result                                *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
                                           *    Parameters:     void                                           *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
                                           *    Description:    This routine reads the ADRESL and ADRESH       *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
                                           *                    and returns these as a long.                   *            C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
                                           ********************************************************************/            C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
0071d8   cfd9     MOVFF     0xfd9,0xfe6    int ReadADC(void)                                                                C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
0071da   ffe6                                                                                                               
0071dc   cfda     MOVFF     0xfda,0xfe6                                                                                     
0071de   ffe6                                                                                                               
0071e0   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0071e2   ffd9                                                                                                               
0071e4   cfe2     MOVFF     0xfe2,0xfda                                                                                     
0071e6   ffda                                                                                                               
0071e8   52e6     MOVF      0xe6,0x1,0x0                                                                                    
0071ea   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
                                             union ADCResult i; // A union is used to read the                              C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
                                                                // A/D result due to issues with                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
                                                                // handling long variables                                  C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
0071ec   50c3     MOVF      0xc3,0x0,0x0     i.br[0] = ADRESL;  // Read ADRESL into the lower byte                          C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
0071ee   6edf     MOVWF     0xdf,0x0                                                                                        
0071f0   0e01     MOVLW     0x1              i.br[1] = ADRESH;  // Read ADRESH into the high byte                           C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
0071f2   cfc4     MOVFF     0xfc4,0xfdb                                                                                     
0071f4   ffdb                                                                                                               
                                                                                                                            C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
0071f6   cfde     MOVFF     0xfde,0x2b       return (i.lr);     // Return the long variable                                 C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
0071f8   f02b                                                                                                               
0071fa   cfdd     MOVFF     0xfdd,0x2c                                                                                      
0071fc   f02c                                                                                                               
0071fe   c02b     MOVFF     0x2b,0xff3                                                                                      
007200   fff3                                                                                                               
007202   c02c     MOVFF     0x2c,0xff4                                                                                      
007204   fff4                                                                                                               
007206   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\mcc18\src\TRADIT~1\pmc\ADC\adcread.c
007208   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00720a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00720c   cfe5     MOVFF     0xfe5,0xfda                                                                                     
00720e   ffda                                                                                                               
007210   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
007212   ffd9                                                                                                               
007214   0012     RETURN    0x0                                                                                             
                                           ;	RCS Header $Id: temparg.asm,v 1.2 2004/10/01 19:13:23 GrosbaJ Exp $            C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           ;       CMATH18 DATA DEFINITION FILE                                             C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           ;   VARIABLE ALLOCATION - Core math library routines                             C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           MATH_DATA      UDATA_ACS                                                         C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           TEMPB3		RES 1                                                                    C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           TEMPB2		RES 1                                                                    C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           TEMPB1		RES 1                                                                    C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           TEMP                                                                             C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           TEMPB0		RES 1       ; temporary storage                                          C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                                   GLOBAL  TEMPB3, TEMPB2, TEMPB1, TEMPB0, TEMP                             C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           	                                                                                C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                                   END                                                                      C:\MCC18\SRC\TRADIT~1\MATH\temparg.asm
                                           #include <stdio.h>                                                               C:\mcc18\src\TRADIT~1\stdclib\printf.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\printf.c
                                           /* printf() is a wrapper function which calls vfprintf() with stdout as the      C:\mcc18\src\TRADIT~1\stdclib\printf.c
                                              destination output stream. EOF is returned on error, else the number          C:\mcc18\src\TRADIT~1\stdclib\printf.c
                                              of characters output. */                                                      C:\mcc18\src\TRADIT~1\stdclib\printf.c
                                           int                                                                              C:\mcc18\src\TRADIT~1\stdclib\printf.c
006e28   cfd9     MOVFF     0xfd9,0xfe6    printf (const rom char *fmt, ...)                                                C:\mcc18\src\TRADIT~1\stdclib\printf.c
006e2a   ffe6                                                                                                               
006e2c   cfda     MOVFF     0xfda,0xfe6                                                                                     
006e2e   ffe6                                                                                                               
006e30   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
006e32   ffd9                                                                                                               
006e34   cfe2     MOVFF     0xfe2,0xfda                                                                                     
006e36   ffda                                                                                                               
006e38   52e6     MOVF      0xe6,0x1,0x0                                                                                    
006e3a   52e6     MOVF      0xe6,0x1,0x0                                                                                    
006e3c   52e6     MOVF      0xe6,0x1,0x0                                                                                    
006e3e   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\mcc18\src\TRADIT~1\stdclib\printf.c
                                             va_list ap;                                                                    C:\mcc18\src\TRADIT~1\stdclib\printf.c
                                             int n;                                                                         C:\mcc18\src\TRADIT~1\stdclib\printf.c
006e40   50d9     MOVF      0xd9,0x0,0x0     va_start (ap, fmt);                                                            C:\mcc18\src\TRADIT~1\stdclib\printf.c
006e42   0ffb     ADDLW     0xfb                                                                                            
006e44   6e2b     MOVWF     0x2b,0x0                                                                                        
006e46   0eff     MOVLW     0xff                                                                                            
006e48   20da     ADDWFC    0xda,0x0,0x0                                                                                    
006e4a   6e2c     MOVWF     0x2c,0x0                                                                                        
006e4c   c02b     MOVFF     0x2b,0xfde                                                                                      
006e4e   ffde                                                                                                               
006e50   6edd     MOVWF     0xdd,0x0                                                                                        
006e52   cfde     MOVFF     0xfde,0xfe6      n = vfprintf (stdout, fmt, ap);                                                C:\mcc18\src\TRADIT~1\stdclib\printf.c
006e54   ffe6                                                                                                               
006e56   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
006e58   ffe6                                                                                                               
006e5a   0efb     MOVLW     0xfb                                                                                            
006e5c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
006e5e   ffe6                                                                                                               
006e60   0efc     MOVLW     0xfc                                                                                            
006e62   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
006e64   ffe6                                                                                                               
006e66   0efd     MOVLW     0xfd                                                                                            
006e68   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
006e6a   ffe6                                                                                                               
006e6c   c2fe     MOVFF     0x2fe,0xfe6                                                                                     
006e6e   ffe6                                                                                                               
006e70   c2ff     MOVFF     0x2ff,0xfe6                                                                                     
006e72   ffe6                                                                                                               
006e74   ece4     CALL      0x1dc8,0x0                                                                                      
006e76   f00e                                                                                                               
006e78   6ef5     MOVWF     0xf5,0x0                                                                                        
006e7a   0e07     MOVLW     0x7                                                                                             
006e7c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006e7e   e202     BC        0x6e84                                                                                          
006e80   6ae1     CLRF      0xe1,0x0                                                                                        
006e82   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006e84   6ee1     MOVWF     0xe1,0x0                                                                                        
006e86   50f5     MOVF      0xf5,0x0,0x0                                                                                    
006e88   0e02     MOVLW     0x2                                                                                             
006e8a   cff3     MOVFF     0xff3,0xfdb                                                                                     
006e8c   ffdb                                                                                                               
006e8e   0e03     MOVLW     0x3                                                                                             
006e90   cff4     MOVFF     0xff4,0xfdb                                                                                     
006e92   ffdb                                                                                                               
                                             va_end (ap);                                                                   C:\mcc18\src\TRADIT~1\stdclib\printf.c
006e94   0e02     MOVLW     0x2              return n;                                                                      C:\mcc18\src\TRADIT~1\stdclib\printf.c
006e96   cfdb     MOVFF     0xfdb,0x2b                                                                                      
006e98   f02b                                                                                                               
006e9a   0e03     MOVLW     0x3                                                                                             
006e9c   cfdb     MOVFF     0xfdb,0x2c                                                                                      
006e9e   f02c                                                                                                               
006ea0   c02b     MOVFF     0x2b,0xff3                                                                                      
006ea2   fff3                                                                                                               
006ea4   c02c     MOVFF     0x2c,0xff4                                                                                      
006ea6   fff4                                                                                                               
006ea8   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\mcc18\src\TRADIT~1\stdclib\printf.c
006eaa   ffe1                                                                                                               
006eac   cfda     MOVFF     0xfda,0xfe2                                                                                     
006eae   ffe2                                                                                                               
006eb0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006eb2   cfe5     MOVFF     0xfe5,0xfda                                                                                     
006eb4   ffda                                                                                                               
006eb6   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
006eb8   ffd9                                                                                                               
006eba   0012     RETURN    0x0                                                                                             
                                           #include <stdio.h>                                                               C:\mcc18\src\TRADIT~1\stdclib\stdout.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\stdout.c
                                           /* by default stdout issues to the USART */                                      C:\mcc18\src\TRADIT~1\stdclib\stdout.c
                                           FILE *stdout = _H_USART;                                                         C:\mcc18\src\TRADIT~1\stdclib\stdout.c
                                           #include <stdio.h>                                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                           #include <ctype.h>                                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                           #include <string.h>                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                           #define _FLAG_MINUS 0x1                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                           #define _FLAG_PLUS  0x2                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                           #define _FLAG_SPACE 0x4                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                           #define _FLAG_OCTO  0x8                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                           #define _FLAG_ZERO  0x10                                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                           #define _FLAG_SIGNED 0x80                                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                           static const rom char s_digits[] = "0123456789abcdef";                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                           static unsigned char                                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001d9c   ec0a     CALL      0x2814,0x0     s_put_n_chars (FILE * handle, unsigned char n, char c)                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001d9e   f014                                                                                                               
002814   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
002816   ffe6                                                                                                               
002818   cfda     MOVFF     0xfda,0xfe6                                                                                     
00281a   ffe6                                                                                                               
00281c   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00281e   ffd9                                                                                                               
002820   cfe2     MOVFF     0xfe2,0xfda                                                                                     
002822   ffda                                                                                                               
002824   0012     RETURN    0x0                                                                                             
                                           {                                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001da0   0efb     MOVLW     0xfb             while (n--)                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001da2   cfdb     MOVFF     0xfdb,0xff3                                                                                     
001da4   fff3                                                                                                               
001da6   06db     DECF      0xdb,0x1,0x0                                                                                    
001da8   50f3     MOVF      0xf3,0x0,0x0                                                                                    
001daa   0900     IORLW     0x0                                                                                             
001dac   e00a     BZ        0x1dc2                                                                                          
001dae   ec58     CALL      0x28b0,0x0         if (putc (c, handle) == EOF)                                                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001db0   f014                                                                                                               
001db2   0efa     MOVLW     0xfa                                                                                            
001db4   ecc3     CALL      0x2986,0x0                                                                                      
001db6   f014                                                                                                               
001db8   e1f3     BNZ       0x1da0                                                                                          
001dba   1c2c     COMF      0x2c,0x0,0x0                                                                                    
001dbc   e1f1     BNZ       0x1da0                                                                                          
001dbe   0e01     MOVLW     0x1                  return 1;                                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001dc0   d001     BRA       0x1dc4                                                                                          
001dc2   0e00     MOVLW     0x0              return 0;                                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001dc4   ef39     GOTO      0x2872         }                                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001dc6   f014                                                                                                               
002872   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002874   cfe5     MOVFF     0xfe5,0xfda                                                                                     
002876   ffda                                                                                                               
002878   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00287a   ffd9                                                                                                               
00287c   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                           #define _FMT_UNSPECIFIED 0                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                           #define _FMT_LONG 1                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                           #define _FMT_SHLONG 2                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                           #define _FMT_BYTE   3                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                           int                                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001dc8   ec0a     CALL      0x2814,0x0     vfprintf (auto FILE *handle, auto const rom char *f, auto va_list ap)            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001dca   f014                                                                                                               
001dcc   0e3b     MOVLW     0x3b                                                                                            
001dce   24e1     ADDWF     0xe1,0x0,0x0                                                                                    
001dd0   e302     BNC       0x1dd6                                                                                          
001dd2   68e1     SETF      0xe1,0x0                                                                                        
001dd4   52e6     MOVF      0xe6,0x1,0x0                                                                                    
001dd6   6ee1     MOVWF     0xe1,0x0                                                                                        
                                           {                                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                             unsigned char c;                                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001dd8   0e01     MOVLW     0x1              int count = 0;                                                                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001dda   6adb     CLRF      0xdb,0x0                                                                                        
001ddc   0e02     MOVLW     0x2                                                                                             
001dde   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001de0   0ef9     MOVLW     0xf9             for (c = *f; c; c = *++f)                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001de2   cfdb     MOVFF     0xfdb,0xff6                                                                                     
001de4   fff6                                                                                                               
001de6   0efa     MOVLW     0xfa                                                                                            
001de8   cfdb     MOVFF     0xfdb,0xff7                                                                                     
001dea   fff7                                                                                                               
001dec   0efb     MOVLW     0xfb                                                                                            
001dee   cfdb     MOVFF     0xfdb,0xff8                                                                                     
001df0   fff8                                                                                                               
001df2   0008     TBLRD                                                                                                     
001df4   50f5     MOVF      0xf5,0x0,0x0                                                                                    
001df6   6edf     MOVWF     0xdf,0x0                                                                                        
001df8   50df     MOVF      0xdf,0x0,0x0                                                                                    
001dfa   e102     BNZ       0x1e00                                                                                          
001dfc   ef5f     GOTO      0x26be                                                                                          
001dfe   f013                                                                                                               
0026b8   d977     RCALL     0x29a8                                                                                          
0026ba   eff9     GOTO      0x1df2                                                                                          
0026bc   f00e                                                                                                               
0029a8   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0029aa   0ff9     ADDLW     0xf9                                                                                            
0029ac   6ee9     MOVWF     0xe9,0x0                                                                                        
0029ae   0eff     MOVLW     0xff                                                                                            
0029b0   ef6d     GOTO      0x28da                                                                                          
0029b2   f014                                                                                                               
                                               {                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e00   0e25     MOVLW     0x25                 if (c == '%')                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e02   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001e04   e002     BZ        0x1e0a                                                                                          
001e06   ef52     GOTO      0x26a4                                                                                          
001e08   f013                                                                                                               
                                                   {                                                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e0a   0e03     MOVLW     0x3                      unsigned char flags = 0;                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e0c   6adb     CLRF      0xdb,0x0                                                                                        
001e0e   0e04     MOVLW     0x4                      unsigned char width = 0;                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e10   6adb     CLRF      0xdb,0x0                                                                                        
001e12   0e05     MOVLW     0x5                      unsigned char precision = 0;                                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e14   6adb     CLRF      0xdb,0x0                                                                                        
001e16   0e06     MOVLW     0x6                      unsigned char have_precision = 0;                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e18   6adb     CLRF      0xdb,0x0                                                                                        
001e1a   0e07     MOVLW     0x7                      unsigned char size = 0;                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e1c   6adb     CLRF      0xdb,0x0                                                                                        
                                                     unsigned char space_cnt;                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                     unsigned char cval;                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                     unsigned long larg;                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                     far rom char *romstring;                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                     char *ramstring;                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                     int n;                                                                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                     /* get the first character of the conversion specifier */              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e1e   ec72     CALL      0x26e4,0x0               c = *++f;                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e20   f013                                                                                                               
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                     /**  The conversion specification has, after the '%' character:        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         7.9.6.1                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                        * Zero or more flags (in any order) that modify the meaning of the  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          conversion specification.                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                        * An optional minimum field width. If the converted value has       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          fewer characters than the field width, it will be padded with     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          spaces (by default) on the left (or right, if the left            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          adjustment flag, described later, has been given) to the field    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          width. The field width takes the form of an asterisk *            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          (described later) or a decimal integer.                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                        * An optional precision that gives the minimum number of digits     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          to appear for the d, i, o, u, x, and X conversions, the           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          maximum number of digits to appear after the decimal point        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          character for e, E, and f conversions, the maximum number         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          of significant digits for the g and G conversions, or the         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          maximum number of characters to be written from a string in       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          s conversion. The precision takes the form of a period (.)        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          followed by an asterisk * (described later) or by an optional     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          decimal integer; if only the period is specified, the precision   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          is taken as zero. If a precision appears with any other           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          conversion specifier, the behaviour is undefined.                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                        * An optional h specifying that a following d, i, o, u, x, or X     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          conversion specifier applies to a short int or unsigned short     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          int argument (the argument will have been promoted according      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          to the integer promotions, and its value shall be converted       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          to short int or unsigned short int before printing); an           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          optional h specifying that a following n conversion specifier     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          applies to a pointer to a short int argument; an optional l       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          (ell) specifying that a following d, i, o, u, x, or X             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          conversion specifier applies to a long int or unsigned long int   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          argument; or an optional L specifying that a following e, E,      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          f, g, or G conversion specifier applies to a long double          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          argument. If an h, l, or L appears with any other conversion      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          specifier, the behaviour is undefined.                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                        * A character that specifies the type of conversion to be applied.  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       */                                                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                     /** check for a flag.                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                        7.9.6.1                                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                        The flag characters and their meanings are:                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                        - The result of the conversion will be left-justified within        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          the field. (It will be right justified if this flag is not        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          specified.)                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                        + The result of a signed conversion will always begin with a        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          plus or a minus sign. (It will begin with a sign only when        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          a negative value is converted if this flag is not specified.)     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                        space  If the first character of a signed conversion is not a       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          sign, or if a signed conversion results in no characters, a       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          space will be prefixed to the result. If the space and + flags    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          both appear, the space flag will be ignored.                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                        # The result is to be converted to an "alternate form." For o       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          conversion, it increases the precision to force the first digit   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          of the result to be a zero. For x (or X) conversion, a nonzero    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          result will have 0x (or 0X) prefixed to it. For e, E, f, g,       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          and G conversions, the result will always contain a decimal-      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          point character, even if no digits follow it. (Normally, a        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          decimal point character appears in the result of these            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          conversions only if a digit follows it.) For g and G              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          conversions, trailing zeros will not be removed from the          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          result. For other conversions the behaviour is undefined.         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                        0 For d, i, o, u, x, X, e, E, f, g, and G conversions, leading      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          zeros (following any indication of sign or base) are used to      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          pad to the field width; no space padding is performed. If         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          the 0 and - flags both appear, the 0 flag will be ignored.        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                          For other conversions, the behaviour is undefined.                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       */                                                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e22   0e2d     MOVLW     0x2d                     while (c == '-' || c == '+' || c == ' ' || c == '#'                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e24   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001e26   e00c     BZ        0x1e40                                                                                          
001e28   0e2b     MOVLW     0x2b                                                                                            
001e2a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001e2c   e009     BZ        0x1e40                                                                                          
001e2e   0e20     MOVLW     0x20                                                                                            
001e30   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001e32   e006     BZ        0x1e40                                                                                          
001e34   0e23     MOVLW     0x23                                                                                            
001e72   d7d5     BRA       0x1e1e                                                                                          
001e36   5cdf     SUBWF     0xdf,0x0,0x0                    || c == '0')                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e38   e003     BZ        0x1e40                                                                                          
001e3a   0e30     MOVLW     0x30                                                                                            
001e3c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001e3e   e11a     BNZ       0x1e74                                                                                          
                                                       {                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e40   50df     MOVF      0xdf,0x0,0x0                 switch (c)                                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e42   0a30     XORLW     0x30                                                                                            
001e44   e014     BZ        0x1e6e                                                                                          
001e46   0a13     XORLW     0x13                                                                                            
001e48   e00f     BZ        0x1e68                                                                                          
001e4a   0a03     XORLW     0x3                                                                                             
001e4c   e00a     BZ        0x1e62                                                                                          
001e4e   0a0b     XORLW     0xb                                                                                             
001e50   e005     BZ        0x1e5c                                                                                          
001e52   0a06     XORLW     0x6                                                                                             
001e54   e1e4     BNZ       0x1e1e                                                                                          
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           case '-':                                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e56   0e03     MOVLW     0x3                              flags |= _FLAG_MINUS;                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e58   80db     BSF       0xdb,0x0,0x0                                                                                    
001e5a   d7e1     BRA       0x1e1e                           break;                                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           case '+':                                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e5c   0e03     MOVLW     0x3                              flags |= _FLAG_PLUS;                                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e5e   82db     BSF       0xdb,0x1,0x0                                                                                    
001e60   d7de     BRA       0x1e1e                           break;                                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           case ' ':                                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e62   0e03     MOVLW     0x3                              flags |= _FLAG_SPACE;                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e64   84db     BSF       0xdb,0x2,0x0                                                                                    
001e66   d7db     BRA       0x1e1e                           break;                                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           case '#':                                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e68   0e03     MOVLW     0x3                              flags |= _FLAG_OCTO;                                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e6a   86db     BSF       0xdb,0x3,0x0                                                                                    
001e6c   d7d8     BRA       0x1e1e                           break;                                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           case '0':                                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e6e   0e03     MOVLW     0x3                              flags |= _FLAG_ZERO;                                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e70   88db     BSF       0xdb,0x4,0x0                                                                                    
                                                             break;                                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         c = *++f;                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       }                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                     /* the optional width field is next */                                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e74   0e2a     MOVLW     0x2a                     if (c == '*')                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e76   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001e78   e11b     BNZ       0x1eb0                                                                                          
                                                       {                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e7a   ec6e     CALL      0x26dc,0x0                   n = va_arg (ap, int);                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e7c   f013                                                                                                               
001e7e   ecbc     CALL      0x2778,0x0                                                                                      
001e80   f013                                                                                                               
002778   0e13     MOVLW     0x13                                                                                            
00277a   cfee     MOVFF     0xfee,0xfdb                                                                                     
00277c   ffdb                                                                                                               
00277e   0e14     MOVLW     0x14                                                                                            
002780   cfed     MOVFF     0xfed,0xfdb                                                                                     
002782   ffdb                                                                                                               
001e82   e010     BZ        0x1ea4                       if (n < 0)                                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002784   0e13     MOVLW     0x13                                                                                            
002786   cfdb     MOVFF     0xfdb,0x2b                                                                                      
002788   f02b                                                                                                               
00278a   0e14     MOVLW     0x14                                                                                            
00278c   cfdb     MOVFF     0xfdb,0x2c                                                                                      
00278e   f02c                                                                                                               
002790   0100     MOVLB     0x0                                                                                             
002792   0e80     MOVLW     0x80                                                                                            
002794   142c     ANDWF     0x2c,0x0,0x0                                                                                    
002796   0012     RETURN    0x0                                                                                             
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e84   0e03     MOVLW     0x3                              flags |= _FLAG_MINUS;                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e86   80db     BSF       0xdb,0x0,0x0                                                                                    
001e88   681d     SETF      0x1d,0x0                         width = -n;                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001e8a   681e     SETF      0x1e,0x0                                                                                        
001e8c   0e13     MOVLW     0x13                                                                                            
001e8e   cfdb     MOVFF     0xfdb,0x22                                                                                      
001e90   f022                                                                                                               
001e92   0e14     MOVLW     0x14                                                                                            
001e94   cfdb     MOVFF     0xfdb,0x23                                                                                      
001e96   f023                                                                                                               
001e98   ec98     CALL      0x6d30,0x0                                                                                      
001e9a   f036                                                                                                               
001e9c   0e04     MOVLW     0x4                                                                                             
001e9e   c01b     MOVFF     0x1b,0xfdb                                                                                      
001ea0   ffdb                                                                                                               
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ea2   d003     BRA       0x1eaa                       else                                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ea4   0e13     MOVLW     0x13                           width = n;                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ea6   eca5     CALL      0x274a,0x0                                                                                      
001ea8   f013                                                                                                               
001eaa   ec72     CALL      0x26e4,0x0                   c = *++f;                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001eac   f013                                                                                                               
                                                       }                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001eae   d00b     BRA       0x1ec6                   else                                                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       {                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001eb0   0e09     MOVLW     0x9                          cval = 0;                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001eb2   6adb     CLRF      0xdb,0x0                                                                                        
001eb4   ec13     CALL      0x2826,0x0                   while ((unsigned char) isdigit (c))                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001eb6   f014                                                                                                               
001eb8   e003     BZ        0x1ec0                                                                                          
001ebe   d7fa     BRA       0x1eb4                                                                                          
002826   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
002828   ffe6                                                                                                               
00282a   6ae6     CLRF      0xe6,0x0                                                                                        
00282c   ec34     CALL      0x7268,0x0                                                                                      
00282e   f039                                                                                                               
002830   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002832   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002834   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002836   0012     RETURN    0x0                                                                                             
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001eba   ec87     CALL      0x290e,0x0                       cval = cval * 10 + c - '0';                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ebc   f014                                                                                                               
00290e   0e09     MOVLW     0x9                                                                                             
002910   50db     MOVF      0xdb,0x0,0x0                                                                                    
002912   0d0a     MULLW     0xa                                                                                             
002914   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002916   24df     ADDWF     0xdf,0x0,0x0                                                                                    
002918   0fd0     ADDLW     0xd0                                                                                            
00291a   6ee7     MOVWF     0xe7,0x0                                                                                        
00291c   0e09     MOVLW     0x9                                                                                             
00291e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002920   ffdb                                                                                                               
002922   ef72     GOTO      0x26e4                           c = *++f;                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002924   f013                                                                                                               
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ec0   0e09     MOVLW     0x9                          width = cval;                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ec2   eca5     CALL      0x274a,0x0                                                                                      
001ec4   f013                                                                                                               
                                                       }                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                     /* if '-' is specified, '0' is ignored */                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ec6   0e03     MOVLW     0x3                      if (flags & _FLAG_MINUS)                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ec8   b0db     BTFSC     0xdb,0x0,0x0                                                                                    
001eca   98db     BCF       0xdb,0x4,0x0               flags &= ~_FLAG_ZERO;                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                     /* the optional precision field is next */                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ecc   0e2e     MOVLW     0x2e                     if (c == '.')                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ece   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001ed0   e11b     BNZ       0x1f08                                                                                          
                                                       {                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ed2   ec72     CALL      0x26e4,0x0                   c = *++f;                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ed4   f013                                                                                                               
001ed6   0e2a     MOVLW     0x2a                         if (c == '*')                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ed8   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001eda   e10b     BNZ       0x1ef2                                                                                          
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001edc   ec6e     CALL      0x26dc,0x0                       n = va_arg (ap, int);                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ede   f013                                                                                                               
001ee0   ecbc     CALL      0x2778,0x0                                                                                      
001ee2   f013                                                                                                               
0026dc   d929     RCALL     0x2930                                                                                          
0026de   0e02     MOVLW     0x2                                                                                             
0026e0   ef5f     GOTO      0x28be                                                                                          
0026e2   f014                                                                                                               
0028be   5e2b     SUBWF     0x2b,0x1,0x0                                                                                    
0028c0   0e00     MOVLW     0x0                                                                                             
0028c2   5a2c     SUBWFB    0x2c,0x1,0x0                                                                                    
0028c4   0ef7     MOVLW     0xf7                                                                                            
0028c6   c02b     MOVFF     0x2b,0xfdb                                                                                      
0028c8   ffdb                                                                                                               
0028ca   0ef8     MOVLW     0xf8                                                                                            
0028cc   c02c     MOVFF     0x2c,0xfdb                                                                                      
0028ce   ffdb                                                                                                               
0028d0   c02b     MOVFF     0x2b,0xfe9                                                                                      
0028d2   ffe9                                                                                                               
0028d4   c02c     MOVFF     0x2c,0xfea                                                                                      
0028d6   ffea                                                                                                               
0028d8   0012     RETURN    0x0                                                                                             
002930   0ef7     MOVLW     0xf7                                                                                            
002932   cfdb     MOVFF     0xfdb,0x2b                                                                                      
002934   f02b                                                                                                               
002936   0ef8     MOVLW     0xf8                                                                                            
002938   cfdb     MOVFF     0xfdb,0x2c                                                                                      
00293a   f02c                                                                                                               
00293c   0012     RETURN    0x0                                                                                             
001ee4   e103     BNZ       0x1eec                           if (n >= 0)                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                               {                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ee6   0e13     MOVLW     0x13                                 precision = n;                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ee8   ecf7     CALL      0x27ee,0x0                                                                                      
001eea   f013                                                                                                               
0027ee   50db     MOVF      0xdb,0x0,0x0                                                                                    
0027f0   d8ce     RCALL     0x298e                                                                                          
00298e   6ee7     MOVWF     0xe7,0x0                                                                                        
002990   0e05     MOVLW     0x5                                                                                             
002992   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002994   ffdb                                                                                                               
002996   0012     RETURN    0x0                                                                                             
0027f2   0e01     MOVLW     0x1                                  have_precision = 1;                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0027f4   6ef3     MOVWF     0xf3,0x0                                                                                        
0027f6   0e06     MOVLW     0x6                                                                                             
0027f8   cff3     MOVFF     0xff3,0xfdb                                                                                     
0027fa   ffdb                                                                                                               
0027fc   0012     RETURN    0x0                                                                                             
                                                               }                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001eec   ec72     CALL      0x26e4,0x0                       c = *++f;                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001eee   f013                                                                                                               
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ef0   d00b     BRA       0x1f08                       else                                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ef2   0e09     MOVLW     0x9                              cval = 0;                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ef4   6adb     CLRF      0xdb,0x0                                                                                        
001ef6   ec13     CALL      0x2826,0x0                       while ((unsigned char) isdigit (c))                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ef8   f014                                                                                                               
001efa   e003     BZ        0x1f02                                                                                          
001f00   d7fa     BRA       0x1ef6                                                                                          
                                                               {                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001efc   ec87     CALL      0x290e,0x0                           cval = cval * 10 + c - '0';                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001efe   f014                                                                                                               
                                                                 c = *++f;                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                               }                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f02   0e09     MOVLW     0x9                              precision = cval;                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f04   ecf7     CALL      0x27ee,0x0                                                                                      
001f06   f013                                                                                                               
                                                             have_precision = 1;                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       }                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                     /* the optional 'h' specifier. since int and short int are             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                        the same size for MPLAB C18, this is a NOP for us. */               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f08   0e68     MOVLW     0x68                     if (c == 'h')                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f0a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001f0c   e107     BNZ       0x1f1c                                                                                          
                                                       {                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f0e   ec72     CALL      0x26e4,0x0                   c = *++f;                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f10   f013                                                                                                               
                                                         /* if 'c' is another 'h' character, this is an 'hh'                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            specifier and the size is 8 bits */                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f12   0e68     MOVLW     0x68                         if (c == 'h')                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f14   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001f16   e11d     BNZ       0x1f52                                                                                          
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f18   0e03     MOVLW     0x3                              size = _FMT_BYTE;                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                             c = *++f;                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       }                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                     /* 'z' and 't' are both 16-bit and so are NOPs */                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f1a   d018     BRA       0x1f4c                   else if (c == 't' || c == 'z')                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f1c   0e74     MOVLW     0x74                                                                                            
001f1e   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001f20   e017     BZ        0x1f50                                                                                          
001f22   0e7a     MOVLW     0x7a                                                                                            
001f24   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001f26   e014     BZ        0x1f50                                                                                          
                                                       c = *++f;                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                     /* the 'H' specifier tells us to deal with 24-bit integers.            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                        the 'T' and 'Z' specifiers are also 24 bit */                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f28   0e48     MOVLW     0x48                     else if (c == 'H' || c == 'T' || c == 'Z')                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f2a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001f2c   e006     BZ        0x1f3a                                                                                          
001f2e   0e54     MOVLW     0x54                                                                                            
001f30   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001f32   e003     BZ        0x1f3a                                                                                          
001f34   0e5a     MOVLW     0x5a                                                                                            
001f36   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001f38   e102     BNZ       0x1f3e                                                                                          
                                                       {                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f3a   0e02     MOVLW     0x2                          size = _FMT_SHLONG;                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         c = *++f;                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       }                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                     /* the 'l' specifier tells us to deal with 32-bit integers             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                        'j' specifies intmax_t (long in our case). */                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f3c   d007     BRA       0x1f4c                   else if (c == 'l' || c == 'j')                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f3e   0e6c     MOVLW     0x6c                                                                                            
001f40   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001f42   e003     BZ        0x1f4a                                                                                          
001f44   0e6a     MOVLW     0x6a                                                                                            
001f46   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001f48   e104     BNZ       0x1f52                                                                                          
                                                       {                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f4a   0e01     MOVLW     0x1                          size = _FMT_LONG;                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f4c   ec4a     CALL      0x2894,0x0                                                                                      
001f4e   f014                                                                                                               
001f50   dbc9     RCALL     0x26e4                       c = *++f;                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0026e4   d961     RCALL     0x29a8                                                                                          
0026e6   0008     TBLRD                                                                                                     
0026e8   50f5     MOVF      0xf5,0x0,0x0                                                                                    
0026ea   6edf     MOVWF     0xdf,0x0                                                                                        
0026ec   0012     RETURN    0x0                                                                                             
0028da   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0028dc   6eea     MOVWF     0xea,0x0                                                                                        
0028de   2aef     INCF      0xef,0x1,0x0                                                                                    
0028e0   cfee     MOVFF     0xfee,0xff6                                                                                     
0028e2   fff6                                                                                                               
0028e4   0e00     MOVLW     0x0                                                                                             
0028e6   22ef     ADDWFC    0xef,0x1,0x0                                                                                    
0028e8   cfee     MOVFF     0xfee,0xff7                                                                                     
0028ea   fff7                                                                                                               
0028ec   22ef     ADDWFC    0xef,0x1,0x0                                                                                    
0028ee   cfee     MOVFF     0xfee,0xff8                                                                                     
0028f0   fff8                                                                                                               
0028f2   0012     RETURN    0x0                                                                                             
                                                       }                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f52   50df     MOVF      0xdf,0x0,0x0             switch (c)                                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001f54   0a6e     XORLW     0x6e                                                                                            
001f56   e101     BNZ       0x1f5a                                                                                          
001f58   d381     BRA       0x265c                                                                                          
001f5a   0a1e     XORLW     0x1e                                                                                            
001f5c   e101     BNZ       0x1f60                                                                                          
001f5e   d192     BRA       0x2284                                                                                          
001f60   0a20     XORLW     0x20                                                                                            
001f62   e101     BNZ       0x1f66                                                                                          
001f64   d18f     BRA       0x2284                                                                                          
001f66   0a3f     XORLW     0x3f                                                                                            
001f68   e101     BNZ       0x1f6c                                                                                          
001f6a   d149     BRA       0x21fe                                                                                          
001f6c   0a1a     XORLW     0x1a                                                                                            
001f6e   e101     BNZ       0x1f72                                                                                          
001f70   d146     BRA       0x21fe                                                                                          
001f72   0a0d     XORLW     0xd                                                                                             
001f74   e101     BNZ       0x1f78                                                                                          
001f76   d143     BRA       0x21fe                                                                                          
001f78   0a20     XORLW     0x20                                                                                            
001f7a   e101     BNZ       0x1f7e                                                                                          
001f7c   d140     BRA       0x21fe                                                                                          
001f7e   0a3a     XORLW     0x3a                                                                                            
001f80   e101     BNZ       0x1f84                                                                                          
001f82   d13d     BRA       0x21fe                                                                                          
001f84   0a20     XORLW     0x20                                                                                            
001f86   e101     BNZ       0x1f8a                                                                                          
001f88   d13a     BRA       0x21fe                                                                                          
001f8a   0a26     XORLW     0x26                                                                                            
001f8c   e101     BNZ       0x1f90                                                                                          
001f8e   d135     BRA       0x21fa                                                                                          
001f90   0a0d     XORLW     0xd                                                                                             
001f92   e101     BNZ       0x1f96                                                                                          
001f94   d132     BRA       0x21fa                                                                                          
001f96   0a1a     XORLW     0x1a                                                                                            
001f98   e101     BNZ       0x1f9c                                                                                          
001f9a   d0d9     BRA       0x214e                                                                                          
001f9c   0a20     XORLW     0x20                                                                                            
001f9e   e04a     BZ        0x2034                                                                                          
001fa0   0a30     XORLW     0x30                                                                                            
001fa2   e01f     BZ        0x1fe2                                                                                          
001fa4   0a46     XORLW     0x46                                                                                            
001fa6   e00e     BZ        0x1fc4                                                                                          
001fa8   0a25     XORLW     0x25                                                                                            
001faa   e001     BZ        0x1fae                                                                                          
001fac   d385     BRA       0x26b8                                                                                          
                                                       {                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case '\0':                                                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         /* this is undefined behaviour. we have a trailing '%' character   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            in the string, perhaps with some flags, width, precision        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            stuff as well, but no format specifier. We'll, arbitrarily,     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            back up a character so that the loop will terminate             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            properly when it loops back and we'll output a '%'              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            character. */                                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001fae   50d9     MOVF      0xd9,0x0,0x0                 --f;                                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001fb0   0ff9     ADDLW     0xf9                                                                                            
001fb2   6ee9     MOVWF     0xe9,0x0                                                                                        
001fb4   0eff     MOVLW     0xff                                                                                            
001fb6   20da     ADDWFC    0xda,0x0,0x0                                                                                    
001fb8   6eea     MOVWF     0xea,0x0                                                                                        
001fba   0e01     MOVLW     0x1                                                                                             
001fbc   5eee     SUBWF     0xee,0x1,0x0                                                                                    
001fbe   0e00     MOVLW     0x0                                                                                             
001fc0   5aee     SUBWFB    0xee,0x1,0x0                                                                                    
001fc2   5aee     SUBWFB    0xee,0x1,0x0                                                                                    
                                                         /* fallthrough */                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case '%':                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001fc4   ec58     CALL      0x28b0,0x0                   if (putc ('%', handle) == EOF)                                     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001fc6   f014                                                                                                               
001fc8   0e25     MOVLW     0x25                                                                                            
001fca   6ee6     MOVWF     0xe6,0x0                                                                                        
001fcc   db95     RCALL     0x26f8                                                                                          
001fce   e103     BNZ       0x1fd6                                                                                          
001fd0   1c2c     COMF      0x2c,0x0,0x0                                                                                    
001fd2   e101     BNZ       0x1fd6                                                                                          
001fd4   d36b     BRA       0x26ac                                                                                          
                                                           return EOF;                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001fd6   ec54     CALL      0x28a8,0x0                   ++count;                                                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001fd8   f014                                                                                                               
001fda   e201     BC        0x1fde                                                                                          
001fdc   d36d     BRA       0x26b8                                                                                          
001fde   2adb     INCF      0xdb,0x1,0x0                                                                                    
001fe0   d36b     BRA       0x26b8                       break;                                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case 'c':                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001fe2   0e08     MOVLW     0x8                          space_cnt = 0;                                                     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001fe4   6adb     CLRF      0xdb,0x0                                                                                        
001fe6   0e04     MOVLW     0x4                          if (width > 1)                                                     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001fe8   50db     MOVF      0xdb,0x0,0x0                                                                                    
001fea   0801     SUBLW     0x1                                                                                             
001fec   e206     BC        0x1ffa                                                                                          
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001fee   0e04     MOVLW     0x4                              space_cnt = width - 1;                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ff0   04db     DECF      0xdb,0x0,0x0                                                                                    
001ff2   ec1c     CALL      0x2838,0x0                                                                                      
001ff4   f014                                                                                                               
001ff6   50db     MOVF      0xdb,0x0,0x0                     count += space_cnt;                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ff8   db8b     RCALL     0x2710                                                                                          
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ffa   0e08     MOVLW     0x8                          if (space_cnt && !(flags & _FLAG_MINUS))                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
001ffc   50db     MOVF      0xdb,0x0,0x0                                                                                    
001ffe   e009     BZ        0x2012                                                                                          
002000   0e03     MOVLW     0x3                                                                                             
002002   50db     MOVF      0xdb,0x0,0x0                                                                                    
002004   0b01     ANDLW     0x1                                                                                             
002006   e105     BNZ       0x2012                                                                                          
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002008   db72     RCALL     0x26ee                           if (s_put_n_chars (handle, space_cnt, ' '))                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00200a   e001     BZ        0x200e                                                                                          
00200c   d34f     BRA       0x26ac                                                                                          
                                                               return EOF;                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00200e   0e08     MOVLW     0x8                              space_cnt = 0;                                                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002010   6adb     CLRF      0xdb,0x0                                                                                        
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002012   db64     RCALL     0x26dc                       c = va_arg (ap, int);                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002014   cfef     MOVFF     0xfef,0xfdf                                                                                     
002016   ffdf                                                                                                               
002018   eccc     CALL      0x2998,0x0                   if (putc (c, handle) == EOF)                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00201a   f014                                                                                                               
00201c   e103     BNZ       0x2024                                                                                          
00201e   1c2c     COMF      0x2c,0x0,0x0                                                                                    
002020   e101     BNZ       0x2024                                                                                          
002022   d344     BRA       0x26ac                                                                                          
                                                           return EOF;                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002024   ec54     CALL      0x28a8,0x0                   ++count;                                                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002026   f014                                                                                                               
002028   e301     BNC       0x202c                                                                                          
00202a   2adb     INCF      0xdb,0x1,0x0                                                                                    
00202c   db60     RCALL     0x26ee                       if (s_put_n_chars (handle, space_cnt, ' '))                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00202e   e101     BNZ       0x2032                                                                                          
002030   d343     BRA       0x26b8                                                                                          
002032   d33c     BRA       0x26ac                         return EOF;                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         break;                                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case 'S':                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002034   0e07     MOVLW     0x7                          if (size == _FMT_SHLONG)                                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002036   50db     MOVF      0xdb,0x0,0x0                                                                                    
002038   0802     SUBLW     0x2                                                                                             
00203a   e10f     BNZ       0x205a                                                                                          
00203c   ec98     CALL      0x2930,0x0                     romstring = va_arg (ap, rom far char *);                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00203e   f014                                                                                                               
002040   0e03     MOVLW     0x3                                                                                             
002042   ec5f     CALL      0x28be,0x0                                                                                      
002044   f014                                                                                                               
002046   0e0e     MOVLW     0xe                                                                                             
002048   cfee     MOVFF     0xfee,0xfdb                                                                                     
00204a   ffdb                                                                                                               
00204c   0e0f     MOVLW     0xf                                                                                             
00204e   cfee     MOVFF     0xfee,0xfdb                                                                                     
002050   ffdb                                                                                                               
002052   0e10     MOVLW     0x10                                                                                            
002054   cfee     MOVFF     0xfee,0xfdb                                                                                     
002056   ffdb                                                                                                               
002058   d020     BRA       0x209a                       else                                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00205a   0ef7     MOVLW     0xf7                           romstring = (far rom char*)va_arg (ap, rom near char *);         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00205c   cfdb     MOVFF     0xfdb,0x2e                                                                                      
00205e   f02e                                                                                                               
002060   0ef8     MOVLW     0xf8                                                                                            
002062   cfdb     MOVFF     0xfdb,0x2f                                                                                      
002064   f02f                                                                                                               
002066   0e02     MOVLW     0x2                                                                                             
002068   5e2e     SUBWF     0x2e,0x1,0x0                                                                                    
00206a   0e00     MOVLW     0x0                                                                                             
00206c   5a2f     SUBWFB    0x2f,0x1,0x0                                                                                    
00206e   0ef7     MOVLW     0xf7                                                                                            
002070   c02e     MOVFF     0x2e,0xfdb                                                                                      
002072   ffdb                                                                                                               
002074   0ef8     MOVLW     0xf8                                                                                            
002076   c02f     MOVFF     0x2f,0xfdb                                                                                      
002078   ffdb                                                                                                               
00207a   c02e     MOVFF     0x2e,0xfe9                                                                                      
00207c   ffe9                                                                                                               
00207e   c02f     MOVFF     0x2f,0xfea                                                                                      
002080   ffea                                                                                                               
002082   ec4f     CALL      0x289e,0x0                                                                                      
002084   f014                                                                                                               
002086   6a2d     CLRF      0x2d,0x0                                                                                        
002088   0e0e     MOVLW     0xe                                                                                             
00208a   c02b     MOVFF     0x2b,0xfdb                                                                                      
00208c   ffdb                                                                                                               
00208e   0e0f     MOVLW     0xf                                                                                             
002090   c02c     MOVFF     0x2c,0xfdb                                                                                      
002092   ffdb                                                                                                               
002094   0e10     MOVLW     0x10                                                                                            
002096   c02d     MOVFF     0x2d,0xfdb                                                                                      
002098   ffdb                                                                                                               
00209a   0e0e     MOVLW     0xe                          n = strlenpgm (romstring);                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00209c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00209e   ffe6                                                                                                               
0020a0   0e0f     MOVLW     0xf                                                                                             
0020a2   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0020a4   ffe6                                                                                                               
0020a6   0e10     MOVLW     0x10                                                                                            
0020a8   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0020aa   ffe6                                                                                                               
0020ac   ec1a     CALL      0x7034,0x0                                                                                      
0020ae   f038                                                                                                               
0020b0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0020b2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0020b4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0020b6   0e13     MOVLW     0x13                                                                                            
0020b8   c01c     MOVFF     0x1c,0xfdb                                                                                      
0020ba   ffdb                                                                                                               
0020bc   0e14     MOVLW     0x14                                                                                            
0020be   c01d     MOVFF     0x1d,0xfdb                                                                                      
0020c0   ffdb                                                                                                               
                                                         /* Normalize the width based on the length of the actual           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            string and the precision. */                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0020c2   0e06     MOVLW     0x6                          if (have_precision && precision < (unsigned char) n)               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0020c4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0020c6   e005     BZ        0x20d2                                                                                          
0020c8   0e13     MOVLW     0x13                                                                                            
0020ca   ec93     CALL      0x2926,0x0                                                                                      
0020cc   f014                                                                                                               
0020ce   e201     BC        0x20d2                                                                                          
0020d0   db6a     RCALL     0x27a6                         n = precision;                                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0027a6   0e05     MOVLW     0x5                                                                                             
0027a8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0027aa   6ee6     MOVWF     0xe6,0x0                                                                                        
0027ac   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0027ae   0f13     ADDLW     0x13                                                                                            
0027b0   d901     RCALL     0x29b4                                                                                          
0027b2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0027b4   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0027b6   6eee     MOVWF     0xee,0x0                                                                                        
0027b8   6aed     CLRF      0xed,0x0                                                                                        
0027ba   0012     RETURN    0x0                                                                                             
0020d2   ecb7     CALL      0x296e,0x0                   if (width < (unsigned char) n)                                     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0020d4   f014                                                                                                               
0020d6   e202     BC        0x20dc                                                                                          
00296e   0e13     MOVLW     0x13                                                                                            
002970   50db     MOVF      0xdb,0x0,0x0                                                                                    
002972   6ef3     MOVWF     0xf3,0x0                                                                                        
002974   0e04     MOVLW     0x4                                                                                             
002976   efa0     GOTO      0x2740                                                                                          
002978   f013                                                                                                               
0020d8   0e13     MOVLW     0x13                           width = n;                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0020da   db37     RCALL     0x274a                                                                                          
0020dc   ec7a     CALL      0x28f4,0x0                   space_cnt = width - (unsigned char) n;                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0020de   f014                                                                                                               
0028f4   0e04     MOVLW     0x4                                                                                             
0028f6   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0028f8   ffe6                                                                                                               
0028fa   0e13     MOVLW     0x13                                                                                            
0028fc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0028fe   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002900   5ce7     SUBWF     0xe7,0x0,0x0                                                                                    
002902   df9a     RCALL     0x2838                                                                                          
002904   50db     MOVF      0xdb,0x0,0x0                 count += space_cnt;                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002906   df04     RCALL     0x2710                                                                                          
                                                         /* we've already calculated the space count that the width         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            will require. now we want the width field to have the           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            number of character to display from the string itself,          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            limited by the length of the actual string and the              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            specified precision. */                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0020e0   e006     BZ        0x20ee                       if (have_precision && precision < width)                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0020e2   0e04     MOVLW     0x4                                                                                             
0020e4   ec93     CALL      0x2926,0x0                                                                                      
0020e6   f014                                                                                                               
0020e8   e202     BC        0x20ee                                                                                          
002908   0e06     MOVLW     0x6                                                                                             
00290a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00290c   0012     RETURN    0x0                                                                                             
0020ea   0e05     MOVLW     0x5                            width = precision;                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0020ec   db2e     RCALL     0x274a                                                                                          
                                                         /* if right justified, we print the spaces before the              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            string */                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0020ee   0e03     MOVLW     0x3                          if (!(flags & _FLAG_MINUS))                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0020f0   b0db     BTFSC     0xdb,0x0,0x0                                                                                    
0020f2   d005     BRA       0x20fe                                                                                          
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0020f4   dafc     RCALL     0x26ee                           if (s_put_n_chars (handle, space_cnt, ' '))                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0020f6   e001     BZ        0x20fa                                                                                          
0020f8   d2d9     BRA       0x26ac                                                                                          
                                                               return EOF;                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0020fa   0e08     MOVLW     0x8                              space_cnt = 0;                                                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0020fc   6adb     CLRF      0xdb,0x0                                                                                        
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0020fe   0e09     MOVLW     0x9                          cval = 0;                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002100   6adb     CLRF      0xdb,0x0                                                                                        
002102   0e0e     MOVLW     0xe                          for (c = *romstring; c && cval < width; c = *++romstring)          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002104   cfdb     MOVFF     0xfdb,0xff6                                                                                     
002106   fff6                                                                                                               
002108   0e0f     MOVLW     0xf                                                                                             
00210a   cfdb     MOVFF     0xfdb,0xff7                                                                                     
00210c   fff7                                                                                                               
00210e   0e10     MOVLW     0x10                                                                                            
002110   cfdb     MOVFF     0xfdb,0xff8                                                                                     
002112   fff8                                                                                                               
002114   0008     TBLRD                                                                                                     
002116   50f5     MOVF      0xf5,0x0,0x0                                                                                    
002118   6edf     MOVWF     0xdf,0x0                                                                                        
00211a   50df     MOVF      0xdf,0x0,0x0                                                                                    
00211c   e014     BZ        0x2146                                                                                          
00211e   ecbd     CALL      0x297a,0x0                                                                                      
002120   f014                                                                                                               
002122   e211     BC        0x2146                                                                                          
00213a   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00213c   0f0e     ADDLW     0xe                                                                                             
00213e   6ee9     MOVWF     0xe9,0x0                                                                                        
002140   0e00     MOVLW     0x0                                                                                             
002142   dbcb     RCALL     0x28da                                                                                          
002144   d7e7     BRA       0x2114                                                                                          
00297a   0e04     MOVLW     0x4                                                                                             
00297c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00297e   6ef3     MOVWF     0xf3,0x0                                                                                        
002980   0e09     MOVLW     0x9                                                                                             
002982   efa0     GOTO      0x2740                                                                                          
002984   f013                                                                                                               
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002124   eccc     CALL      0x2998,0x0                       if (putc (c, handle) == EOF)                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002126   f014                                                                                                               
002128   e103     BNZ       0x2130                                                                                          
00212a   1c2c     COMF      0x2c,0x0,0x0                                                                                    
00212c   e101     BNZ       0x2130                                                                                          
00212e   d2be     BRA       0x26ac                                                                                          
                                                               return EOF;                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002130   dbbb     RCALL     0x28a8                           ++count;                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002132   e301     BNC       0x2136                                                                                          
002134   2adb     INCF      0xdb,0x1,0x0                                                                                    
002136   0e09     MOVLW     0x9                              ++cval;                                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002138   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         /* If there are spaces left, it's left justified.                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            Either way, calling the function unconditionally                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            is smaller code. */                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002146   dad3     RCALL     0x26ee                       if (s_put_n_chars (handle, space_cnt, ' '))                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002148   e101     BNZ       0x214c                                                                                          
00214a   d2b6     BRA       0x26b8                                                                                          
00214c   d2af     BRA       0x26ac                         return EOF;                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         break;                                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case 's':                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00214e   dac6     RCALL     0x26dc                       ramstring = va_arg (ap, char *);                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002150   0e11     MOVLW     0x11                                                                                            
002152   cfee     MOVFF     0xfee,0xfdb                                                                                     
002154   ffdb                                                                                                               
002156   0e12     MOVLW     0x12                                                                                            
002158   cfed     MOVFF     0xfed,0xfdb                                                                                     
00215a   ffdb                                                                                                               
00215c   0e11     MOVLW     0x11                         n = strlen (ramstring);                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00215e   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002160   ffe6                                                                                                               
002162   0e12     MOVLW     0x12                                                                                            
002164   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002166   ffe6                                                                                                               
002168   ec0c     CALL      0x7018,0x0                                                                                      
00216a   f038                                                                                                               
00216c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00216e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002170   0e13     MOVLW     0x13                                                                                            
002172   cff3     MOVFF     0xff3,0xfdb                                                                                     
002174   ffdb                                                                                                               
002176   0e14     MOVLW     0x14                                                                                            
002178   cff4     MOVFF     0xff4,0xfdb                                                                                     
00217a   ffdb                                                                                                               
                                                         /* Normalize the width based on the length of the actual           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            string and the precision. */                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00217c   0e06     MOVLW     0x6                          if (have_precision && precision < (unsigned char) n)               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00217e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002180   e004     BZ        0x218a                                                                                          
002182   0e13     MOVLW     0x13                                                                                            
002184   dbd0     RCALL     0x2926                                                                                          
002186   e201     BC        0x218a                                                                                          
002188   db0e     RCALL     0x27a6                         n = precision;                                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00218a   ecb7     CALL      0x296e,0x0                   if (width < (unsigned char) n)                                     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00218c   f014                                                                                                               
00218e   e202     BC        0x2194                                                                                          
002190   0e13     MOVLW     0x13                           width = n;                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002192   dadb     RCALL     0x274a                                                                                          
002194   dbaf     RCALL     0x28f4                       space_cnt = width - (unsigned char) n;                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002838   6ee7     MOVWF     0xe7,0x0                                                                                        
00283a   0e08     MOVLW     0x8                                                                                             
00283c   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00283e   ffdb                                                                                                               
002840   0012     RETURN    0x0                                                                                             
                                                         count += space_cnt;                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         /* we've already calculated the space count that the width         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            will require. now we want the width field to have the           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            number of character to display from the string itself,          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            limited by the length of the actual string and the              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            specified precision. */                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002196   e005     BZ        0x21a2                       if (have_precision && precision < width)                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002198   0e04     MOVLW     0x4                                                                                             
00219a   dbc5     RCALL     0x2926                                                                                          
00219c   e202     BC        0x21a2                                                                                          
002926   50db     MOVF      0xdb,0x0,0x0                                                                                    
002928   6ef3     MOVWF     0xf3,0x0                                                                                        
00292a   0e05     MOVLW     0x5                                                                                             
00292c   efa0     GOTO      0x2740                                                                                          
00292e   f013                                                                                                               
00219e   0e05     MOVLW     0x5                            width = precision;                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021a0   dad4     RCALL     0x274a                                                                                          
00274a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00274c   6ee7     MOVWF     0xe7,0x0                                                                                        
00274e   0e04     MOVLW     0x4                                                                                             
002750   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002752   ffdb                                                                                                               
002754   0012     RETURN    0x0                                                                                             
                                                         /* if right justified, we print the spaces before the              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            string */                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021a2   0e03     MOVLW     0x3                          if (!(flags & _FLAG_MINUS))                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021a4   b0db     BTFSC     0xdb,0x0,0x0                                                                                    
0021a6   d005     BRA       0x21b2                                                                                          
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021a8   daa2     RCALL     0x26ee                           if (s_put_n_chars (handle, space_cnt, ' '))                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021aa   e001     BZ        0x21ae                                                                                          
0021ac   d27f     BRA       0x26ac                                                                                          
                                                               return EOF;                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021ae   0e08     MOVLW     0x8                              space_cnt = 0;                                                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021b0   6adb     CLRF      0xdb,0x0                                                                                        
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021b2   0e09     MOVLW     0x9                          cval = 0;                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021b4   6adb     CLRF      0xdb,0x0                                                                                        
0021b6   0e11     MOVLW     0x11                         for (c = *ramstring; c && cval < width; c = *++ramstring)          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021b8   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0021ba   ffe9                                                                                                               
0021bc   0e12     MOVLW     0x12                                                                                            
0021be   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0021c0   ffea                                                                                                               
0021c2   cfef     MOVFF     0xfef,0xfdf                                                                                     
0021c4   ffdf                                                                                                               
0021c6   50df     MOVF      0xdf,0x0,0x0                                                                                    
0021c8   e014     BZ        0x21f2                                                                                          
0021ca   dbd7     RCALL     0x297a                                                                                          
0021cc   e212     BC        0x21f2                                                                                          
0021e2   0e11     MOVLW     0x11                                                                                            
0021e4   2adb     INCF      0xdb,0x1,0x0                                                                                    
0021e6   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0021e8   ffe9                                                                                                               
0021ea   0e12     MOVLW     0x12                                                                                            
0021ec   e3e8     BNC       0x21be                                                                                          
0021ee   2adb     INCF      0xdb,0x1,0x0                                                                                    
0021f0   d7e6     BRA       0x21be                                                                                          
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021ce   dbe4     RCALL     0x2998                           if (putc (c, handle) == EOF)                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021d0   e103     BNZ       0x21d8                                                                                          
0021d2   1c2c     COMF      0x2c,0x0,0x0                                                                                    
0021d4   e101     BNZ       0x21d8                                                                                          
0021d6   d26a     BRA       0x26ac                                                                                          
                                                               return EOF;                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021d8   db67     RCALL     0x28a8                           ++count;                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021da   e301     BNC       0x21de                                                                                          
0021dc   2adb     INCF      0xdb,0x1,0x0                                                                                    
0021de   0e09     MOVLW     0x9                              ++cval;                                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021e0   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         /* If there are spaces left, it's left justified.                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            Either way, calling the function unconditionally                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            is smaller code. */                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021f2   da7d     RCALL     0x26ee                       if (s_put_n_chars (handle, space_cnt, ' '))                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021f4   e101     BNZ       0x21f8                                                                                          
0021f6   d260     BRA       0x26b8                                                                                          
0021f8   d259     BRA       0x26ac                         return EOF;                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         break;                                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case 'd':                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case 'i':                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021fa   0e03     MOVLW     0x3                          flags |= _FLAG_SIGNED;                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021fc   8edb     BSF       0xdb,0x7,0x0                                                                                    
                                                         /* fall through */                                                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case 'o':                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case 'u':                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case 'x':                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case 'X':                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case 'b':                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case 'B':                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         /* This is a bit of a sneaky trick. The 'l' and 'hh' size          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            specifiers are valid only for the integer conversions,          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            not the 'p' or 'P' conversions, and are ignored for the         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            latter. By jumping over the additional size specifier           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            checks here we get the best code size since we can              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                            limit the size checks in the remaining code. */                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0021fe   0e07     MOVLW     0x7                          if (size == _FMT_LONG)                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002200   04db     DECF      0xdb,0x0,0x0                                                                                    
002202   e110     BNZ       0x2224                                                                                          
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002204   db95     RCALL     0x2930                           larg = va_arg (ap, long int);                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002206   0e04     MOVLW     0x4                                                                                             
002208   db5a     RCALL     0x28be                                                                                          
00220a   0e0a     MOVLW     0xa                                                                                             
00220c   cfee     MOVFF     0xfee,0xfdb                                                                                     
00220e   ffdb                                                                                                               
002210   0e0b     MOVLW     0xb                                                                                             
002212   cfee     MOVFF     0xfee,0xfdb                                                                                     
002214   ffdb                                                                                                               
002216   0e0c     MOVLW     0xc                                                                                             
002218   cfee     MOVFF     0xfee,0xfdb                                                                                     
00221a   ffdb                                                                                                               
00221c   0e0d     MOVLW     0xd                                                                                             
00221e   cfee     MOVFF     0xfee,0xfdb                                                                                     
002220   ffdb                                                                                                               
002222   d06c     BRA       0x22fc                           goto _do_integer_conversion;                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002224   0e07     MOVLW     0x7                          else if (size == _FMT_BYTE)                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002226   50db     MOVF      0xdb,0x0,0x0                                                                                    
002228   0803     SUBLW     0x3                                                                                             
00222a   e12c     BNZ       0x2284                                                                                          
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00222c   0e03     MOVLW     0x3                              if (flags & _FLAG_SIGNED)                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00222e   aedb     BTFSS     0xdb,0x7,0x0                                                                                    
002230   d00d     BRA       0x224c                                                                                          
002232   dab2     RCALL     0x2798                             larg = (signed char) va_arg (ap, int);                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002234   0e02     MOVLW     0x2                                                                                             
002236   da76     RCALL     0x2724                                                                                          
002238   cfef     MOVFF     0xfef,0x2b                                                                                      
00223a   f02b                                                                                                               
00223c   6a2c     CLRF      0x2c,0x0                                                                                        
00223e   6a2d     CLRF      0x2d,0x0                                                                                        
002240   6a2e     CLRF      0x2e,0x0                                                                                        
002242   ae2b     BTFSS     0x2b,0x7,0x0                                                                                    
002244   d039     BRA       0x22b8                                                                                          
002246   682c     SETF      0x2c,0x0                                                                                        
002248   682d     SETF      0x2d,0x0                                                                                        
00224a   d035     BRA       0x22b6                           else                                                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00224c   0ef7     MOVLW     0xf7                               larg = (unsigned char) va_arg (ap, unsigned int);            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00224e   cfdb     MOVFF     0xfdb,0x2c                                                                                      
002250   f02c                                                                                                               
002252   0ef8     MOVLW     0xf8                                                                                            
002254   cfdb     MOVFF     0xfdb,0x2d                                                                                      
002256   f02d                                                                                                               
002258   0e02     MOVLW     0x2                                                                                             
00225a   5e2c     SUBWF     0x2c,0x1,0x0                                                                                    
00225c   0e00     MOVLW     0x0                                                                                             
00225e   5a2d     SUBWFB    0x2d,0x1,0x0                                                                                    
002260   0ef7     MOVLW     0xf7                                                                                            
002262   c02c     MOVFF     0x2c,0xfdb                                                                                      
002264   ffdb                                                                                                               
002266   0ef8     MOVLW     0xf8                                                                                            
002268   c02d     MOVFF     0x2d,0xfdb                                                                                      
00226a   ffdb                                                                                                               
00226c   c02c     MOVFF     0x2c,0xfe9                                                                                      
00226e   ffe9                                                                                                               
002270   c02d     MOVFF     0x2d,0xfea                                                                                      
002272   ffea                                                                                                               
002274   cfef     MOVFF     0xfef,0x2b                                                                                      
002276   f02b                                                                                                               
002278   0e0a     MOVLW     0xa                                                                                             
00227a   c02b     MOVFF     0x2b,0xfdb                                                                                      
00227c   ffdb                                                                                                               
00227e   0e0b     MOVLW     0xb                                                                                             
002280   6adb     CLRF      0xdb,0x0                                                                                        
002282   d038     BRA       0x22f4                           goto _do_integer_conversion;                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         /* fall through */                                                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case 'p':                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case 'P':                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002284   0e07     MOVLW     0x7                          if (size == _FMT_SHLONG)                                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002286   50db     MOVF      0xdb,0x0,0x0                                                                                    
002288   0802     SUBLW     0x2                                                                                             
00228a   e109     BNZ       0x229e                                                                                          
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00228c   0e03     MOVLW     0x3                              if (flags & _FLAG_SIGNED)                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00228e   aedb     BTFSS     0xdb,0x7,0x0                                                                                    
002290   d004     BRA       0x229a                                                                                          
002292   db59     RCALL     0x2946                             larg = va_arg (ap, short long int);                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002294   ae2d     BTFSS     0x2d,0x7,0x0                                                                                    
002296   d010     BRA       0x22b8                                                                                          
002842   cfee     MOVFF     0xfee,0x2b                                                                                      
002844   f02b                                                                                                               
002846   cfee     MOVFF     0xfee,0x2c                                                                                      
002848   f02c                                                                                                               
00284a   cfef     MOVFF     0xfef,0x2d                                                                                      
00284c   f02d                                                                                                               
00284e   6a2e     CLRF      0x2e,0x0                                                                                        
002850   0012     RETURN    0x0                                                                                             
002946   df28     RCALL     0x2798                                                                                          
002948   0e03     MOVLW     0x3                                                                                             
00294a   deec     RCALL     0x2724                                                                                          
00294c   ef21     GOTO      0x2842                                                                                          
00294e   f014                                                                                                               
002298   d00e     BRA       0x22b6                           else                                                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00229a   db55     RCALL     0x2946                             larg = va_arg (ap, unsigned short long int);                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00229c   d00d     BRA       0x22b8                       else if (flags & _FLAG_SIGNED)                                     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00229e   0e03     MOVLW     0x3                                                                                             
0022a0   aedb     BTFSS     0xdb,0x7,0x0                                                                                    
0022a2   d012     BRA       0x22c8                                                                                          
0022a4   da79     RCALL     0x2798                         larg = va_arg (ap, int);                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0022a6   0e02     MOVLW     0x2                                                                                             
0022a8   da3d     RCALL     0x2724                                                                                          
0022aa   daf9     RCALL     0x289e                                                                                          
0022ac   6a2d     CLRF      0x2d,0x0                                                                                        
0022ae   6a2e     CLRF      0x2e,0x0                                                                                        
0022b0   ae2c     BTFSS     0x2c,0x7,0x0                                                                                    
0022b2   d002     BRA       0x22b8                                                                                          
0022b4   682d     SETF      0x2d,0x0                                                                                        
0022b6   682e     SETF      0x2e,0x0                                                                                        
0022b8   dae2     RCALL     0x287e                                                                                          
0022ba   0e0c     MOVLW     0xc                                                                                             
0022bc   c02d     MOVFF     0x2d,0xfdb                                                                                      
0022be   ffdb                                                                                                               
0022c0   0e0d     MOVLW     0xd                                                                                             
0022c2   c02e     MOVFF     0x2e,0xfdb                                                                                      
0022c4   ffdb                                                                                                               
002724   5e2f     SUBWF     0x2f,0x1,0x0                                                                                    
002726   0e00     MOVLW     0x0                                                                                             
002728   5a30     SUBWFB    0x30,0x1,0x0                                                                                    
00272a   0ef7     MOVLW     0xf7                                                                                            
00272c   c02f     MOVFF     0x2f,0xfdb                                                                                      
00272e   ffdb                                                                                                               
002730   0ef8     MOVLW     0xf8                                                                                            
002732   c030     MOVFF     0x30,0xfdb                                                                                      
002734   ffdb                                                                                                               
002736   c02f     MOVFF     0x2f,0xfe9                                                                                      
002738   ffe9                                                                                                               
00273a   c030     MOVFF     0x30,0xfea                                                                                      
00273c   ffea                                                                                                               
00273e   0012     RETURN    0x0                                                                                             
002798   0ef7     MOVLW     0xf7                                                                                            
00279a   cfdb     MOVFF     0xfdb,0x2f                                                                                      
00279c   f02f                                                                                                               
00279e   0ef8     MOVLW     0xf8                                                                                            
0027a0   cfdb     MOVFF     0xfdb,0x30                                                                                      
0027a2   f030                                                                                                               
0027a4   0012     RETURN    0x0                                                                                             
00287e   0e0a     MOVLW     0xa                                                                                             
002880   c02b     MOVFF     0x2b,0xfdb                                                                                      
002882   ffdb                                                                                                               
002884   0e0b     MOVLW     0xb                                                                                             
002886   c02c     MOVFF     0x2c,0xfdb                                                                                      
002888   ffdb                                                                                                               
00288a   0012     RETURN    0x0                                                                                             
00289e   cfee     MOVFF     0xfee,0x2b                                                                                      
0028a0   f02b                                                                                                               
0028a2   cfef     MOVFF     0xfef,0x2c                                                                                      
0028a4   f02c                                                                                                               
0028a6   0012     RETURN    0x0                                                                                             
0022c6   d01a     BRA       0x22fc                       else                                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0022c8   0ef7     MOVLW     0xf7                           larg = va_arg (ap, unsigned int);                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0022ca   cfdb     MOVFF     0xfdb,0x2d                                                                                      
0022cc   f02d                                                                                                               
0022ce   0ef8     MOVLW     0xf8                                                                                            
0022d0   cfdb     MOVFF     0xfdb,0x2e                                                                                      
0022d2   f02e                                                                                                               
0022d4   0e02     MOVLW     0x2                                                                                             
0022d6   5e2d     SUBWF     0x2d,0x1,0x0                                                                                    
0022d8   0e00     MOVLW     0x0                                                                                             
0022da   5a2e     SUBWFB    0x2e,0x1,0x0                                                                                    
0022dc   0ef7     MOVLW     0xf7                                                                                            
0022de   c02d     MOVFF     0x2d,0xfdb                                                                                      
0022e0   ffdb                                                                                                               
0022e2   0ef8     MOVLW     0xf8                                                                                            
0022e4   c02e     MOVFF     0x2e,0xfdb                                                                                      
0022e6   ffdb                                                                                                               
0022e8   c02d     MOVFF     0x2d,0xfe9                                                                                      
0022ea   ffe9                                                                                                               
0022ec   c02e     MOVFF     0x2e,0xfea                                                                                      
0022ee   ffea                                                                                                               
0022f0   dad6     RCALL     0x289e                                                                                          
0022f2   dac5     RCALL     0x287e                                                                                          
0022f4   0e0c     MOVLW     0xc                                                                                             
0022f6   6adb     CLRF      0xdb,0x0                                                                                        
0022f8   0e0d     MOVLW     0xd                                                                                             
0022fa   6adb     CLRF      0xdb,0x0                                                                                        
                                                       _do_integer_conversion:                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         /* default precision is 1 */                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0022fc   0e06     MOVLW     0x6                          if (!have_precision)                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0022fe   50db     MOVF      0xdb,0x0,0x0                                                                                    
002300   e105     BNZ       0x230c                                                                                          
002302   0e01     MOVLW     0x1                            precision = 1;                                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002304   6ef3     MOVWF     0xf3,0x0                                                                                        
002306   0e05     MOVLW     0x5                                                                                             
002308   cff3     MOVFF     0xff3,0xfdb                                                                                     
00230a   ffdb                                                                                                               
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         {                                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00230c   0e15     MOVLW     0x15                           unsigned char digit_cnt = 0;                                     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00230e   6adb     CLRF      0xdb,0x0                                                                                        
002310   0e16     MOVLW     0x16                           unsigned char prefix_cnt = 0;                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002312   6adb     CLRF      0xdb,0x0                                                                                        
                                                           unsigned char sign_char;                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           /* A 32 bit number will require at most 32 digits in the         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              string representation (binary format). */                     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           char buf[33];                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           /* Start storing digits least-significant first */               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002314   50d9     MOVF      0xd9,0x0,0x0                   char *q = &buf[31];                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002316   0f37     ADDLW     0x37                                                                                            
002318   6e2b     MOVWF     0x2b,0x0                                                                                        
00231a   0e00     MOVLW     0x0                                                                                             
00231c   20da     ADDWFC    0xda,0x0,0x0                                                                                    
00231e   6e2c     MOVWF     0x2c,0x0                                                                                        
002320   0e39     MOVLW     0x39                                                                                            
002322   c02b     MOVFF     0x2b,0xfdb                                                                                      
002324   ffdb                                                                                                               
002326   0e3a     MOVLW     0x3a                                                                                            
002328   c02c     MOVFF     0x2c,0xfdb                                                                                      
00232a   ffdb                                                                                                               
                                                           /* null terminate the string */                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00232c   0e38     MOVLW     0x38                           buf[32] = '\0';                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00232e   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002330   0e08     MOVLW     0x8                            space_cnt = 0;                                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002332   6adb     CLRF      0xdb,0x0                                                                                        
002334   0e0a     MOVLW     0xa                            size = 10;                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002336   daae     RCALL     0x2894                                                                                          
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002338   50df     MOVF      0xdf,0x0,0x0                   switch (c)                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00233a   0a78     XORLW     0x78                                                                                            
00233c   e012     BZ        0x2362                                                                                          
00233e   0a20     XORLW     0x20                                                                                            
002340   e010     BZ        0x2362                                                                                          
002342   0a28     XORLW     0x28                                                                                            
002344   e00c     BZ        0x235e                                                                                          
002346   0a20     XORLW     0x20                                                                                            
002348   e00a     BZ        0x235e                                                                                          
00234a   0a3f     XORLW     0x3f                                                                                            
00234c   e006     BZ        0x235a                                                                                          
00234e   0a0d     XORLW     0xd                                                                                             
002350   e002     BZ        0x2356                                                                                          
002352   0a20     XORLW     0x20                                                                                            
002354   e108     BNZ       0x2366                                                                                          
                                                             {                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                             case 'b':                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                             case 'B':                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002356   0e02     MOVLW     0x2                                size = 2;                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002358   d005     BRA       0x2364                             break;                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                             case 'o':                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00235a   0e08     MOVLW     0x8                                size = 8;                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00235c   d003     BRA       0x2364                             break;                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                             case 'p':                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                             case 'P':                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                               /* from here on out, treat 'p' conversions just              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                  like 'x' conversions. */                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00235e   0e08     MOVLW     0x8                                c += 'x' - 'p';                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002360   26df     ADDWF     0xdf,0x1,0x0                                                                                    
                                                               /* fall through */                                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                             case 'x':                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                             case 'X':                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002362   0e10     MOVLW     0x10                               size = 16;                                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002364   da97     RCALL     0x2894                                                                                          
002894   6ef3     MOVWF     0xf3,0x0                                                                                        
002896   0e07     MOVLW     0x7                                                                                             
002898   cff3     MOVFF     0xff3,0xfdb                                                                                     
00289a   ffdb                                                                                                               
00289c   0012     RETURN    0x0                                                                                             
                                                               break;                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                             }                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           /* if it's an unsigned conversion, we should ignore the          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              ' ' and '+' flags */                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002366   0e03     MOVLW     0x3                            if (!(flags & _FLAG_SIGNED))                                     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002368   bedb     BTFSC     0xdb,0x7,0x0                                                                                    
00236a   d002     BRA       0x2370                                                                                          
00236c   92db     BCF       0xdb,0x1,0x0                     flags &= ~(_FLAG_PLUS | _FLAG_SPACE);                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00236e   94db     BCF       0xdb,0x2,0x0                                                                                    
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           /* if it's a negative value, we need to negate the               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              unsigned version before we convert to text. Using             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              unsigned for this allows us to (ab)use the 2's                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              complement system to avoid overflow and be able to            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              adequately handle LONG_MIN.                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              We'll figure out what sign character to print, if             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              any, here as well. */                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002370   50db     MOVF      0xdb,0x0,0x0                   if (flags & _FLAG_SIGNED && ((long) larg < 0))                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002372   0b80     ANDLW     0x80                                                                                            
002374   e026     BZ        0x23c2                                                                                          
002376   da8a     RCALL     0x288c                                                                                          
002378   0e03     MOVLW     0x3                                                                                             
00237a   50eb     MOVF      0xeb,0x0,0x0                                                                                    
00237c   0a00     XORLW     0x0                                                                                             
00237e   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
002380   d002     BRA       0x2386                                                                                          
002382   90d8     BCF       0xd8,0x0,0x0                                                                                    
002384   d008     BRA       0x2396                                                                                          
002386   0e00     MOVLW     0x0                                                                                             
002388   5cee     SUBWF     0xee,0x0,0x0                                                                                    
00238a   0e00     MOVLW     0x0                                                                                             
00238c   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
00238e   0e00     MOVLW     0x0                                                                                             
002390   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
002392   0e00     MOVLW     0x0                                                                                             
002394   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
002396   e215     BC        0x23c2                                                                                          
00288c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00288e   0f0a     ADDLW     0xa                                                                                             
002890   efda     GOTO      0x29b4                                                                                          
002892   f014                                                                                                               
0029b4   6ee9     MOVWF     0xe9,0x0                                                                                        
0029b6   0e00     MOVLW     0x0                                                                                             
0029b8   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0029ba   6eea     MOVWF     0xea,0x0                                                                                        
0029bc   0012     RETURN    0x0                                                                                             
                                                             {                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002398   da11     RCALL     0x27bc                             larg = -(long) larg;                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00239a   6820     SETF      0x20,0x0                                                                                        
00239c   6821     SETF      0x21,0x0                                                                                        
00239e   6822     SETF      0x22,0x0                                                                                        
0023a0   6823     SETF      0x23,0x0                                                                                        
0023a2   eca0     CALL      0x6f40,0x0                                                                                      
0023a4   f037                                                                                                               
0023a6   0e0a     MOVLW     0xa                                                                                             
0023a8   c017     MOVFF     0x17,0xfdb                                                                                      
0023aa   ffdb                                                                                                               
0023ac   0e0b     MOVLW     0xb                                                                                             
0023ae   c018     MOVFF     0x18,0xfdb                                                                                      
0023b0   ffdb                                                                                                               
0023b2   0e0c     MOVLW     0xc                                                                                             
0023b4   c019     MOVFF     0x19,0xfdb                                                                                      
0023b6   ffdb                                                                                                               
0023b8   0e0d     MOVLW     0xd                                                                                             
0023ba   c01a     MOVFF     0x1a,0xfdb                                                                                      
0023bc   ffdb                                                                                                               
0027bc   0e0a     MOVLW     0xa                                                                                             
0027be   cfdb     MOVFF     0xfdb,0x1b                                                                                      
0027c0   f01b                                                                                                               
0027c2   0e0b     MOVLW     0xb                                                                                             
0027c4   cfdb     MOVFF     0xfdb,0x1c                                                                                      
0027c6   f01c                                                                                                               
0027c8   0e0c     MOVLW     0xc                                                                                             
0027ca   cfdb     MOVFF     0xfdb,0x1d                                                                                      
0027cc   f01d                                                                                                               
0027ce   0e0d     MOVLW     0xd                                                                                             
0027d0   cfdb     MOVFF     0xfdb,0x1e                                                                                      
0027d2   f01e                                                                                                               
0027d4   0012     RETURN    0x0                                                                                             
0023be   0e2d     MOVLW     0x2d                               sign_char = '-';                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                               ++digit_cnt;                                                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                             }                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0023c0   d008     BRA       0x23d2                         else if (flags & _FLAG_PLUS)                                     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0023c2   0e03     MOVLW     0x3                                                                                             
0023c4   a2db     BTFSS     0xdb,0x1,0x0                                                                                    
0023c6   d002     BRA       0x23cc                                                                                          
                                                             {                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0023c8   0e2b     MOVLW     0x2b                               sign_char = '+';                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                               ++digit_cnt;                                                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                             }                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0023ca   d003     BRA       0x23d2                         else if (flags & _FLAG_SPACE)                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0023cc   a4db     BTFSS     0xdb,0x2,0x0                                                                                    
0023ce   d008     BRA       0x23e0                                                                                          
                                                             {                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0023d0   0e20     MOVLW     0x20                               sign_char = ' ';                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0023d2   6ef3     MOVWF     0xf3,0x0                                                                                        
0023d4   0e17     MOVLW     0x17                                                                                            
0023d6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0023d8   ffdb                                                                                                               
0023da   0e15     MOVLW     0x15                               ++digit_cnt;                                                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0023dc   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                                             }                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0023de   d002     BRA       0x23e4                         else                                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0023e0   0e17     MOVLW     0x17                             sign_char = '\0';                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0023e2   6adb     CLRF      0xdb,0x0                                                                                        
                                                           /* get the digits for the actual number. If the                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              precision is zero and the value is zero, the result           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              is no characters. */                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0023e4   0e05     MOVLW     0x5                            if (precision || larg)                                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0023e6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0023e8   e103     BNZ       0x23f0                                                                                          
0023ea   d9b5     RCALL     0x2756                                                                                          
0023ec   e101     BNZ       0x23f0                                                                                          
0023ee   d089     BRA       0x2502                                                                                          
002756   0e0a     MOVLW     0xa                                                                                             
002758   cfdb     MOVFF     0xfdb,0x2b                                                                                      
00275a   f02b                                                                                                               
00275c   0e0b     MOVLW     0xb                                                                                             
00275e   cfdb     MOVFF     0xfdb,0x2c                                                                                      
002760   f02c                                                                                                               
002762   0e0c     MOVLW     0xc                                                                                             
002764   cfdb     MOVFF     0xfdb,0x2d                                                                                      
002766   f02d                                                                                                               
002768   0e0d     MOVLW     0xd                                                                                             
00276a   cfdb     MOVFF     0xfdb,0x2e                                                                                      
00276c   f02e                                                                                                               
00276e   502b     MOVF      0x2b,0x0,0x0                                                                                    
002770   102c     IORWF     0x2c,0x0,0x0                                                                                    
002772   102d     IORWF     0x2d,0x0,0x0                                                                                    
002774   102e     IORWF     0x2e,0x0,0x0                                                                                    
002776   0012     RETURN    0x0                                                                                             
                                                             {                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                               do                                                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                 {                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0023f0   0efe     MOVLW     0xfe                                   cval = s_digits[larg % size];                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0023f2   6e2b     MOVWF     0x2b,0x0                                                                                        
0023f4   0e72     MOVLW     0x72                                                                                            
0023f6   6e2c     MOVWF     0x2c,0x0                                                                                        
0023f8   0e00     MOVLW     0x0                                                                                             
0023fa   6e2d     MOVWF     0x2d,0x0                                                                                        
0023fc   0e07     MOVLW     0x7                                                                                             
0023fe   cfdb     MOVFF     0xfdb,0x2e                                                                                      
002400   f02e                                                                                                               
002402   6a2f     CLRF      0x2f,0x0                                                                                        
002404   6a30     CLRF      0x30,0x0                                                                                        
002406   6a31     CLRF      0x31,0x0                                                                                        
002408   c02e     MOVFF     0x2e,0x20                                                                                       
00240a   f020                                                                                                               
00240c   c02f     MOVFF     0x2f,0x21                                                                                       
00240e   f021                                                                                                               
002410   c030     MOVFF     0x30,0x22                                                                                       
002412   f022                                                                                                               
002414   c031     MOVFF     0x31,0x23                                                                                       
002416   f023                                                                                                               
002418   d9d1     RCALL     0x27bc                                                                                          
00241a   ecc8     CALL      0x7190,0x0                                                                                      
00241c   f038                                                                                                               
00241e   502b     MOVF      0x2b,0x0,0x0                                                                                    
002420   2417     ADDWF     0x17,0x0,0x0                                                                                    
002422   6ef3     MOVWF     0xf3,0x0                                                                                        
002424   502c     MOVF      0x2c,0x0,0x0                                                                                    
002426   2018     ADDWFC    0x18,0x0,0x0                                                                                    
002428   6ef4     MOVWF     0xf4,0x0                                                                                        
00242a   502d     MOVF      0x2d,0x0,0x0                                                                                    
00242c   2019     ADDWFC    0x19,0x0,0x0                                                                                    
00242e   6ef8     MOVWF     0xf8,0x0                                                                                        
002430   cff4     MOVFF     0xff4,0xff7                                                                                     
002432   fff7                                                                                                               
002434   cff3     MOVFF     0xff3,0xff6                                                                                     
002436   fff6                                                                                                               
002438   0008     TBLRD                                                                                                     
00243a   0e09     MOVLW     0x9                                                                                             
00243c   cff5     MOVFF     0xff5,0xfdb                                                                                     
00243e   ffdb                                                                                                               
002440   0e58     MOVLW     0x58                                   if (c == 'X' && cval >= 'a')                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002442   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
002444   e10f     BNZ       0x2464                                                                                          
002446   0e61     MOVLW     0x61                                                                                            
002448   6ef3     MOVWF     0xf3,0x0                                                                                        
00244a   0e09     MOVLW     0x9                                                                                             
00244c   d979     RCALL     0x2740                                                                                          
00244e   e30a     BNC       0x2464                                                                                          
002740   cfdb     MOVFF     0xfdb,0xff4                                                                                     
002742   fff4                                                                                                               
002744   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002746   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
002748   0012     RETURN    0x0                                                                                             
002450   0e20     MOVLW     0x20                                     cval -= 'a' - 'A';                                     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002452   6e2b     MOVWF     0x2b,0x0                                                                                        
002454   0e09     MOVLW     0x9                                                                                             
002456   cfdb     MOVFF     0xfdb,0xfe7                                                                                     
002458   ffe7                                                                                                               
00245a   502b     MOVF      0x2b,0x0,0x0                                                                                    
00245c   5ee7     SUBWF     0xe7,0x1,0x0                                                                                    
00245e   0e09     MOVLW     0x9                                                                                             
002460   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002462   ffdb                                                                                                               
002464   0e07     MOVLW     0x7                                    larg /= size;                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002466   cfdb     MOVFF     0xfdb,0x2b                                                                                      
002468   f02b                                                                                                               
00246a   6a2c     CLRF      0x2c,0x0                                                                                        
00246c   6a2d     CLRF      0x2d,0x0                                                                                        
00246e   6a2e     CLRF      0x2e,0x0                                                                                        
002470   da0d     RCALL     0x288c                                                                                          
002472   c02b     MOVFF     0x2b,0x20                                                                                       
002474   f020                                                                                                               
002476   c02c     MOVFF     0x2c,0x21                                                                                       
002478   f021                                                                                                               
00247a   c02d     MOVFF     0x2d,0x22                                                                                       
00247c   f022                                                                                                               
00247e   c02e     MOVFF     0x2e,0x23                                                                                       
002480   f023                                                                                                               
002482   cfee     MOVFF     0xfee,0x1b                                                                                      
002484   f01b                                                                                                               
002486   cfee     MOVFF     0xfee,0x1c                                                                                      
002488   f01c                                                                                                               
00248a   cfee     MOVFF     0xfee,0x1d                                                                                      
00248c   f01d                                                                                                               
00248e   cfef     MOVFF     0xfef,0x1e                                                                                      
002490   f01e                                                                                                               
002492   ecc8     CALL      0x7190,0x0                                                                                      
002494   f038                                                                                                               
002496   c01e     MOVFF     0x1e,0xfed                                                                                      
002498   ffed                                                                                                               
00249a   c01d     MOVFF     0x1d,0xfed                                                                                      
00249c   ffed                                                                                                               
00249e   c01c     MOVFF     0x1c,0xfed                                                                                      
0024a0   ffed                                                                                                               
0024a2   c01b     MOVFF     0x1b,0xfef                                                                                      
0024a4   ffef                                                                                                               
0024a6   0e39     MOVLW     0x39                                   *q-- = cval;                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0024a8   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0024aa   ffe9                                                                                                               
0024ac   06db     DECF      0xdb,0x1,0x0                                                                                    
0024ae   0e3a     MOVLW     0x3a                                                                                            
0024b0   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0024b2   ffea                                                                                                               
0024b4   e201     BC        0x24b8                                                                                          
0024b6   06db     DECF      0xdb,0x1,0x0                                                                                    
0024b8   0e09     MOVLW     0x9                                                                                             
0024ba   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0024bc   ffef                                                                                                               
0024be   0e15     MOVLW     0x15                                   ++digit_cnt;                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0024c0   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                                                 }                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0024c2   d949     RCALL     0x2756                             while (larg);                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0024c4   e195     BNZ       0x23f0                                                                                          
                                                               /* if the '#' flag was specified and we're dealing           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                  with an 'o', 'b', 'B', 'x', or 'X' conversion,            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                  we need a bit more. */                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0024c6   0e03     MOVLW     0x3                                if (flags & _FLAG_OCTO)                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0024c8   a6db     BTFSS     0xdb,0x3,0x0                                                                                    
0024ca   d01d     BRA       0x2506                                                                                          
                                                                 {                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0024cc   0e6f     MOVLW     0x6f                                   if (c == 'o')                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0024ce   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0024d0   e106     BNZ       0x24de                                                                                          
                                                                     {                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                       /* per the standard, for octal, the '#' flag         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                          makes the precision be at least one more          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                          than the number of digits in the number */        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0024d2   d9bf     RCALL     0x2852                                     if (precision <= digit_cnt)                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0024d4   e318     BNC       0x2506                                                                                          
002852   0e05     MOVLW     0x5                                                                                             
002854   cfdb     MOVFF     0xfdb,0x2b                                                                                      
002856   f02b                                                                                                               
002858   0e15     MOVLW     0x15                                                                                            
00285a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00285c   80d8     BSF       0xd8,0x0,0x0                                                                                    
00285e   542b     SUBFWB    0x2b,0x0,0x0                                                                                    
002860   0012     RETURN    0x0                                                                                             
0024d6   0e15     MOVLW     0x15                                         precision = digit_cnt + 1;                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0024d8   28db     INCF      0xdb,0x0,0x0                                                                                    
0024da   da59     RCALL     0x298e                                                                                          
                                                                     }                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0024dc   d014     BRA       0x2506                                 else if (c == 'x'                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0024de   0e78     MOVLW     0x78                                                                                            
0024e0   5cdf     SUBWF     0xdf,0x0,0x0                                    || c == 'X' || c == 'b' || c == 'B')            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0024e2   e009     BZ        0x24f6                                                                                          
0024e4   0e58     MOVLW     0x58                                                                                            
0024e6   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0024e8   e006     BZ        0x24f6                                                                                          
0024ea   0e62     MOVLW     0x62                                                                                            
0024ec   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0024ee   e003     BZ        0x24f6                                                                                          
0024f0   0e42     MOVLW     0x42                                                                                            
0024f2   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0024f4   e108     BNZ       0x2506                                                                                          
0024f6   0e02     MOVLW     0x2                                      prefix_cnt = 2;                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0024f8   6ef3     MOVWF     0xf3,0x0                                                                                        
0024fa   0e16     MOVLW     0x16                                                                                            
0024fc   cff3     MOVFF     0xff3,0xfdb                                                                                     
0024fe   ffdb                                                                                                               
                                                                 }                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                             }                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002500   d002     BRA       0x2506                         else                                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002502   0e15     MOVLW     0x15                             digit_cnt = 0;                                                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002504   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           /* The leading zero count depends on whether the '0'             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              flag was specified or not. If it was not, then the            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              count is the difference between the specified                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              precision and the number of digits (including the             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              sign character, if any) to be printed; otherwise,             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              it's as if the precision were equal to the max of             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              the specified precision and the field width. If a             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              precision was specified, the '0' flag is ignored,             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              however. */                                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002506   0e03     MOVLW     0x3                            if ((flags & _FLAG_ZERO) && (width > precision)                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002508   50db     MOVF      0xdb,0x0,0x0                                                                                    
00250a   0b10     ANDLW     0x10                                                                                            
00250e   0e04     MOVLW     0x4                                                                                             
002510   cfdb     MOVFF     0xfdb,0x2b                                                                                      
002512   f02b                                                                                                               
002514   0e05     MOVLW     0x5                                                                                             
002516   50db     MOVF      0xdb,0x0,0x0                                                                                    
002518   80d8     BSF       0xd8,0x0,0x0                                                                                    
00251a   542b     SUBFWB    0x2b,0x0,0x0                                                                                    
00250c   e00e     BZ        0x252a                             && !have_precision)                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00251c   e206     BC        0x252a                                                                                          
00251e   0e06     MOVLW     0x6                                                                                             
002520   50db     MOVF      0xdb,0x0,0x0                                                                                    
002522   e103     BNZ       0x252a                                                                                          
002524   0e04     MOVLW     0x4                              precision = width;                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002526   50db     MOVF      0xdb,0x0,0x0                                                                                    
002528   da32     RCALL     0x298e                                                                                          
                                                           /* for the rest of the processing, precision contains            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              the leading zero count for the conversion. */                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00252a   d993     RCALL     0x2852                         if (precision > digit_cnt)                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00252c   e20a     BC        0x2542                                                                                          
00252e   0e05     MOVLW     0x5                              precision -= digit_cnt;                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002530   cfdb     MOVFF     0xfdb,0xfe7                                                                                     
002532   ffe7                                                                                                               
002534   0e15     MOVLW     0x15                                                                                            
002536   50db     MOVF      0xdb,0x0,0x0                                                                                    
002538   5ee7     SUBWF     0xe7,0x1,0x0                                                                                    
00253a   0e05     MOVLW     0x5                                                                                             
00253c   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00253e   ffdb                                                                                                               
002540   d002     BRA       0x2546                         else                                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002542   0e05     MOVLW     0x5                              precision = 0;                                                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002544   6adb     CLRF      0xdb,0x0                                                                                        
                                                           /* the space count is the difference between the field           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              width and the digit count plus the leading zero               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              count. If the width is less than the digit count              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              plus the leading zero count, the space count is               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              zero. */                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002546   0e04     MOVLW     0x4                            if (width > precision + digit_cnt + prefix_cnt)                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002548   cfdb     MOVFF     0xfdb,0x2b                                                                                      
00254a   f02b                                                                                                               
00254c   0e16     MOVLW     0x16                                                                                            
00254e   d943     RCALL     0x27d6                                                                                          
002550   80d8     BSF       0xd8,0x0,0x0                                                                                    
002552   542b     SUBFWB    0x2b,0x0,0x0                                                                                    
002554   e214     BC        0x257e                                                                                          
0027d6   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0027d8   ffe6                                                                                                               
0027da   0e15     MOVLW     0x15                                                                                            
0027dc   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0027de   ffe6                                                                                                               
0027e0   0e05     MOVLW     0x5                                                                                             
0027e2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0027e4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0027e6   24e7     ADDWF     0xe7,0x0,0x0                                                                                    
0027e8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0027ea   24e7     ADDWF     0xe7,0x0,0x0                                                                                    
0027ec   0012     RETURN    0x0                                                                                             
                                                             space_cnt =                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002556   0e16     MOVLW     0x16                               width - precision - digit_cnt - prefix_cnt;                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002558   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00255a   ffe6                                                                                                               
00255c   0e15     MOVLW     0x15                                                                                            
00255e   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002560   ffe6                                                                                                               
002562   0e04     MOVLW     0x4                                                                                             
002564   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002566   ffe6                                                                                                               
002568   0e05     MOVLW     0x5                                                                                             
00256a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00256c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00256e   5ce7     SUBWF     0xe7,0x0,0x0                                                                                    
002570   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002572   80d8     BSF       0xd8,0x0,0x0                                                                                    
002574   54e7     SUBFWB    0xe7,0x0,0x0                                                                                    
002576   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002578   80d8     BSF       0xd8,0x0,0x0                                                                                    
00257a   54e7     SUBFWB    0xe7,0x0,0x0                                                                                    
00257c   d95d     RCALL     0x2838                                                                                          
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           /* for output, we check the justification, if it's               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              right justified and the space count is positive, we           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              emit the space characters first. */                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00257e   0e03     MOVLW     0x3                            if (!(flags & _FLAG_MINUS) && space_cnt)                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002580   50db     MOVF      0xdb,0x0,0x0                                                                                    
002582   0b01     ANDLW     0x1                                                                                             
002584   e10b     BNZ       0x259c                                                                                          
002586   0e08     MOVLW     0x8                                                                                             
002588   50db     MOVF      0xdb,0x0,0x0                                                                                    
00258a   e008     BZ        0x259c                                                                                          
                                                             {                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00258c   d8b0     RCALL     0x26ee                             if (s_put_n_chars (handle, space_cnt, ' '))                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00258e   e001     BZ        0x2592                                                                                          
002590   d08d     BRA       0x26ac                                                                                          
                                                                 return EOF;                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002592   0e08     MOVLW     0x8                                count += space_cnt;                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002594   50db     MOVF      0xdb,0x0,0x0                                                                                    
002596   d8bc     RCALL     0x2710                                                                                          
002598   0e08     MOVLW     0x8                                space_cnt = 0;                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00259a   6adb     CLRF      0xdb,0x0                                                                                        
                                                             }                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           /* if we have a sign character to print, that comes              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              next */                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00259c   0e17     MOVLW     0x17                           if (sign_char)                                                   C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00259e   50db     MOVF      0xdb,0x0,0x0                                                                                    
0025a0   e007     BZ        0x25b0                                                                                          
0025a2   d986     RCALL     0x28b0                           if (putc (sign_char, handle) == EOF)                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0025a4   0e17     MOVLW     0x17                                                                                            
0025a6   d9ef     RCALL     0x2986                                                                                          
0025a8   e103     BNZ       0x25b0                                                                                          
0025aa   1c2c     COMF      0x2c,0x0,0x0                                                                                    
0025ac   e101     BNZ       0x25b0                                                                                          
0025ae   d07e     BRA       0x26ac                                                                                          
                                                               return EOF;                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           /* if we have a prefix (0b, 0B, 0x or 0X), that's next */        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0025b0   0e16     MOVLW     0x16                           if (prefix_cnt)                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0025b2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0025b4   e016     BZ        0x25e2                                                                                          
                                                             {                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0025b6   d97c     RCALL     0x28b0                             if (putc ('0', handle) == EOF)                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0025b8   0e30     MOVLW     0x30                                                                                            
0025ba   6ee6     MOVWF     0xe6,0x0                                                                                        
0025bc   d89d     RCALL     0x26f8                                                                                          
0025be   e102     BNZ       0x25c4                                                                                          
0025c0   1c2c     COMF      0x2c,0x0,0x0                                                                                    
0025c2   e074     BZ        0x26ac                                                                                          
                                                                 return EOF;                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0025c4   d975     RCALL     0x28b0                             if (putc (c, handle) == EOF)                                 C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0025c6   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
0025c8   ffe6                                                                                                               
0025ca   ec5e     CALL      0x6ebc,0x0                                                                                      
0025cc   f037                                                                                                               
0025ce   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0025d0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0025d2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0025d4   cff4     MOVFF     0xff4,0x2c                                                                                      
0025d6   f02c                                                                                                               
0025d8   0100     MOVLB     0x0                                                                                             
0025da   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0025dc   e102     BNZ       0x25e2                                                                                          
0025de   1c2c     COMF      0x2c,0x0,0x0                                                                                    
0025e0   e065     BZ        0x26ac                                                                                          
                                                                 return EOF;                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                             }                                                              C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           /* if we have leading zeros, they follow. the prefix, if any     C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              is included in the number of digits when determining how      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              many leading zeroes are needed. */                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0025e2   0e05     MOVLW     0x5                            if (precision > prefix_cnt)                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0025e4   cfdb     MOVFF     0xfdb,0x2b                                                                                      
0025e6   f02b                                                                                                               
0025e8   0e16     MOVLW     0x16                                                                                            
0025ea   50db     MOVF      0xdb,0x0,0x0                                                                                    
0025ec   80d8     BSF       0xd8,0x0,0x0                                                                                    
0025ee   542b     SUBFWB    0x2b,0x0,0x0                                                                                    
0025f0   e209     BC        0x2604                                                                                          
0025f2   0e05     MOVLW     0x5                              precision -= prefix_cnt;                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0025f4   cfdb     MOVFF     0xfdb,0xfe7                                                                                     
0025f6   ffe7                                                                                                               
0025f8   0e16     MOVLW     0x16                                                                                            
0025fa   50db     MOVF      0xdb,0x0,0x0                                                                                    
0025fc   5ee7     SUBWF     0xe7,0x1,0x0                                                                                    
0025fe   0e05     MOVLW     0x5                                                                                             
002600   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002602   ffdb                                                                                                               
002604   0e30     MOVLW     0x30                           if (s_put_n_chars (handle, precision, '0'))                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002606   6ee6     MOVWF     0xe6,0x0                                                                                        
002608   0e05     MOVLW     0x5                                                                                             
00260a   d9c9     RCALL     0x299e                                                                                          
00260c   e14f     BNZ       0x26ac                                                                                          
002950   ecce     CALL      0x1d9c,0x0                                                                                      
002952   f00e                                                                                                               
002954   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002956   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002958   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00295a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00295c   0900     IORLW     0x0                                                                                             
00295e   0012     RETURN    0x0                                                                                             
00299e   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0029a0   ffe6                                                                                                               
0029a2   df86     RCALL     0x28b0                                                                                          
0029a4   efa8     GOTO      0x2950                                                                                          
0029a6   f014                                                                                                               
                                                             return EOF;                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           /* print the actual number */                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00260e   0e39     MOVLW     0x39                           for (cval = *++q; cval; cval = *++q)                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002610   2adb     INCF      0xdb,0x1,0x0                                                                                    
002612   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
002614   ffe9                                                                                                               
002616   0e3a     MOVLW     0x3a                                                                                            
002618   e301     BNC       0x261c                                                                                          
00261a   2adb     INCF      0xdb,0x1,0x0                                                                                    
00261c   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00261e   ffea                                                                                                               
002620   0e09     MOVLW     0x9                                                                                             
002622   cfef     MOVFF     0xfef,0xfdb                                                                                     
002624   ffdb                                                                                                               
002626   50db     MOVF      0xdb,0x0,0x0                                                                                    
002628   e00e     BZ        0x2646                                                                                          
002636   0e39     MOVLW     0x39                                                                                            
002638   2adb     INCF      0xdb,0x1,0x0                                                                                    
00263a   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00263c   ffe9                                                                                                               
00263e   0e3a     MOVLW     0x3a                                                                                            
002640   e3ed     BNC       0x261c                                                                                          
002642   2adb     INCF      0xdb,0x1,0x0                                                                                    
002644   d7eb     BRA       0x261c                                                                                          
00262a   d942     RCALL     0x28b0                           if (putc (cval, handle) == EOF)                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00262c   0e09     MOVLW     0x9                                                                                             
00262e   d9ab     RCALL     0x2986                                                                                          
002630   e102     BNZ       0x2636                                                                                          
002632   1c2c     COMF      0x2c,0x0,0x0                                                                                    
002634   e03b     BZ        0x26ac                                                                                          
002986   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002988   ffe6                                                                                                               
00298a   ef7c     GOTO      0x26f8                                                                                          
00298c   f013                                                                                                               
                                                               return EOF;                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           /* if there are any spaces left, they go to right-pad            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                              the field */                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002646   d853     RCALL     0x26ee                         if (s_put_n_chars (handle, space_cnt, ' '))                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002648   e131     BNZ       0x26ac                                                                                          
0026ee   0e20     MOVLW     0x20                                                                                            
0026f0   6ee6     MOVWF     0xe6,0x0                                                                                        
0026f2   0e08     MOVLW     0x8                                                                                             
0026f4   efcf     GOTO      0x299e                                                                                          
0026f6   f014                                                                                                               
0028b0   0efc     MOVLW     0xfc                                                                                            
0028b2   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0028b4   ffe6                                                                                                               
0028b6   0efd     MOVLW     0xfd                                                                                            
0028b8   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0028ba   ffe6                                                                                                               
0028bc   0012     RETURN    0x0                                                                                             
                                                             return EOF;                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00264a   0e16     MOVLW     0x16                           count += precision + digit_cnt + space_cnt + prefix_cnt;         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00264c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00264e   ffe6                                                                                                               
002650   0e08     MOVLW     0x8                                                                                             
002652   d8c1     RCALL     0x27d6                                                                                          
002654   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002656   24e7     ADDWF     0xe7,0x0,0x0                                                                                    
002658   d85b     RCALL     0x2710                                                                                          
002710   6e2b     MOVWF     0x2b,0x0                                                                                        
002712   6a2c     CLRF      0x2c,0x0                                                                                        
002714   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002716   0f01     ADDLW     0x1                                                                                             
002718   d94d     RCALL     0x29b4                                                                                          
00271a   502b     MOVF      0x2b,0x0,0x0                                                                                    
00271c   26ee     ADDWF     0xee,0x1,0x0                                                                                    
00271e   502c     MOVF      0x2c,0x0,0x0                                                                                    
002720   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
002722   0012     RETURN    0x0                                                                                             
                                                         }                                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00265a   d02e     BRA       0x26b8                       break;                                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       case 'n':                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00265c   0e07     MOVLW     0x7                          switch (size)                                                      C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00265e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002660   0a03     XORLW     0x3                                                                                             
002662   e01c     BZ        0x269c                                                                                          
002664   0a01     XORLW     0x1                                                                                             
002666   e014     BZ        0x2690                                                                                          
002668   0a03     XORLW     0x3                                                                                             
00266a   e007     BZ        0x267a                                                                                          
                                                           {                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           case _FMT_LONG:                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00267a   d8f3     RCALL     0x2862                           *(long *) va_arg (ap, long *) = count;                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00267c   6a30     CLRF      0x30,0x0                                                                                        
00267e   ae2e     BTFSS     0x2e,0x7,0x0                                                                                    
002680   d002     BRA       0x2686                                                                                          
002682   682f     SETF      0x2f,0x0                                                                                        
002684   6830     SETF      0x30,0x0                                                                                        
002686   d82a     RCALL     0x26dc                                                                                          
002688   d8ba     RCALL     0x27fe                                                                                          
00268a   c030     MOVFF     0x30,0xfee                                                                                      
00268c   ffee                                                                                                               
0027fe   50ee     MOVF      0xee,0x0,0x0                                                                                    
002800   cfef     MOVFF     0xfef,0xfea                                                                                     
002802   ffea                                                                                                               
002804   6ee9     MOVWF     0xe9,0x0                                                                                        
002806   c02d     MOVFF     0x2d,0xfee                                                                                      
002808   ffee                                                                                                               
00280a   c02e     MOVFF     0x2e,0xfee                                                                                      
00280c   ffee                                                                                                               
00280e   c02f     MOVFF     0x2f,0xfee                                                                                      
002810   ffee                                                                                                               
002812   0012     RETURN    0x0                                                                                             
002862   0e01     MOVLW     0x1                                                                                             
002864   cfdb     MOVFF     0xfdb,0x2d                                                                                      
002866   f02d                                                                                                               
002868   0e02     MOVLW     0x2                                                                                             
00286a   cfdb     MOVFF     0xfdb,0x2e                                                                                      
00286c   f02e                                                                                                               
00286e   6a2f     CLRF      0x2f,0x0                                                                                        
002870   0012     RETURN    0x0                                                                                             
00268e   d014     BRA       0x26b8                           break;                                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           case _FMT_SHLONG:                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002690   d8e8     RCALL     0x2862                           *(short long *) va_arg (ap, short long *) = count;             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002692   be2e     BTFSC     0x2e,0x7,0x0                                                                                    
002694   682f     SETF      0x2f,0x0                                                                                        
002696   d822     RCALL     0x26dc                                                                                          
002698   d8b2     RCALL     0x27fe                                                                                          
00269a   d00e     BRA       0x26b8                           break;                                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           case _FMT_BYTE:                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00269c   d961     RCALL     0x2960                           *(signed char *) va_arg (ap, signed char *) = count;           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00269e   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0026a0   ffef                                                                                                               
0026a2   d00a     BRA       0x26b8                           break;                                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           default:                                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00266c   d979     RCALL     0x2960                           *(int *) va_arg (ap, int *) = count;                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
00266e   cfdb     MOVFF     0xfdb,0xfee                                                                                     
002670   ffee                                                                                                               
002672   0e02     MOVLW     0x2                                                                                             
002674   cfdb     MOVFF     0xfdb,0xfed                                                                                     
002676   ffed                                                                                                               
002960   debd     RCALL     0x26dc                                                                                          
002962   50ee     MOVF      0xee,0x0,0x0                                                                                    
002964   cfef     MOVFF     0xfef,0xfea                                                                                     
002966   ffea                                                                                                               
002968   6ee9     MOVWF     0xe9,0x0                                                                                        
00296a   0e01     MOVLW     0x1                                                                                             
00296c   0012     RETURN    0x0                                                                                             
                                                             break;                                                         C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                           }                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
002678   d01f     BRA       0x26b8                       break;                                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       default:                                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         /* undefined behaviour. we do nothing */                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                         break;                                                             C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                       }                                                                    C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                   }                                                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                 else                                                                       C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                   {                                                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0026a4   d979     RCALL     0x2998                   if (putc (c, handle) == EOF)                                           C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0026a6   e105     BNZ       0x26b2                                                                                          
0026a8   1c2c     COMF      0x2c,0x0,0x0                                                                                    
0026aa   e103     BNZ       0x26b2                                                                                          
0026f8   ec5e     CALL      0x6ebc,0x0                                                                                      
0026fa   f037                                                                                                               
0026fc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0026fe   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002700   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002702   cff3     MOVFF     0xff3,0x2b                                                                                      
002704   f02b                                                                                                               
002706   cff4     MOVFF     0xff4,0x2c                                                                                      
002708   f02c                                                                                                               
00270a   0100     MOVLB     0x0                                                                                             
00270c   1cf3     COMF      0xf3,0x0,0x0                                                                                    
00270e   0012     RETURN    0x0                                                                                             
00293e   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
002940   ffe6                                                                                                               
002942   ef7c     GOTO      0x26f8                                                                                          
002944   f013                                                                                                               
002998   df8b     RCALL     0x28b0                                                                                          
00299a   ef9f     GOTO      0x293e                                                                                          
00299c   f014                                                                                                               
0026ac   68f3     SETF      0xf3,0x0                   return EOF;                                                          C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0026ae   68f4     SETF      0xf4,0x0                                                                                        
0026b0   d010     BRA       0x26d2                                                                                          
0026b2   d8fa     RCALL     0x28a8                   ++count;                                                               C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0026b4   e301     BNC       0x26b8                                                                                          
0026b6   2adb     INCF      0xdb,0x1,0x0                                                                                    
0028a8   0e01     MOVLW     0x1                                                                                             
0028aa   2adb     INCF      0xdb,0x1,0x0                                                                                    
0028ac   0e02     MOVLW     0x2                                                                                             
0028ae   0012     RETURN    0x0                                                                                             
                                                   }                                                                        C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                               }                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0026be   0e01     MOVLW     0x1              return count;                                                                  C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0026c0   cfdb     MOVFF     0xfdb,0x2b                                                                                      
0026c2   f02b                                                                                                               
0026c4   0e02     MOVLW     0x2                                                                                             
0026c6   cfdb     MOVFF     0xfdb,0x2c                                                                                      
0026c8   f02c                                                                                                               
0026ca   c02b     MOVFF     0x2b,0xff3                                                                                      
0026cc   fff3                                                                                                               
0026ce   c02c     MOVFF     0x2c,0xff4                                                                                      
0026d0   fff4                                                                                                               
0026d2   cfd9     MOVFF     0xfd9,0xfe1    }                                                                                C:\mcc18\src\TRADIT~1\stdclib\vfprintf.c
0026d4   ffe1                                                                                                               
0026d6   cfda     MOVFF     0xfda,0xfe2                                                                                     
0026d8   ffe2                                                                                                               
0026da   d0cb     BRA       0x2872                                                                                          
                                           #include "P18CXXX.INC"                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                                   LIST                                                                     C:\MCC18\MPASM\P18CXXX.INC
                                           ; P18CXXX.INC  Standard Header File, Version 1.00   Microchip Technology, Inc.   C:\MCC18\MPASM\P18CXXX.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                           ; P18C452.INC  Standard Header File, Version 0.12   Microchip Technology, Inc.   C:\MCC18\MPASM\P18C452.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C242                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C242.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F242                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F242.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F248                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F248.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C252                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C252.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F252                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F252.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F258                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F258.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C442                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C442.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F442                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F442.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F448                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F448.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C452                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C452.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F452                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F452.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F458                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F458.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C601                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C601.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C658                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C658.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C801                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C801.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C858                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C858.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6720                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6720.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8720                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8720.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2439                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2439.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2539                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2539.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4439                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4439.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4539                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4539.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6621                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6621.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8621                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8621.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2331                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2331.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2431                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2431.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4331                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4331.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4431                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4431.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2515                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2515.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2610                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2610.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4515                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4515.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4610                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4610.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6490                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6490.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8490                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8490.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2681                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2681.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4681                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4681.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2510                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2510.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4510                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4510.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2455                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2455.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2550                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2550.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4455                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4455.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4550                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4550.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2420                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2420.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4420                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4420.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2480                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2480.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2580                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2580.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4480                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4480.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4580                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4580.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6310                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6310.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6390                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6390.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8310                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8310.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8390                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8390.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6627                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6627.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6722                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6722.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8627                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8627.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8722                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8722.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F64J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F64J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F67J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F67J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F84J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F84J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F87J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F87J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                           #include "P18MACRO.INC"                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                           ; $Id: p18macro.inc,v 1.1 2003/12/16 21:50:10 GrosbaJ Exp $                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;==========================================================================      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;                                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;         MACROS                                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;                                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;==========================================================================      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   LIST                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           StkSetPtrToOffset macro Ptr,Offset                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Set pointer Ptr to argument in stack frame at Offset.                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
00726c   0eff     MOVLW     0xff                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
00726e   24e1     ADDWF     0xe1,0x0,0x0             addwf     FSR1L,W,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007270   6ee9     MOVWF     0xe9,0x0                 movwf     Ptr,ACCESS                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007272   0eff     MOVLW     0xff                     movlw     HIGH(Offset&0xFFFF)                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007274   20e2     ADDWFC    0xe2,0x0,0x0             addwfc    FSR1H,W,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007276   6eea     MOVWF     0xea,0x0                 movwf     Ptr+1                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           StkPushPtrToOffset macro Offset                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Push pointer onto stack to point to Offset location in stack.                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Offset defined before push.                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     FSR1L,W,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movwf     INDF1,ACCESS                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     HIGH(Offset&0xFFFF)                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    FSR1H,W,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movwf     PREINC1,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTINC1,F,ACCESS     ; increment FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           StkAddStackPtr macro N                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add N to FSR1                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(N)                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     FSR1L,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     HIGH(N&0xFFFF)                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    FSR1H,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PushFromFSR0 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get one byte from FSR0 and push on stack.  FSR0, WREG unchanged.             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     INDF0,POSTINC1                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PushFromFSR0 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get two bytes from FSR0 and push on stack. FSR0, WREG unchanged.             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PushFromFSR0 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get three bytes from FSR0 and push on stack. FSR0, WREG unchanged.           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PushFromFSR2 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get one byte from FSR2 and push on stack.  FSR2, WREG unchanged.             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     INDF2,POSTINC1                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PushFromFSR2 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get two bytes from FSR2 and push on stack. FSR2, WREG unchanged.             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC2,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PushFromFSR2 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get three bytes from FSR2 and push on stack. FSR2, WREG unchanged.           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC2,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PushFromReg macro Reg                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get one byte from Reg and push on stack.  WREG unchanged.                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,POSTINC1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PushFromReg macro Reg                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get two bytes from Reg and push on stack.  WREG unchanged.                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,POSTINC1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+1,POSTINC1                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PushFromReg macro Reg                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get three bytes from Reg and push on stack.  WREG unchanged.                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,POSTINC1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+1,POSTINC1                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+2,POSTINC1                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PopToFSR0 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop one byte from stack and put it at FSR0 without exposing stack.           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR0 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,INDF0                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PopToFSR0 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop two bytes from stack and put them at FSR0 without exposing stack.        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR0 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFE                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PopToFSR0 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop three bytes from stack and put them at FSR0 without exposing stack.      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR0 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFD                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFE                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS     ; restore FSR0                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PopToFSR2 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop one byte from stack and put it at FSR2 without exposing stack.           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,INDF2                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PopToFSR2 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop two bytes from stack and put them at FSR2 without exposing stack.        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFE                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PopToFSR2 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop three bytes from stack and put them at FSR2 without exposing stack.      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFD                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFE                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS     ; restore FSR2                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PopToReg macro Reg                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop one byte from stack and put it at Reg without exposing stack.            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed.                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Ptr                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PopToReg macro Reg                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop two bytes from stack and put them at Reg without exposing stack.         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed.                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg+1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PopToReg macro Reg                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop three bytes from stack and put them at Reg without exposing stack.       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed.                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg+2                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg+1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from stack frame at Offset to FSR0                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR0 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,INDF0                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from stack frame at Offset to FSR0                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR0 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+1)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from stack frame at Offset to FSR2                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,INDF2                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from stack frame at Offset to FSR2                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+1)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4CpyToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy four bytes from stack frame at Offset to FSR2                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+1)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+2)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+3)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyToReg macro Offset,Reg                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from stack frame at Offset to Reg                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyToReg macro Offset,Reg                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from stack frame at Offset to Reg                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+1)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg+1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3CpyToReg macro Offset,Reg                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy three bytes from stack frame at Offset to Reg                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+1)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg+1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+2)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg+2                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyFromFSR0 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from FSR0 to stack frame at Offset                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     INDF0,PLUSW1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyFromFSR0 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from FSR0 to stack frame at Offset                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3CpyFromFSR0 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy three bytes from FSR0 to stack frame at Offset                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4CpyFromFSR0 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy four bytes from FSR0 to stack frame at Offset                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyFromFSR2 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from FSR2 to stack frame at Offset                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     INDF2,PLUSW1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyFromFSR2 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from FSR2 to stack frame at Offset                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4CpyFromFSR2 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy four bytes from FSR2 to stack frame at Offset                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyFromReg macro Reg,Offset                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from Reg to stack frame at Offset                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,PLUSW1                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyFromReg macro Reg,Offset                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from Reg to stack frame at Offset                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,PLUSW1                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+1,PLUSW1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3CpyFromReg macro Reg,Offset                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy three bytes from Reg to stack frame at Offset                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,PLUSW1                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+1,PLUSW1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+2,PLUSW1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1Inc macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Increment byte in stack at Offset                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2Inc macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Increment 2 bytes in stack at Offset                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   btfsc     STATUS,Z                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3Inc macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Increment 3 bytes in stack at Offset                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local jEnd                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jEnd:                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1Dec macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Decrement byte in stack at Offset                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2Dec macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Decrement 2 bytes in stack at Offset                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local jEnd                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bc        jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jEnd:                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3Dec macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Decrement 3 bytes in stack at Offset                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local jEnd                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bc        jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bc        jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jEnd:                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1TestForZero macro Offset,jZero                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Test 1 byte at Offset.  Branch if zero.  Returns 0 in WREG if zero.          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bz        jZero                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2TestForZero macro Offset,jZero                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Test 2 bytes at Offset.  Branch if zero.  Returns 0 in WREG if zero.         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local     jContinue                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jContinue                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bz        jZero                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jContinue                                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3TestForZero macro Offset,jZero                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Test 3 bytes at Offset.  Branch if zero.  Returns 0 in WREG if zero.         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local     jContinue                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jContinue                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jContinue                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bz        jZero                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jContinue                                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1AddToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 1 byte in stack at Offset to byte at FSR0. Pointer FSR0 unchanged.       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     INDF0,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2AddToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 2 bytes in stack at Offset to 2 bytes at FSR0.  Pointer FSR0 unchanged.  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3AddToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 3 bytes in stack at Offset to 3 bytes at FSR0.  Pointer FSR0 unchanged.  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4AddToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 4 bytes in stack at Offset to 4 bytes at FSR0. Pointer FSR0 unchanged.   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1AddToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 1 byte in stack at Offset to byte at FSR2. Pointer FSR2 unchanged.       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     INDF2,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2AddToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 2 bytes in stack at Offset to 2 bytes at FSR2.  Pointer FSR2 unchanged.  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3AddToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 3 bytes in stack at Offset to 3 bytes at FSR2.  Pointer FSR2 unchanged.  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4AddToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 4 bytes in stack at Offset to 4 bytes at FSR2. Pointer FSR2 unchanged.   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1ShiftLeft macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Shift left 1 byte in stack at Offset                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bcf       STATUS,C                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2ShiftLeft macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Shift left 2 bytes in stack at Offset                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bcf       STATUS,C                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4ShiftLeft macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Shift left 4 bytes in stack at Offset                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bcf       STATUS,C                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1Negate macro Offset                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Negate 1 byte in stack at Offset                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2Negate macro Offset                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Negate 2 bytesin stack at Offset                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     btfsc     STATUS,Z                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4Negate macro Offset                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Negate 4 bytes in stack at Offset                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local jEnd                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jEnd:                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1NegateFSR2 macro                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Negate 1 byte at FSR2.  FSR2 unchanged.                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      INDF2,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      INDF2,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2NegateFSR2 macro                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Negate 2 bytes at FSR2.  FSR2 unchanged.                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      INDF2,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     btfsc     STATUS,Z                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      INDF2,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;====== These branches are short ==============                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpWeqZ macro   Label        ; jmp if W == 0                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   movf      WREG,F,ACCESS                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bz        Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     endm                                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpWneZ macro   Label        ; jmp if W != 0                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   tstfsz    WREG,ACCESS                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bra       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     endm                                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFeqZ macro   Reg,Acc,Label                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   movf      Reg,F,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bz        Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFneZ macro   Reg,Acc,Label                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   movf      Reg,F,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bnz       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFeqL macro   Reg,Acc,bVal,Label                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     bVal                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     subwf     Reg,W,Acc                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bz        Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFneL macro   Reg,Acc,bVal,Label                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     bVal                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     subwf     Reg,W,Acc                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bnz       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFleL macro   Reg,Acc,bVal,Label                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
00727c   0e2f     MOVLW     0x2f                     movlw     bVal                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
00727e   64ef     CPFSGT    0xef,0x0                 cpfsgt    Reg,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007280   d004     BRA       0x728a                 bra       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFgeL macro   Reg,Acc,bVal,Label                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007282   0e3a     MOVLW     0x3a                     movlw     bVal                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007284   60ef     CPFSLT    0xef,0x0                 cpfslt    Reg,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007286   d001     BRA       0x728a                 bra       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFeqF macro   Reg1,Acc1,Reg2,Acc2,Label                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      Reg1,W,Acc1                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     subwf     Reg2,W,Acc2                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bz        Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFneF macro   Reg1,Acc1,Reg2,Acc2,Label                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      Reg1,W,Acc1                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     subwf     Reg2,W,Acc2                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bnz       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpClr  macro Reg,Bit,Acc,Label                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   btfss   Reg,Bit,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bra       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpSet  macro Reg,Bit,Acc,Label                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   btfsc   Reg,Bit,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bra       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                           ; @name isdigit                                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                           ;The {\bf isdigit} function tests the value of {\bf c} to determine if it        C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                           ;is a digit character. A digit character is defined as any decimal digit         C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                           ;character (0, 1, 2, 3, 4, 5, 6, 7, 8, 9).                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                           ;                                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                           ; int isdigit (int c);                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                           CTYPE CODE                                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                           isdigit                                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                             global isdigit                                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                           ; Proceedure: Use FSR0 as pointer to 'c'                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                           ;         Return with result in PROD                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                             ; Clear out result                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
007268   6af3     CLRF      0xf3,0x0                 clrf      PRODL, ACCESS                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
00726a   6af4     CLRF      0xf4,0x0       	  clrf      PRODH, ACCESS                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                           	                                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                             ; Set FSR0 = FSR1 - 2 ( location of 'c')                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                                     StkSetPtrToOffset FSR0L,-1                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
007278   66ed     TSTFSZ    0xed,0x0                 tstfsz    POSTDEC0,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
00727a   d007     BRA       0x728a                   bra       jNoMatch            ; upper byte must be 0 to match          C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                             ; Test for condition                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                                     jmpFleL   INDF0,ACCESS,'0'-1,jNoMatch                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                                     jmpFgeL   INDF0,ACCESS,'9'+1,jNoMatch                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                           jMatch:                                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
007288   2af3     INCF      0xf3,0x1,0x0             incf      PRODL,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                           jNoMatch:                                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
00728a   0012     RETURN    0x0                      return                                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                             end                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\isdigit.asm
                                           #include <stdio.h>                                                               C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                           int _user_putc (char c);                                                         C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                           int _usart_putc (char c);                                                        C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                           int                                                                              C:\mcc18\src\TRADIT~1\stdclib\putc.c
006ebc   cfd9     MOVFF     0xfd9,0xfe6    putc (char c, FILE * f)                                                          C:\mcc18\src\TRADIT~1\stdclib\putc.c
006ebe   ffe6                                                                                                               
006ec0   cfda     MOVFF     0xfda,0xfe6                                                                                     
006ec2   ffe6                                                                                                               
006ec4   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
006ec6   ffd9                                                                                                               
006ec8   cfe2     MOVFF     0xfe2,0xfda                                                                                     
006eca   ffda                                                                                                               
                                           {                                                                                C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                             /* if the handle > 0 then it's a pointer to a string buffer address.           C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                                specifically, a pointer to a pointer referencing the next available         C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                                byte in the buffer, to which the character will be stored. */               C:\mcc18\src\TRADIT~1\stdclib\putc.c
006ecc   0efb     MOVLW     0xfb             if ((int) f >= 0)                                                              C:\mcc18\src\TRADIT~1\stdclib\putc.c
006ece   cfdb     MOVFF     0xfdb,0x2b                                                                                      
006ed0   f02b                                                                                                               
006ed2   0efc     MOVLW     0xfc                                                                                            
006ed4   cfdb     MOVFF     0xfdb,0x2c                                                                                      
006ed6   f02c                                                                                                               
006ed8   0100     MOVLB     0x0                                                                                             
006eda   0e80     MOVLW     0x80                                                                                            
006edc   142c     ANDWF     0x2c,0x0,0x0                                                                                    
006ede   e11a     BNZ       0x6f14                                                                                          
006ee0   0efb     MOVLW     0xfb               return (unsigned char) (*(*(char **) f)++ = c);                              C:\mcc18\src\TRADIT~1\stdclib\putc.c
006ee2   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
006ee4   ffe9                                                                                                               
006ee6   0efc     MOVLW     0xfc                                                                                            
006ee8   cfdb     MOVFF     0xfdb,0xfea                                                                                     
006eea   ffea                                                                                                               
006eec   cfee     MOVFF     0xfee,0xff3                                                                                     
006eee   fff3                                                                                                               
006ef0   cfed     MOVFF     0xfed,0xff4                                                                                     
006ef2   fff4                                                                                                               
006ef4   2aee     INCF      0xee,0x1,0x0                                                                                    
006ef6   0e00     MOVLW     0x0                                                                                             
006ef8   22ef     ADDWFC    0xef,0x1,0x0                                                                                    
006efa   cff3     MOVFF     0xff3,0xfe9                                                                                     
006efc   ffe9                                                                                                               
006efe   cff4     MOVFF     0xff4,0xfea                                                                                     
006f00   ffea                                                                                                               
006f02   0efd     MOVLW     0xfd                                                                                            
006f04   cfdb     MOVFF     0xfdb,0xfef                                                                                     
006f06   ffef                                                                                                               
006f08   50ef     MOVF      0xef,0x0,0x0                                                                                    
006f0a   6a2c     CLRF      0x2c,0x0                                                                                        
006f0c   6ef3     MOVWF     0xf3,0x0                                                                                        
006f0e   c02c     MOVFF     0x2c,0xff4                                                                                      
006f10   fff4                                                                                                               
006f12   d010     BRA       0x6f34                                                                                          
                                                                                                                            C:\mcc18\src\TRADIT~1\stdclib\putc.c
006f14   0efb     MOVLW     0xfb             if ((signed char) f == (signed char) _H_USART)                                 C:\mcc18\src\TRADIT~1\stdclib\putc.c
006f16   50db     MOVF      0xdb,0x0,0x0                                                                                    
006f18   08fe     SUBLW     0xfe                                                                                            
006f1a   e106     BNZ       0x6f28                                                                                          
                                               {                                                                            C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                                 /* the invocation of the USART function is direct, as it's our             C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                                    default value and we want it to work without needing any                C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                                    direct initialization from the user */                                  C:\mcc18\src\TRADIT~1\stdclib\putc.c
006f1c   0efd     MOVLW     0xfd                 return _usart_putc (c);                                                    C:\mcc18\src\TRADIT~1\stdclib\putc.c
006f1e   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
006f20   ffe6                                                                                                               
006f22   ec66     CALL      0x72cc,0x0                                                                                      
006f24   f039                                                                                                               
006f26   d005     BRA       0x6f32                                                                                          
                                               }                                                                            C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                             else                                                                           C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                               {                                                                            C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                                 /* the invocation of the user function is direct, not via a                C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                                    function pointer. We just put an empty definition of the                C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                                    function in the library and if the user specifies their own             C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                                    version it will be found first and the library definition will          C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                                    be ignored. We do it this way because it's generally better to          C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                                    spend 2 bytes of program memory for the RETURN instruction of           C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                                    the empty function than three bytes of data memory for the              C:\mcc18\src\TRADIT~1\stdclib\putc.c
                                                    function pointer. */                                                    C:\mcc18\src\TRADIT~1\stdclib\putc.c
006f28   0efd     MOVLW     0xfd                 return _user_putc (c);                                                     C:\mcc18\src\TRADIT~1\stdclib\putc.c
006f2a   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
006f2c   ffe6                                                                                                               
006f2e   ec9d     CALL      0x653a,0x0                                                                                      
006f30   f032                                                                                                               
006f32   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            C:\mcc18\src\TRADIT~1\stdclib\putc.c
006f34   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\mcc18\src\TRADIT~1\stdclib\putc.c
006f36   cfe5     MOVFF     0xfe5,0xfda                                                                                     
006f38   ffda                                                                                                               
006f3a   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
006f3c   ffd9                                                                                                               
006f3e   0012     RETURN    0x0                                                                                             
                                             include <P18CXXX.INC>                                                          C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                                   LIST                                                                     C:\MCC18\MPASM\P18CXXX.INC
                                           ; P18CXXX.INC  Standard Header File, Version 1.00   Microchip Technology, Inc.   C:\MCC18\MPASM\P18CXXX.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18F8722.INC
                                                                                                                            C:\MCC18\MPASM\P18F8722.INC
                                           ;==========================================================================      C:\MCC18\MPASM\P18F8722.INC
                                           ;  $Id: P18F8722.INC,v 1.2 2004/10/06 22:25:07 curtiss Exp $                     C:\MCC18\MPASM\P18F8722.INC
                                           ;  MPASM PIC18F8722 processor include                                            C:\MCC18\MPASM\P18F8722.INC
                                           ;                                                                                C:\MCC18\MPASM\P18F8722.INC
                                           ;  (c) Copyright 1999-2004 Microchip Technology, All rights reserved             C:\MCC18\MPASM\P18F8722.INC
                                           ;==========================================================================      C:\MCC18\MPASM\P18F8722.INC
                                                                                                                            C:\MCC18\MPASM\P18F8722.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18F8722.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F64J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F64J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F67J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F67J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F84J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F84J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F87J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F87J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                           #ifdef __18F1220                                                                 C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                           #define __USE_PORTB 1                                                            C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                           #endif                                                                           C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                           #ifdef __18F1320                                                                 C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                           #define __USE_PORTB 1                                                            C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                           #endif                                                                           C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                             GLOBAL _usart_putc                                                             C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                           STDIO CODE                                                                       C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                           _usart_putc                                                                      C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
0072cc   0eff     MOVLW     0xff                         MOVLW     0xff                                                     C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
0072ce   50e3     MOVF      0xe3,0x0,0x0                 MOVF      PLUSW1, w                                                C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
0072d0   baac     BTFSC     0xac,0x5,0x0                 BTFSC     TXSTA, 0x5                                               C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
0072d2   d004     BRA       0x72dc                       BRA       loop                                                     C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
0072d4   6aaf     CLRF      0xaf,0x0                     CLRF      SPBRG                                                    C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
0072d6   8eab     BSF       0xab,0x7,0x0                 BSF       RCSTA, 0x7                                               C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
0072d8   8aac     BSF       0xac,0x5,0x0                 BSF       TXSTA, 0x5                                               C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                           #ifdef __USE_PORTB                                                               C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                                         BCF       TRISB, 0x1                                               C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                           #else                                                                            C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
0072da   9c94     BCF       0x94,0x6,0x0                 BCF       TRISC, 0x6                                               C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                           #endif                                                                           C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
0072dc   a2ac     BTFSS     0xac,0x1,0x0   loop:         BTFSS     TXSTA, 0x1                                               C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
0072de   d7fe     BRA       0x72dc                       BRA       loop                                                     C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
0072e0   6ead     MOVWF     0xad,0x0                     MOVWF     TXREG                                                    C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
0072e2   6ef3     MOVWF     0xf3,0x0                     MOVWF     PRODL                                                    C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
0072e4   6af4     CLRF      0xf4,0x0                     CLRF      PRODL + 1                                                C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
0072e6   0012     RETURN    0x0                          RETURN                                                             C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                               END                                                                          C:\MCC18\SRC\TRADIT~1\PMC\USART\_usartpc.asm
                                           ; $Id: strlen.asm,v 1.1 2003/12/09 22:53:20 GrosbaJ Exp $                        C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           #include "P18CXXX.INC"                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                                   LIST                                                                     C:\MCC18\MPASM\P18CXXX.INC
                                           ; P18CXXX.INC  Standard Header File, Version 1.00   Microchip Technology, Inc.   C:\MCC18\MPASM\P18CXXX.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                           ; P18C452.INC  Standard Header File, Version 0.12   Microchip Technology, Inc.   C:\MCC18\MPASM\P18C452.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C242                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C242.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F242                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F242.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F248                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F248.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C252                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C252.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F252                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F252.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F258                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F258.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C442                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C442.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F442                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F442.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F448                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F448.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C452                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C452.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F452                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F452.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F458                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F458.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C601                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C601.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C658                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C658.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C801                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C801.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C858                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C858.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6720                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6720.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8720                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8720.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2439                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2439.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2539                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2539.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4439                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4439.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4539                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4539.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6621                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6621.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8621                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8621.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2331                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2331.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2431                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2431.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4331                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4331.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4431                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4431.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2515                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2515.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2610                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2610.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4515                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4515.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4610                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4610.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6490                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6490.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8490                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8490.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2681                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2681.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4681                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4681.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2510                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2510.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4510                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4510.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2455                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2455.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2550                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2550.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4455                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4455.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4550                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4550.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2420                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2420.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4420                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4420.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2480                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2480.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2580                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2580.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4480                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4480.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4580                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4580.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6310                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6310.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6390                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6390.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8310                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8310.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8390                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8390.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6627                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6627.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6722                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6722.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8627                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8627.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8722                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8722.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F64J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F64J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F67J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F67J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F84J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F84J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F87J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F87J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                           #include "P18MACRO.INC"                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           ; $Id: p18macro.inc,v 1.1 2003/12/16 21:50:10 GrosbaJ Exp $                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;==========================================================================      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;                                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;         MACROS                                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;                                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;==========================================================================      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   LIST                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           StkSetPtrToOffset macro Ptr,Offset                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Set pointer Ptr to argument in stack frame at Offset.                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     FSR1L,W,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movwf     Ptr,ACCESS                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     HIGH(Offset&0xFFFF)                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    FSR1H,W,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movwf     Ptr+1                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           StkPushPtrToOffset macro Offset                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Push pointer onto stack to point to Offset location in stack.                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Offset defined before push.                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     FSR1L,W,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movwf     INDF1,ACCESS                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     HIGH(Offset&0xFFFF)                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    FSR1H,W,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movwf     PREINC1,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTINC1,F,ACCESS     ; increment FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           StkAddStackPtr macro N                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add N to FSR1                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(N)                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     FSR1L,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     HIGH(N&0xFFFF)                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    FSR1H,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PushFromFSR0 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get one byte from FSR0 and push on stack.  FSR0, WREG unchanged.             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     INDF0,POSTINC1                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PushFromFSR0 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get two bytes from FSR0 and push on stack. FSR0, WREG unchanged.             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PushFromFSR0 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get three bytes from FSR0 and push on stack. FSR0, WREG unchanged.           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PushFromFSR2 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get one byte from FSR2 and push on stack.  FSR2, WREG unchanged.             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     INDF2,POSTINC1                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PushFromFSR2 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get two bytes from FSR2 and push on stack. FSR2, WREG unchanged.             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC2,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PushFromFSR2 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get three bytes from FSR2 and push on stack. FSR2, WREG unchanged.           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC2,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PushFromReg macro Reg                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get one byte from Reg and push on stack.  WREG unchanged.                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,POSTINC1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PushFromReg macro Reg                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get two bytes from Reg and push on stack.  WREG unchanged.                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,POSTINC1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+1,POSTINC1                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PushFromReg macro Reg                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get three bytes from Reg and push on stack.  WREG unchanged.                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,POSTINC1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+1,POSTINC1                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+2,POSTINC1                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PopToFSR0 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop one byte from stack and put it at FSR0 without exposing stack.           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR0 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,INDF0                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PopToFSR0 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop two bytes from stack and put them at FSR0 without exposing stack.        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR0 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFE                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PopToFSR0 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop three bytes from stack and put them at FSR0 without exposing stack.      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR0 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFD                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFE                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS     ; restore FSR0                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PopToFSR2 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop one byte from stack and put it at FSR2 without exposing stack.           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,INDF2                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PopToFSR2 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop two bytes from stack and put them at FSR2 without exposing stack.        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFE                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PopToFSR2 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop three bytes from stack and put them at FSR2 without exposing stack.      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFD                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFE                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS     ; restore FSR2                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PopToReg macro Reg                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop one byte from stack and put it at Reg without exposing stack.            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed.                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Ptr                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PopToReg macro Reg                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop two bytes from stack and put them at Reg without exposing stack.         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed.                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg+1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PopToReg macro Reg                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop three bytes from stack and put them at Reg without exposing stack.       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed.                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg+2                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg+1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from stack frame at Offset to FSR0                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR0 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,INDF0                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from stack frame at Offset to FSR0                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR0 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+1)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from stack frame at Offset to FSR2                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,INDF2                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from stack frame at Offset to FSR2                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+1)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4CpyToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy four bytes from stack frame at Offset to FSR2                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+1)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+2)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+3)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyToReg macro Offset,Reg                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from stack frame at Offset to Reg                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyToReg macro Offset,Reg                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from stack frame at Offset to Reg                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007018   0efe     MOVLW     0xfe                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
00701a   cfe3     MOVFF     0xfe3,0xfe9              movff     PLUSW1,Reg                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
00701c   ffe9                                                                                                               
00701e   0eff     MOVLW     0xff                     movlw     LOW(Offset+1)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007020   cfe3     MOVFF     0xfe3,0xfea              movff     PLUSW1,Reg+1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007022   ffea                                                                                                               
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3CpyToReg macro Offset,Reg                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy three bytes from stack frame at Offset to Reg                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+1)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg+1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+2)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg+2                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyFromFSR0 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from FSR0 to stack frame at Offset                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     INDF0,PLUSW1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyFromFSR0 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from FSR0 to stack frame at Offset                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3CpyFromFSR0 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy three bytes from FSR0 to stack frame at Offset                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4CpyFromFSR0 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy four bytes from FSR0 to stack frame at Offset                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyFromFSR2 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from FSR2 to stack frame at Offset                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     INDF2,PLUSW1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyFromFSR2 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from FSR2 to stack frame at Offset                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4CpyFromFSR2 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy four bytes from FSR2 to stack frame at Offset                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyFromReg macro Reg,Offset                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from Reg to stack frame at Offset                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,PLUSW1                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyFromReg macro Reg,Offset                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from Reg to stack frame at Offset                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,PLUSW1                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+1,PLUSW1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3CpyFromReg macro Reg,Offset                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy three bytes from Reg to stack frame at Offset                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,PLUSW1                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+1,PLUSW1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+2,PLUSW1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1Inc macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Increment byte in stack at Offset                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2Inc macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Increment 2 bytes in stack at Offset                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   btfsc     STATUS,Z                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3Inc macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Increment 3 bytes in stack at Offset                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local jEnd                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jEnd:                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1Dec macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Decrement byte in stack at Offset                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2Dec macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Decrement 2 bytes in stack at Offset                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local jEnd                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bc        jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jEnd:                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3Dec macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Decrement 3 bytes in stack at Offset                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local jEnd                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bc        jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bc        jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jEnd:                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1TestForZero macro Offset,jZero                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Test 1 byte at Offset.  Branch if zero.  Returns 0 in WREG if zero.          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bz        jZero                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2TestForZero macro Offset,jZero                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Test 2 bytes at Offset.  Branch if zero.  Returns 0 in WREG if zero.         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local     jContinue                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jContinue                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bz        jZero                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jContinue                                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3TestForZero macro Offset,jZero                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Test 3 bytes at Offset.  Branch if zero.  Returns 0 in WREG if zero.         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local     jContinue                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jContinue                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jContinue                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bz        jZero                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jContinue                                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1AddToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 1 byte in stack at Offset to byte at FSR0. Pointer FSR0 unchanged.       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     INDF0,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2AddToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 2 bytes in stack at Offset to 2 bytes at FSR0.  Pointer FSR0 unchanged.  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3AddToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 3 bytes in stack at Offset to 3 bytes at FSR0.  Pointer FSR0 unchanged.  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4AddToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 4 bytes in stack at Offset to 4 bytes at FSR0. Pointer FSR0 unchanged.   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1AddToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 1 byte in stack at Offset to byte at FSR2. Pointer FSR2 unchanged.       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     INDF2,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2AddToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 2 bytes in stack at Offset to 2 bytes at FSR2.  Pointer FSR2 unchanged.  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3AddToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 3 bytes in stack at Offset to 3 bytes at FSR2.  Pointer FSR2 unchanged.  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4AddToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 4 bytes in stack at Offset to 4 bytes at FSR2. Pointer FSR2 unchanged.   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1ShiftLeft macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Shift left 1 byte in stack at Offset                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bcf       STATUS,C                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2ShiftLeft macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Shift left 2 bytes in stack at Offset                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bcf       STATUS,C                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4ShiftLeft macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Shift left 4 bytes in stack at Offset                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bcf       STATUS,C                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1Negate macro Offset                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Negate 1 byte in stack at Offset                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2Negate macro Offset                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Negate 2 bytesin stack at Offset                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     btfsc     STATUS,Z                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4Negate macro Offset                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Negate 4 bytes in stack at Offset                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local jEnd                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jEnd:                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1NegateFSR2 macro                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Negate 1 byte at FSR2.  FSR2 unchanged.                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      INDF2,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      INDF2,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2NegateFSR2 macro                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Negate 2 bytes at FSR2.  FSR2 unchanged.                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      INDF2,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     btfsc     STATUS,Z                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      INDF2,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;====== These branches are short ==============                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpWeqZ macro   Label        ; jmp if W == 0                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   movf      WREG,F,ACCESS                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bz        Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     endm                                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpWneZ macro   Label        ; jmp if W != 0                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   tstfsz    WREG,ACCESS                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bra       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     endm                                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFeqZ macro   Reg,Acc,Label                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   movf      Reg,F,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bz        Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFneZ macro   Reg,Acc,Label                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   movf      Reg,F,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bnz       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFeqL macro   Reg,Acc,bVal,Label                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     bVal                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     subwf     Reg,W,Acc                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bz        Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFneL macro   Reg,Acc,bVal,Label                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     bVal                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     subwf     Reg,W,Acc                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bnz       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFleL macro   Reg,Acc,bVal,Label                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     bVal                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     cpfsgt    Reg,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bra       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFgeL macro   Reg,Acc,bVal,Label                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     bVal                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     cpfslt    Reg,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bra       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFeqF macro   Reg1,Acc1,Reg2,Acc2,Label                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      Reg1,W,Acc1                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     subwf     Reg2,W,Acc2                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bz        Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFneF macro   Reg1,Acc1,Reg2,Acc2,Label                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      Reg1,W,Acc1                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     subwf     Reg2,W,Acc2                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bnz       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpClr  macro Reg,Bit,Acc,Label                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   btfss   Reg,Bit,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bra       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpSet  macro Reg,Bit,Acc,Label                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   btfsc   Reg,Bit,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bra       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           ; @name strlen                                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           ;``The {\bf strlen} function computes the length of the string pointed           C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           ;to by {\bf s}.''                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           ;Stack usage: 2 bytes. Re-entrant.                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           ;@param s pointer to the string                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           ;@return ``The {\bf strlen} function returns the number of characters            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           ;that precede the terminating null character.''                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           ;                                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           ; size_t strlen (const char *s);                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           STRING CODE                                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           strlen                                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                             global strlen                                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           ; Proceedure: Use FSR0 for 's' and use PROD for 'n'.                             C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                             ; Load FSR0 by copying 's' off stack into FSR0.                                C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                                     Stk2CpyToReg -2,FSR0L                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                             ; Clear PROD                                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
007024   6af3     CLRF      0xf3,0x0                 clrf      PRODL,ACCESS                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
007026   6af4     CLRF      0xf4,0x0                 clrf      PRODH,ACCESS                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                             ; Scan for '\0' while counting.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           jLoop:                                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                             ; Test for '\0'                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
007028   52ee     MOVF      0xee,0x1,0x0             movf      POSTINC0,F,ACCESS   ; set Z flag                             C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
00702a   e003     BZ        0x7032                   bz        jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                             ; Count it                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
00702c   4af3     INFSNZ    0xf3,0x1,0x0   	  infsnz    PRODL, F, ACCESS                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
00702e   2af4     INCF      0xf4,0x1,0x0   	  incf      PRODH, F, ACCESS                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
007030   d7fb     BRA       0x7028                   bra       jLoop                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           jEnd                                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
007032   0012     RETURN    0x0                      return                                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                             end                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\strlen.asm
                                           ; $Id: slenpgm.asm,v 1.3 2004/04/01 17:25:11 kuhrtt Exp $                        C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           #include "P18CXXX.INC"                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                   LIST                                                                     C:\MCC18\MPASM\P18CXXX.INC
                                           ; P18CXXX.INC  Standard Header File, Version 1.00   Microchip Technology, Inc.   C:\MCC18\MPASM\P18CXXX.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                           ; P18C452.INC  Standard Header File, Version 0.12   Microchip Technology, Inc.   C:\MCC18\MPASM\P18C452.INC
                                                   LIST                                                                     C:\MCC18\MPASM\P18C452.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C242                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C242.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F242                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F242.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F248                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F248.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C252                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C252.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F252                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F252.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F258                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F258.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C442                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C442.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F442                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F442.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F448                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F448.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C452                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C452.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F452                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F452.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F458                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F458.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C601                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C601.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C658                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C658.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C801                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C801.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18C858                                                                 C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18C858.INC>                                                       C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F1320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F1320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4220                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4220.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4320                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4320.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6720                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6720.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8720                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8720.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2439                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2439.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2539                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2539.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4439                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4439.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4539                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4539.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6621                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6621.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8621                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8621.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2331                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2331.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2431                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2431.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4331                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4331.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4431                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4431.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2515                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2515.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2610                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2610.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4515                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4515.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4525                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4525.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4610                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4610.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4620                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4620.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6490                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6490.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8490                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8490.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2681                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2681.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4585                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4585.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4680                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4680.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4681                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4681.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2510                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2510.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4510                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4510.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4520                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4520.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2455                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2455.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2550                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2550.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4455                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4455.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4550                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4550.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2420                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2420.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4410                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4410.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4420                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4420.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2480                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2480.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F2580                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F2580.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4480                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4480.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F4580                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F4580.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6310                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6310.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6390                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6390.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8310                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8310.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8390                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8390.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6627                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6627.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F6722                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F6722.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8627                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8627.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F8722                                                                C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F8722.INC>                                                      C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F64J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F64J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F65J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F65J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F66J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F66J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F67J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F67J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F84J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F84J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F85J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F85J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F86J15                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F86J15.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                             IFDEF __18F87J10                                                               C:\MCC18\MPASM\P18CXXX.INC
                                                INCLUDE <P18F87J10.INC>                                                     C:\MCC18\MPASM\P18CXXX.INC
                                             ENDIF                                                                          C:\MCC18\MPASM\P18CXXX.INC
                                           #include "P18MACRO.INC"                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           ; $Id: p18macro.inc,v 1.1 2003/12/16 21:50:10 GrosbaJ Exp $                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;==========================================================================      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;                                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;         MACROS                                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;                                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;==========================================================================      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   LIST                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           StkSetPtrToOffset macro Ptr,Offset                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Set pointer Ptr to argument in stack frame at Offset.                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     FSR1L,W,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movwf     Ptr,ACCESS                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     HIGH(Offset&0xFFFF)                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    FSR1H,W,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movwf     Ptr+1                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           StkPushPtrToOffset macro Offset                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Push pointer onto stack to point to Offset location in stack.                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Offset defined before push.                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     FSR1L,W,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movwf     INDF1,ACCESS                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     HIGH(Offset&0xFFFF)                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    FSR1H,W,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movwf     PREINC1,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTINC1,F,ACCESS     ; increment FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           StkAddStackPtr macro N                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add N to FSR1                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(N)                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     FSR1L,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     HIGH(N&0xFFFF)                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    FSR1H,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PushFromFSR0 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get one byte from FSR0 and push on stack.  FSR0, WREG unchanged.             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     INDF0,POSTINC1                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PushFromFSR0 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get two bytes from FSR0 and push on stack. FSR0, WREG unchanged.             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PushFromFSR0 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get three bytes from FSR0 and push on stack. FSR0, WREG unchanged.           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PushFromFSR2 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get one byte from FSR2 and push on stack.  FSR2, WREG unchanged.             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     INDF2,POSTINC1                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PushFromFSR2 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get two bytes from FSR2 and push on stack. FSR2, WREG unchanged.             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC2,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PushFromFSR2 macro                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get three bytes from FSR2 and push on stack. FSR2, WREG unchanged.           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC2,POSTINC1                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PushFromReg macro Reg                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get one byte from Reg and push on stack.  WREG unchanged.                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,POSTINC1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PushFromReg macro Reg                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get two bytes from Reg and push on stack.  WREG unchanged.                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,POSTINC1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+1,POSTINC1                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PushFromReg macro Reg                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Get three bytes from Reg and push on stack.  WREG unchanged.                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,POSTINC1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+1,POSTINC1                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+2,POSTINC1                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PopToFSR0 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop one byte from stack and put it at FSR0 without exposing stack.           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR0 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,INDF0                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PopToFSR0 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop two bytes from stack and put them at FSR0 without exposing stack.        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR0 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFE                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PopToFSR0 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop three bytes from stack and put them at FSR0 without exposing stack.      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR0 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFD                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFE                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS     ; restore FSR0                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PopToFSR2 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop one byte from stack and put it at FSR2 without exposing stack.           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,INDF2                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PopToFSR2 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop two bytes from stack and put them at FSR2 without exposing stack.        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFE                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PopToFSR2 macro                                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop three bytes from stack and put them at FSR2 without exposing stack.      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFD                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFE                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS     ; restore FSR2                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1PopToReg macro Reg                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop one byte from stack and put it at Reg without exposing stack.            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed.                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Ptr                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2PopToReg macro Reg                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop two bytes from stack and put them at Reg without exposing stack.         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed.                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg+1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3PopToReg macro Reg                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Pop three bytes from stack and put them at Reg without exposing stack.       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed.                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007034   0eff     MOVLW     0xff                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007036   cfe3     MOVFF     0xfe3,0xff8              movff     PLUSW1,Reg+2                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007038   fff8                                                                                                               
00703a   52e5     MOVF      0xe5,0x1,0x0             movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
00703c   0eff     MOVLW     0xff                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
00703e   cfe3     MOVFF     0xfe3,0xff7              movff     PLUSW1,Reg+1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007040   fff7                                                                                                               
007042   52e5     MOVF      0xe5,0x1,0x0             movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007044   0eff     MOVLW     0xff                     movlw     0xFF                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007046   cfe3     MOVFF     0xfe3,0xff6              movff     PLUSW1,Reg                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007048   fff6                                                                                                               
00704a   52e5     MOVF      0xe5,0x1,0x0             movf      POSTDEC1,F,ACCESS     ; decrement FSR1                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from stack frame at Offset to FSR0                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR0 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,INDF0                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from stack frame at Offset to FSR0                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR0 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+1)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC0                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from stack frame at Offset to FSR2                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,INDF2                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from stack frame at Offset to FSR2                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+1)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4CpyToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy four bytes from stack frame at Offset to FSR2                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; WREG changed, FSR2 unchanged.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+1)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+2)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTINC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+3)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,POSTDEC2                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyToReg macro Offset,Reg                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from stack frame at Offset to Reg                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyToReg macro Offset,Reg                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from stack frame at Offset to Reg                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset+1)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     PLUSW1,Reg+1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3CpyToReg macro Offset,Reg                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy three bytes from stack frame at Offset to Reg                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
00706a   0efd     MOVLW     0xfd                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
00706c   cfe3     MOVFF     0xfe3,0x1c               movff     PLUSW1,Reg                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
00706e   f01c                                                                                                               
007070   0efe     MOVLW     0xfe                     movlw     LOW(Offset+1)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007072   cfe3     MOVFF     0xfe3,0x1d               movff     PLUSW1,Reg+1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007074   f01d                                                                                                               
007076   0eff     MOVLW     0xff                     movlw     LOW(Offset+2)                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007078   cfe3     MOVFF     0xfe3,0x1e               movff     PLUSW1,Reg+2                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
00707a   f01e                                                                                                               
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyFromFSR0 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from FSR0 to stack frame at Offset                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     INDF0,PLUSW1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyFromFSR0 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from FSR0 to stack frame at Offset                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3CpyFromFSR0 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy three bytes from FSR0 to stack frame at Offset                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4CpyFromFSR0 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy four bytes from FSR0 to stack frame at Offset                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC0,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyFromFSR2 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from FSR2 to stack frame at Offset                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     INDF2,PLUSW1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyFromFSR2 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from FSR2 to stack frame at Offset                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4CpyFromFSR2 macro Offset                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy four bytes from FSR2 to stack frame at Offset                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTINC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     POSTDEC2,PLUSW1                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1CpyFromReg macro Reg,Offset                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy one byte from Reg to stack frame at Offset                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     LOW(Offset)                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,PLUSW1                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2CpyFromReg macro Reg,Offset                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy two bytes from Reg to stack frame at Offset                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,PLUSW1                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+1,PLUSW1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3CpyFromReg macro Reg,Offset                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Copy three bytes from Reg to stack frame at Offset                           C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg,PLUSW1                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+1,PLUSW1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movff     Reg+2,PLUSW1                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1Inc macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Increment byte in stack at Offset                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2Inc macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Increment 2 bytes in stack at Offset                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   btfsc     STATUS,Z                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3Inc macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Increment 3 bytes in stack at Offset                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local jEnd                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007058   0efd     MOVLW     0xfd                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
00705a   2ae3     INCF      0xe3,0x1,0x0             incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
00705c   e105     BNZ       0x7068                   bnz       jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
00705e   0efe     MOVLW     0xfe                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007060   2ae3     INCF      0xe3,0x1,0x0             incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007062   e102     BNZ       0x7068                   bnz       jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007064   0eff     MOVLW     0xff                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
007066   2ae3     INCF      0xe3,0x1,0x0             incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jEnd:                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1Dec macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Decrement byte in stack at Offset                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2Dec macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Decrement 2 bytes in stack at Offset                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local jEnd                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bc        jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jEnd:                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3Dec macro Offset                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Decrement 3 bytes in stack at Offset                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local jEnd                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bc        jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bc        jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jEnd:                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1TestForZero macro Offset,jZero                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Test 1 byte at Offset.  Branch if zero.  Returns 0 in WREG if zero.          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bz        jZero                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2TestForZero macro Offset,jZero                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Test 2 bytes at Offset.  Branch if zero.  Returns 0 in WREG if zero.         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local     jContinue                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jContinue                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bz        jZero                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jContinue                                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3TestForZero macro Offset,jZero                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Test 3 bytes at Offset.  Branch if zero.  Returns 0 in WREG if zero.         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local     jContinue                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jContinue                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jContinue                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bz        jZero                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jContinue                                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1AddToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 1 byte in stack at Offset to byte at FSR0. Pointer FSR0 unchanged.       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     INDF0,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2AddToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 2 bytes in stack at Offset to 2 bytes at FSR0.  Pointer FSR0 unchanged.  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3AddToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 3 bytes in stack at Offset to 3 bytes at FSR0.  Pointer FSR0 unchanged.  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4AddToFSR0 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 4 bytes in stack at Offset to 4 bytes at FSR0. Pointer FSR0 unchanged.   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC0,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1AddToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 1 byte in stack at Offset to byte at FSR2. Pointer FSR2 unchanged.       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     INDF2,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2AddToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 2 bytes in stack at Offset to 2 bytes at FSR2.  Pointer FSR2 unchanged.  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk3AddToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 3 bytes in stack at Offset to 3 bytes at FSR2.  Pointer FSR2 unchanged.  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4AddToFSR2 macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Add 4 bytes in stack at Offset to 4 bytes at FSR2. Pointer FSR2 unchanged.   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwf     POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      PLUSW1,W,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     addwfc    POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1ShiftLeft macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Shift left 1 byte in stack at Offset                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bcf       STATUS,C                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2ShiftLeft macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Shift left 2 bytes in stack at Offset                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bcf       STATUS,C                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4ShiftLeft macro Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Shift left 4 bytes in stack at Offset                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bcf       STATUS,C                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     rlcf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1Negate macro Offset                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Negate 1 byte in stack at Offset                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2Negate macro Offset                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Negate 2 bytesin stack at Offset                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     btfsc     STATUS,Z                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk4Negate macro Offset                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Negate 4 bytes in stack at Offset                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     local jEnd                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+1                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+2                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     bnz       jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     Offset+3                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      PLUSW1,F,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jEnd:                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk1NegateFSR2 macro                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Negate 1 byte at FSR2.  FSR2 unchanged.                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      INDF2,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      INDF2,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           Stk2NegateFSR2 macro                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                             ; Negate 2 bytes at FSR2.  FSR2 unchanged.                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      INDF2,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     incf      POSTINC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     btfsc     STATUS,Z                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     decf      INDF2,F,ACCESS                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     comf      POSTDEC2,F,ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                            endm                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           ;====== These branches are short ==============                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpWeqZ macro   Label        ; jmp if W == 0                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   movf      WREG,F,ACCESS                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bz        Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     endm                                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpWneZ macro   Label        ; jmp if W != 0                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   tstfsz    WREG,ACCESS                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bra       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     endm                                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFeqZ macro   Reg,Acc,Label                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   movf      Reg,F,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bz        Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFneZ macro   Reg,Acc,Label                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   movf      Reg,F,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bnz       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFeqL macro   Reg,Acc,bVal,Label                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     bVal                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     subwf     Reg,W,Acc                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bz        Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFneL macro   Reg,Acc,bVal,Label                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     bVal                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     subwf     Reg,W,Acc                                                    C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bnz       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFleL macro   Reg,Acc,bVal,Label                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     bVal                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     cpfsgt    Reg,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bra       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFgeL macro   Reg,Acc,bVal,Label                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movlw     bVal                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     cpfslt    Reg,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bra       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFeqF macro   Reg1,Acc1,Reg2,Acc2,Label                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      Reg1,W,Acc1                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     subwf     Reg2,W,Acc2                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bz        Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpFneF macro   Reg1,Acc1,Reg2,Acc2,Label                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     movf      Reg1,W,Acc1                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                     subwf     Reg2,W,Acc2                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bnz       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpClr  macro Reg,Bit,Acc,Label                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   btfss   Reg,Bit,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bra       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                           jmpSet  macro Reg,Bit,Acc,Label                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   btfsc   Reg,Bit,Acc                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   bra       Label                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                   endm                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\P18MACRO.INC
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           ; @name strlenpgm                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           ;``The {\bf strlenpgm} function computes the length of the string pointed        C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           ;to by {\bf s}.''                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           ;@param s pointer to the string                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           ;@return ``The {\bf strlenpgm} function returns the number of characters         C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           ;that precede the terminating null character.''                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           ;                                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           ; sizerom_t strlenpgm (const rom char *s);                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                             extern AARGB2                                                                  C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           STRING CODE                                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           strlenpgm                                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                             global strlenpgm                                                               C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           #ifdef __SMALL__                                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                            messg "strlenpgm - SMALL"                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           ; Procedure: Use TBLPTR for 's' and create 'n' on stack.  Return 'n' in          C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           ; AARGB0:AARGB1:AARGB2.                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                             ; Load TBLPTR by POPing 's' off stack.                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                     Stk2PopToReg TBLPTRL                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                     clrf      POSTDEC1,ACCESS    ; provide extra byte below stack          C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                             ; Push 3 bytes of 0 onto stack. This is initial value of 'n'.                  C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                     clrf      POSTINC1,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                     clrf      POSTINC1,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                     clrf      POSTINC1,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                             ; Scan for '\0' while counting.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           jLoop:                                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                             ; Test for '\0'                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                     tblrd     *+                  ; read & increment                       C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                     movf      TABLAT, F, ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                     bz        jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                             ; Count it                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                     Stk3Inc   -3                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                     bra       jLoop                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           jEnd                                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                     Stk3CpyToReg -3, AARGB2                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                     return                                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           #else                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           #ifdef __LARGE__                                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                            messg "strlenpgm - LARGE"                                                       C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           ; Procedure: Use TBLPTR for 's' and create 'n' on stack.  Return 'n' in          C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           ; AARGB0:AARGB1:AARGB2.                                                          C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                             ; Load TBLPTR by POPing 's' off stack.                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                     Stk3PopToReg TBLPTRL                                                   C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                             ; Push 3 bytes of 0 onto stack. This is initial value of 'n'.                  C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
00704c   6ae6     CLRF      0xe6,0x0                 clrf      POSTINC1,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
00704e   6ae6     CLRF      0xe6,0x0                 clrf      POSTINC1,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
007050   6ae6     CLRF      0xe6,0x0                 clrf      POSTINC1,ACCESS                                              C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                             ; Scan for '\0' while counting.                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           jLoop:                                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                             ; Test for '\0'                                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
007052   0009     TBLRDPOSTINC                       tblrd     *+                  ; read & increment                       C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
007054   52f5     MOVF      0xf5,0x1,0x0             movf      TABLAT, F, ACCESS                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
007056   e009     BZ        0x706a                   bz        jEnd                                                         C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                             ; Count it                                                                     C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                     Stk3Inc   -3                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
007068   d7f4     BRA       0x7052                   bra       jLoop                                                        C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           jEnd                                                                             C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                     Stk3CpyToReg -3, AARGB2                                                C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
00707c   0012     RETURN    0x0                      return                                                                 C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           #else                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                            error "No Model Specified"                                                      C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           #endif                                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                           #endif                                                                           C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                             end                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\STDCLIB\slenpgm.asm
